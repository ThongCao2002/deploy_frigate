import{u as v,I as w,o as e,k as c,H as h,d as g,A as y}from"./index-1b1f5707.js";import{b as l,e as a,T as o,a as m,c as s,d as u}from"./Table-024ade0a.js";import{L as x}from"./Link-0ea49822.js";import{a as f}from"./About-5c887223.js";const T=Object.freeze({});function q(){const{data:p}=v("recordings/storage"),{value:{payload:N}}=w("stats"),{data:b}=v("stats"),{service:r}=N||b||T;if(!r||!p)return e(y,{});const d=i=>isNaN(i)||i<0?"Invalid number":i<1024?`${i} MiB`:`${(i/1024).toFixed(2)} GiB`;let n;return r&&r.storage["/media/frigate/recordings"].total!=r.storage["/media/frigate/clips"].total?n=e(c,{children:[e(l,{children:[e(a,{children:"Recordings"}),e(a,{children:d(r.storage["/media/frigate/recordings"].used)}),e(a,{children:d(r.storage["/media/frigate/recordings"].total)})]}),e(l,{children:[e(a,{children:"Snapshots"}),e(a,{children:d(r.storage["/media/frigate/clips"].used)}),e(a,{children:d(r.storage["/media/frigate/clips"].total)})]})]}):n=e(c,{children:e(l,{children:[e(a,{children:"Video và hình chụp"}),e(a,{children:d(r.storage["/media/frigate/recordings"].used)}),e(a,{children:d(r.storage["/media/frigate/recordings"].total)})]})}),e("div",{className:"space-y-4 p-2 px-4",children:[e(h,{children:"Lưu trữ"}),e(c,{children:[e(h,{size:"lg",children:"Tổng quan"}),e("div",{"data-testid":"overview-types",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{className:"dark:bg-gray-800 shadow-md hover:shadow-lg rounded-lg transition-shadow",children:[e("div",{className:"flex justify-start",children:[e("div",{className:"text-lg flex justify-between p-4",children:"Dữ liệu"}),e(g,{className:"rounded-full",type:"text",color:"gray","aria-label":"Tổng quan về dung lượng lưu trữ đã sử dụng và tổng dung lượng của các ổ đĩa chứa thư mục ghi hình và ảnh chụp.",children:e(f,{className:"w-5"})})]}),e("div",{className:"p-2",children:e(o,{className:"w-full",children:[e(m,{children:e(l,{children:[e(s,{children:"Vị trí"}),e(s,{children:"Đã sử dụng"}),e(s,{children:"Tổng"})]})}),e(u,{children:n})]})})]}),e("div",{className:"dark:bg-gray-800 shadow-md hover:shadow-lg rounded-lg transition-shadow",children:[e("div",{className:"flex justify-start",children:[e("div",{className:"text-lg flex justify-between p-4",children:"Bộ nhớ"}),e(g,{className:"rounded-full",type:"text",color:"gray","aria-label":"Tổng quan về bộ nhớ đã sử dụng và tổng bộ nhớ của tiến trình hệ thống.",children:e(f,{className:"w-5"})})]}),e("div",{className:"p-2",children:e(o,{className:"w-full",children:[e(m,{children:e(l,{children:[e(s,{children:"Vị trí"}),e(s,{children:"Đã sử dụng"}),e(s,{children:"Tổng"})]})}),e(u,{children:[e(l,{children:[e(a,{children:"/dev/shm"}),e(a,{children:d(r.storage["/dev/shm"].used)}),e(a,{children:d(r.storage["/dev/shm"].total)})]}),e(l,{children:[e(a,{children:"/tmp/cache"}),e(a,{children:d(r.storage["/tmp/cache"].used)}),e(a,{children:d(r.storage["/tmp/cache"].total)})]})]})]})})]})]}),e("div",{className:"flex justify-start",children:[e(h,{size:"lg",children:"Cameras"}),e(g,{className:"rounded-full",type:"text",color:"gray","aria-label":"Tổng quan dung lượng sử dụng và băng thông của từng camera.",children:e(f,{className:"w-5"})})]}),e("div",{"data-testid":"detectors",className:"grid grid-cols-1 3xl:grid-cols-3 md:grid-cols-2 gap-4",children:Object.entries(p).map(([i,t])=>e("div",{className:"dark:bg-gray-800 shadow-md hover:shadow-lg rounded-lg transition-shadow",children:[e("div",{className:"capitalize text-lg flex justify-between p-4",children:e(x,{href:`/cameras/${i}`,children:i.replaceAll("_"," ")})}),e("div",{className:"p-2",children:e(o,{className:"w-full",children:[e(m,{children:e(l,{children:[e(s,{children:"Sử dụng"}),e(s,{children:"Băng thông Stream"})]})}),e(u,{children:e(l,{children:[e(a,{children:[Math.round(t.usage_percent??0),"%"]}),e(a,{children:t.bandwidth?`${d(t.bandwidth)}/hr`:"Calculating..."})]})})]})})]},i))})]})]})}export{q as default};
