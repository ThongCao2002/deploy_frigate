function N3(e,n){for(var i=0;i<n.length;i++){const l=n[i];if(typeof l!="string"&&!Array.isArray(l)){for(const f in l)if(f!=="default"&&!(f in e)){const m=Object.getOwnPropertyDescriptor(l,f);m&&Object.defineProperty(e,f,m.get?m:{enumerable:!0,get:()=>l[f]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const m of f)if(m.type==="childList")for(const a of m.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function i(f){const m={};return f.integrity&&(m.integrity=f.integrity),f.referrerPolicy&&(m.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?m.credentials="include":f.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function l(f){if(f.ep)return;f.ep=!0;const m=i(f);fetch(f.href,m)}})();var Rp,Me,e2,El,bg,r2,G1,n2,Du={},i2=[],U3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Of=Array.isArray;function as(e,n){for(var i in n)e[i]=n[i];return e}function o2(e){var n=e.parentNode;n&&n.removeChild(e)}function Ue(e,n,i){var l,f,m,a={};for(m in n)m=="key"?l=n[m]:m=="ref"?f=n[m]:a[m]=n[m];if(arguments.length>2&&(a.children=arguments.length>3?Rp.call(arguments,2):i),typeof e=="function"&&e.defaultProps!=null)for(m in e.defaultProps)a[m]===void 0&&(a[m]=e.defaultProps[m]);return op(e,a,l,f,null)}function op(e,n,i,l,f){var m={type:e,props:n,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:f??++e2};return f==null&&Me.vnode!=null&&Me.vnode(m),m}function Bm(){return{current:null}}function en(e){return e.children}function xo(e,n){this.props=e,this.context=n}function vp(e,n){if(n==null)return e.__?vp(e.__,e.__.__k.indexOf(e)+1):null;for(var i;n<e.__k.length;n++)if((i=e.__k[n])!=null&&i.__e!=null)return i.__d||i.__e;return typeof e.type=="function"?vp(e):null}function a2(e){var n,i;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((i=e.__k[n])!=null&&i.__e!=null){e.__e=e.__c.base=i.__e;break}return a2(e)}}function X1(e){(!e.__d&&(e.__d=!0)&&El.push(e)&&!hf.__r++||bg!==Me.debounceRendering)&&((bg=Me.debounceRendering)||r2)(hf)}function hf(){var e,n,i,l,f,m,a,x,b;for(El.sort(G1);e=El.shift();)e.__d&&(n=El.length,l=void 0,f=void 0,m=void 0,x=(a=(i=e).__v).__e,(b=i.__P)&&(l=[],f=[],(m=as({},a)).__v=a.__v+1,Fm(b,a,m,i.__n,b.ownerSVGElement!==void 0,a.__h!=null?[x]:null,l,x??vp(a),a.__h,f),c2(l,a,f),a.__e!=x&&a2(a)),El.length>n&&El.sort(G1));hf.__r=0}function s2(e,n,i,l,f,m,a,x,b,P,M){var k,N,G,U,H,it,et,dt,st,at=0,yt=l&&l.__k||i2,Ct=yt.length,xt=Ct,Vt=n.length;for(i.__k=[],k=0;k<Vt;k++)(U=i.__k[k]=(U=n[k])==null||typeof U=="boolean"||typeof U=="function"?null:typeof U=="string"||typeof U=="number"||typeof U=="bigint"?op(null,U,null,null,U):Of(U)?op(en,{children:U},null,null,null):U.__b>0?op(U.type,U.props,U.key,U.ref?U.ref:null,U.__v):U)!=null?(U.__=i,U.__b=i.__b+1,(dt=V3(U,yt,et=k+at,xt))===-1?G=Du:(G=yt[dt]||Du,yt[dt]=void 0,xt--),Fm(e,U,G,f,m,a,x,b,P,M),H=U.__e,(N=U.ref)&&G.ref!=N&&(G.ref&&Nm(G.ref,null,U),M.push(N,U.__c||H,U)),H!=null&&(it==null&&(it=H),(st=G===Du||G.__v===null)?dt==-1&&at--:dt!==et&&(dt===et+1?at++:dt>et?xt>Vt-et?at+=dt-et:at--:at=dt<et&&dt==et-1?dt-et:0),et=k+at,typeof U.type!="function"||dt===et&&G.__k!==U.__k?typeof U.type=="function"||dt===et&&!st?U.__d!==void 0?(b=U.__d,U.__d=void 0):b=H.nextSibling:b=u2(e,H,b):b=l2(U,b,e),typeof i.type=="function"&&(i.__d=b))):(G=yt[k])&&G.key==null&&G.__e&&(G.__e==b&&(G.__=l,b=vp(G)),K1(G,G,!1),yt[k]=null);for(i.__e=it,k=Ct;k--;)yt[k]!=null&&(typeof i.type=="function"&&yt[k].__e!=null&&yt[k].__e==i.__d&&(i.__d=yt[k].__e.nextSibling),K1(yt[k],yt[k]))}function l2(e,n,i){for(var l,f=e.__k,m=0;f&&m<f.length;m++)(l=f[m])&&(l.__=e,n=typeof l.type=="function"?l2(l,n,i):u2(i,l.__e,n));return n}function aa(e,n){return n=n||[],e==null||typeof e=="boolean"||(Of(e)?e.some(function(i){aa(i,n)}):n.push(e)),n}function u2(e,n,i){return i==null||i.parentNode!==e?e.insertBefore(n,null):n==i&&n.parentNode!=null||e.insertBefore(n,i),n.nextSibling}function V3(e,n,i,l){var f=e.key,m=e.type,a=i-1,x=i+1,b=n[i];if(b===null||b&&f==b.key&&m===b.type)return i;if(l>(b!=null?1:0))for(;a>=0||x<n.length;){if(a>=0){if((b=n[a])&&f==b.key&&m===b.type)return a;a--}if(x<n.length){if((b=n[x])&&f==b.key&&m===b.type)return x;x++}}return-1}function j3(e,n,i,l,f){var m;for(m in i)m==="children"||m==="key"||m in n||ff(e,m,null,i[m],l);for(m in n)f&&typeof n[m]!="function"||m==="children"||m==="key"||m==="value"||m==="checked"||i[m]===n[m]||ff(e,m,n[m],i[m],l)}function xg(e,n,i){n[0]==="-"?e.setProperty(n,i??""):e[n]=i==null?"":typeof i!="number"||U3.test(n)?i:i+"px"}function ff(e,n,i,l,f){var m;t:if(n==="style")if(typeof i=="string")e.style.cssText=i;else{if(typeof l=="string"&&(e.style.cssText=l=""),l)for(n in l)i&&n in i||xg(e.style,n,"");if(i)for(n in i)l&&i[n]===l[n]||xg(e.style,n,i[n])}else if(n[0]==="o"&&n[1]==="n")m=n!==(n=n.replace(/(PointerCapture)$|Capture$/,"$1")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+m]=i,i?l?i.u=l.u:(i.u=Date.now(),e.addEventListener(n,m?Cg:wg,m)):e.removeEventListener(n,m?Cg:wg,m);else if(n!=="dangerouslySetInnerHTML"){if(f)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="width"&&n!=="height"&&n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n!=="rowSpan"&&n!=="colSpan"&&n!=="role"&&n in e)try{e[n]=i??"";break t}catch{}typeof i=="function"||(i==null||i===!1&&n[4]!=="-"?e.removeAttribute(n):e.setAttribute(n,i))}}function wg(e){var n=this.l[e.type+!1];if(e.t){if(e.t<=n.u)return}else e.t=Date.now();return n(Me.event?Me.event(e):e)}function Cg(e){return this.l[e.type+!0](Me.event?Me.event(e):e)}function Fm(e,n,i,l,f,m,a,x,b,P){var M,k,N,G,U,H,it,et,dt,st,at,yt,Ct,xt,Vt,Dt=n.type;if(n.constructor!==void 0)return null;i.__h!=null&&(b=i.__h,x=n.__e=i.__e,n.__h=null,m=[x]),(M=Me.__b)&&M(n);t:if(typeof Dt=="function")try{if(et=n.props,dt=(M=Dt.contextType)&&l[M.__c],st=M?dt?dt.props.value:M.__:l,i.__c?it=(k=n.__c=i.__c).__=k.__E:("prototype"in Dt&&Dt.prototype.render?n.__c=k=new Dt(et,st):(n.__c=k=new xo(et,st),k.constructor=Dt,k.render=Z3),dt&&dt.sub(k),k.props=et,k.state||(k.state={}),k.context=st,k.__n=l,N=k.__d=!0,k.__h=[],k._sb=[]),k.__s==null&&(k.__s=k.state),Dt.getDerivedStateFromProps!=null&&(k.__s==k.state&&(k.__s=as({},k.__s)),as(k.__s,Dt.getDerivedStateFromProps(et,k.__s))),G=k.props,U=k.state,k.__v=n,N)Dt.getDerivedStateFromProps==null&&k.componentWillMount!=null&&k.componentWillMount(),k.componentDidMount!=null&&k.__h.push(k.componentDidMount);else{if(Dt.getDerivedStateFromProps==null&&et!==G&&k.componentWillReceiveProps!=null&&k.componentWillReceiveProps(et,st),!k.__e&&(k.shouldComponentUpdate!=null&&k.shouldComponentUpdate(et,k.__s,st)===!1||n.__v===i.__v)){for(n.__v!==i.__v&&(k.props=et,k.state=k.__s,k.__d=!1),n.__e=i.__e,n.__k=i.__k,n.__k.forEach(function(Bt){Bt&&(Bt.__=n)}),at=0;at<k._sb.length;at++)k.__h.push(k._sb[at]);k._sb=[],k.__h.length&&a.push(k);break t}k.componentWillUpdate!=null&&k.componentWillUpdate(et,k.__s,st),k.componentDidUpdate!=null&&k.__h.push(function(){k.componentDidUpdate(G,U,H)})}if(k.context=st,k.props=et,k.__P=e,k.__e=!1,yt=Me.__r,Ct=0,"prototype"in Dt&&Dt.prototype.render){for(k.state=k.__s,k.__d=!1,yt&&yt(n),M=k.render(k.props,k.state,k.context),xt=0;xt<k._sb.length;xt++)k.__h.push(k._sb[xt]);k._sb=[]}else do k.__d=!1,yt&&yt(n),M=k.render(k.props,k.state,k.context),k.state=k.__s;while(k.__d&&++Ct<25);k.state=k.__s,k.getChildContext!=null&&(l=as(as({},l),k.getChildContext())),N||k.getSnapshotBeforeUpdate==null||(H=k.getSnapshotBeforeUpdate(G,U)),s2(e,Of(Vt=M!=null&&M.type===en&&M.key==null?M.props.children:M)?Vt:[Vt],n,i,l,f,m,a,x,b,P),k.base=n.__e,n.__h=null,k.__h.length&&a.push(k),it&&(k.__E=k.__=null)}catch(Bt){n.__v=null,(b||m!=null)&&(n.__e=x,n.__h=!!b,m[m.indexOf(x)]=null),Me.__e(Bt,n,i)}else m==null&&n.__v===i.__v?(n.__k=i.__k,n.__e=i.__e):n.__e=$3(i.__e,n,i,l,f,m,a,b,P);(M=Me.diffed)&&M(n)}function c2(e,n,i){for(var l=0;l<i.length;l++)Nm(i[l],i[++l],i[++l]);Me.__c&&Me.__c(n,e),e.some(function(f){try{e=f.__h,f.__h=[],e.some(function(m){m.call(f)})}catch(m){Me.__e(m,f.__v)}})}function $3(e,n,i,l,f,m,a,x,b){var P,M,k,N=i.props,G=n.props,U=n.type,H=0;if(U==="svg"&&(f=!0),m!=null){for(;H<m.length;H++)if((P=m[H])&&"setAttribute"in P==!!U&&(U?P.localName===U:P.nodeType===3)){e=P,m[H]=null;break}}if(e==null){if(U===null)return document.createTextNode(G);e=f?document.createElementNS("http://www.w3.org/2000/svg",U):document.createElement(U,G.is&&G),m=null,x=!1}if(U===null)N===G||x&&e.data===G||(e.data=G);else{if(m=m&&Rp.call(e.childNodes),M=(N=i.props||Du).dangerouslySetInnerHTML,k=G.dangerouslySetInnerHTML,!x){if(m!=null)for(N={},H=0;H<e.attributes.length;H++)N[e.attributes[H].name]=e.attributes[H].value;(k||M)&&(k&&(M&&k.__html==M.__html||k.__html===e.innerHTML)||(e.innerHTML=k&&k.__html||""))}if(j3(e,G,N,f,x),k)n.__k=[];else if(s2(e,Of(H=n.props.children)?H:[H],n,i,l,f&&U!=="foreignObject",m,a,m?m[0]:i.__k&&vp(i,0),x,b),m!=null)for(H=m.length;H--;)m[H]!=null&&o2(m[H]);x||("value"in G&&(H=G.value)!==void 0&&(H!==e.value||U==="progress"&&!H||U==="option"&&H!==N.value)&&ff(e,"value",H,N.value,!1),"checked"in G&&(H=G.checked)!==void 0&&H!==e.checked&&ff(e,"checked",H,N.checked,!1))}return e}function Nm(e,n,i){try{typeof e=="function"?e(n):e.current=n}catch(l){Me.__e(l,i)}}function K1(e,n,i){var l,f;if(Me.unmount&&Me.unmount(e),(l=e.ref)&&(l.current&&l.current!==e.__e||Nm(l,null,n)),(l=e.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(m){Me.__e(m,n)}l.base=l.__P=null,e.__c=void 0}if(l=e.__k)for(f=0;f<l.length;f++)l[f]&&K1(l[f],n,i||typeof e.type!="function");i||e.__e==null||o2(e.__e),e.__=e.__e=e.__d=void 0}function Z3(e,n,i){return this.constructor(e,i)}function Uu(e,n,i){var l,f,m,a;Me.__&&Me.__(e,n),f=(l=typeof i=="function")?null:i&&i.__k||n.__k,m=[],a=[],Fm(n,e=(!l&&i||n).__k=Ue(en,null,[e]),f||Du,Du,n.ownerSVGElement!==void 0,!l&&i?[i]:f?null:n.firstChild?Rp.call(n.childNodes):null,m,!l&&i?i:f?f.__e:n.firstChild,l,a),c2(m,e,a)}function p2(e,n){Uu(e,n,p2)}function h2(e,n,i){var l,f,m,a,x=as({},e.props);for(m in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),n)m=="key"?l=n[m]:m=="ref"?f=n[m]:x[m]=n[m]===void 0&&a!==void 0?a[m]:n[m];return arguments.length>2&&(x.children=arguments.length>3?Rp.call(arguments,2):i),op(e.type,x,l||e.key,f||e.ref,null)}function Uo(e,n){var i={__c:n="__cC"+n2++,__:e,Consumer:function(l,f){return l.children(f)},Provider:function(l){var f,m;return this.getChildContext||(f=[],(m={})[n]=this,this.getChildContext=function(){return m},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&f.some(function(x){x.__e=!0,X1(x)})},this.sub=function(a){f.push(a);var x=a.componentWillUnmount;a.componentWillUnmount=function(){f.splice(f.indexOf(a),1),x&&x.call(a)}}),l.children}};return i.Provider.__=i.Consumer.contextType=i}Rp=i2.slice,Me={__e:function(e,n,i,l){for(var f,m,a;n=n.__;)if((f=n.__c)&&!f.__)try{if((m=f.constructor)&&m.getDerivedStateFromError!=null&&(f.setState(m.getDerivedStateFromError(e)),a=f.__d),f.componentDidCatch!=null&&(f.componentDidCatch(e,l||{}),a=f.__d),a)return f.__E=f}catch(x){e=x}throw e}},e2=0,xo.prototype.setState=function(e,n){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=as({},this.state),typeof e=="function"&&(e=e(as({},i),this.props)),e&&as(i,e),e!=null&&this.__v&&(n&&this._sb.push(n),X1(this))},xo.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),X1(this))},xo.prototype.render=en,El=[],r2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,G1=function(e,n){return e.__v.__b-n.__v.__b},hf.__r=0,n2=0;const q3="modulepreload",W3=function(e){return"/BASE_PATH/"+e},Sg={},To=function(n,i,l){if(!i||i.length===0)return n();const f=document.getElementsByTagName("link");return Promise.all(i.map(m=>{if(m=W3(m),m in Sg)return;Sg[m]=!0;const a=m.endsWith(".css"),x=a?'[rel="stylesheet"]':"";if(!!l)for(let M=f.length-1;M>=0;M--){const k=f[M];if(k.href===m&&(!a||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${x}`))return;const P=document.createElement("link");if(P.rel=a?"stylesheet":q3,a||(P.as="script",P.crossOrigin=""),P.href=m,document.head.appendChild(P),a)return new Promise((M,k)=>{P.addEventListener("load",M),P.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})})).then(()=>n()).catch(m=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=m,window.dispatchEvent(a),!a.defaultPrevented)throw m})};async function H3(e,n,i){return(await To(()=>import("./CameraMap-260ffce7.js"),["assets/CameraMap-260ffce7.js","assets/Switch-baac240c.js"])).default}async function G3(e,n,i){return(await To(()=>import("./Camera-2a058ac0.js"),["assets/Camera-2a058ac0.js","assets/AutoUpdatingCameraImage-34b54836.js","assets/JSMpegPlayer-a228c7b4.js","assets/Link-0ea49822.js","assets/Switch-baac240c.js","assets/ButtonsTabbed-6b27be70.js","assets/CameraControlPanel-415968c2.js","assets/ArrowRightDouble-efaefc73.js"])).default}async function X3(e,n,i){return(await To(()=>import("./Camera_V2-827a0a10.js"),["assets/Camera_V2-827a0a10.js","assets/JSMpegPlayer-a228c7b4.js","assets/Link-0ea49822.js","assets/Switch-baac240c.js","assets/AutoUpdatingCameraImage-34b54836.js","assets/Play-5837bbd3.js","assets/video.es-306ef4f3.js","assets/index-aa83c415.js","assets/video-4cf77cdd.css"])).default}async function K3(e,n,i){return(await To(()=>import("./Birdseye-404f7727.js"),["assets/Birdseye-404f7727.js","assets/JSMpegPlayer-a228c7b4.js","assets/CameraControlPanel-415968c2.js","assets/ArrowRightDouble-efaefc73.js"])).default}async function Y3(e,n,i){return(await To(()=>import("./Events-febad79e.js"),["assets/Events-febad79e.js","assets/Link-0ea49822.js","assets/VideoPlayer-101baef2.js","assets/video.es-306ef4f3.js","assets/index-aa83c415.js","assets/video-4cf77cdd.css","assets/Calendar-518770d0.js","assets/ArrowRightDouble-efaefc73.js","assets/ArrowDropup-d791ab70.js","assets/Play-5837bbd3.js","assets/TimeAgo-257a48f4.js","assets/About-5c887223.js"])).default}async function J3(e,n,i){return(await To(()=>import("./Export-c6d98661.js"),[])).default}async function Q3(e,n,i){return(await To(()=>import("./Recording-d4f0e694.js"),["assets/Recording-d4f0e694.js","assets/ArrowDropup-d791ab70.js","assets/Link-0ea49822.js","assets/video.es-306ef4f3.js","assets/index-aa83c415.js","assets/video-4cf77cdd.css","assets/VideoPlayer-101baef2.js"])).default}async function t4(e,n,i){return(await To(()=>import("./System-f02daee6.js"),["assets/System-f02daee6.js","assets/Link-0ea49822.js","assets/Table-024ade0a.js","assets/TimeAgo-257a48f4.js","assets/index-2f918ad2.js","assets/About-5c887223.js"])).default}async function e4(e,n,i){return(await To(()=>import("./Storage-8282c2bf.js"),["assets/Storage-8282c2bf.js","assets/Table-024ade0a.js","assets/Link-0ea49822.js","assets/About-5c887223.js"])).default}async function r4(e,n,i){return(await To(()=>import("./Config-ed26fc91.js").then(f=>f.C),["assets/Config-ed26fc91.js","assets/index-2f918ad2.js","assets/Config-32547663.css"])).default}async function n4(e,n,i){return(await To(()=>import("./Logs-7f56fe10.js"),["assets/Logs-7f56fe10.js","assets/ButtonsTabbed-6b27be70.js","assets/index-2f918ad2.js"])).default}async function i4(e,n,i){return(await To(()=>import("./StyleGuide-8d5e37f2.js"),["assets/StyleGuide-8d5e37f2.js","assets/ArrowDropup-d791ab70.js","assets/Calendar-518770d0.js","assets/ArrowRightDouble-efaefc73.js","assets/Switch-baac240c.js"])).default}async function o4(e,n,i){return(await To(()=>import("./Login-68c1666f.js").then(f=>f.x),["assets/Login-68c1666f.js","assets/index-aa83c415.js"])).default}var us,xn,C1,Eg,Vu=0,f2=[],Qh=[],Tg=Me.__b,Pg=Me.__r,Ig=Me.diffed,Mg=Me.__c,Ag=Me.unmount;function zl(e,n){Me.__h&&Me.__h(xn,e,Vu||n),Vu=0;var i=xn.__H||(xn.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({__V:Qh}),i.__[e]}function $e(e){return Vu=1,Rf(m2,e)}function Rf(e,n,i){var l=zl(us++,2);if(l.t=e,!l.__c&&(l.__=[i?i(n):m2(void 0,n),function(x){var b=l.__N?l.__N[0]:l.__[0],P=l.t(b,x);b!==P&&(l.__N=[P,l.__[1]],l.__c.setState({}))}],l.__c=xn,!xn.u)){var f=function(x,b,P){if(!l.__c.__H)return!0;var M=l.__c.__H.__.filter(function(N){return N.__c});if(M.every(function(N){return!N.__N}))return!m||m.call(this,x,b,P);var k=!1;return M.forEach(function(N){if(N.__N){var G=N.__[0];N.__=N.__N,N.__N=void 0,G!==N.__[0]&&(k=!0)}}),!(!k&&l.__c.props===x)&&(!m||m.call(this,x,b,P))};xn.u=!0;var m=xn.shouldComponentUpdate,a=xn.componentWillUpdate;xn.componentWillUpdate=function(x,b,P){if(this.__e){var M=m;m=void 0,f(x,b,P),m=M}a&&a.call(this,x,b,P)},xn.shouldComponentUpdate=f}return l.__N||l.__}function pr(e,n){var i=zl(us++,3);!Me.__s&&Vm(i.__H,n)&&(i.__=e,i.i=n,xn.__H.__h.push(i))}function Po(e,n){var i=zl(us++,4);!Me.__s&&Vm(i.__H,n)&&(i.__=e,i.i=n,xn.__h.push(i))}function Ae(e){return Vu=5,Cn(function(){return{current:e}},[])}function Dl(e,n,i){Vu=6,Po(function(){return typeof e=="function"?(e(n()),function(){return e(null)}):e?(e.current=n(),function(){return e.current=null}):void 0},i==null?i:i.concat(e))}function Cn(e,n){var i=zl(us++,7);return Vm(i.__H,n)?(i.__V=e(),i.i=n,i.__h=e,i.__V):i.__}function cr(e,n){return Vu=8,Cn(function(){return e},n)}function Mi(e){var n=xn.context[e.__c],i=zl(us++,9);return i.c=e,n?(i.__==null&&(i.__=!0,n.sub(xn)),n.props.value):e.__}function Um(e,n){Me.useDebugValue&&Me.useDebugValue(n?n(e):e)}function a4(e){var n=zl(us++,10),i=$e();return n.__=e,xn.componentDidCatch||(xn.componentDidCatch=function(l,f){n.__&&n.__(l,f),i[1](l)}),[i[0],function(){i[1](void 0)}]}function d2(){var e=zl(us++,11);if(!e.__){for(var n=xn.__v;n!==null&&!n.__m&&n.__!==null;)n=n.__;var i=n.__m||(n.__m=[0,0]);e.__="P"+i[0]+"-"+i[1]++}return e.__}function s4(){for(var e;e=f2.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(tf),e.__H.__h.forEach(Y1),e.__H.__h=[]}catch(n){e.__H.__h=[],Me.__e(n,e.__v)}}Me.__b=function(e){xn=null,Tg&&Tg(e)},Me.__r=function(e){Pg&&Pg(e),us=0;var n=(xn=e.__c).__H;n&&(C1===xn?(n.__h=[],xn.__h=[],n.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=Qh,i.__N=i.i=void 0})):(n.__h.forEach(tf),n.__h.forEach(Y1),n.__h=[],us=0)),C1=xn},Me.diffed=function(e){Ig&&Ig(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(f2.push(n)!==1&&Eg===Me.requestAnimationFrame||((Eg=Me.requestAnimationFrame)||l4)(s4)),n.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==Qh&&(i.__=i.__V),i.i=void 0,i.__V=Qh})),C1=xn=null},Me.__c=function(e,n){n.some(function(i){try{i.__h.forEach(tf),i.__h=i.__h.filter(function(l){return!l.__||Y1(l)})}catch(l){n.some(function(f){f.__h&&(f.__h=[])}),n=[],Me.__e(l,i.__v)}}),Mg&&Mg(e,n)},Me.unmount=function(e){Ag&&Ag(e);var n,i=e.__c;i&&i.__H&&(i.__H.__.forEach(function(l){try{tf(l)}catch(f){n=f}}),i.__H=void 0,n&&Me.__e(n,i.__v))};var kg=typeof requestAnimationFrame=="function";function l4(e){var n,i=function(){clearTimeout(l),kg&&cancelAnimationFrame(n),setTimeout(e)},l=setTimeout(i,100);kg&&(n=requestAnimationFrame(i))}function tf(e){var n=xn,i=e.__c;typeof i=="function"&&(e.__c=void 0,i()),xn=n}function Y1(e){var n=xn;e.__c=e.__(),xn=n}function Vm(e,n){return!e||e.length!==n.length||n.some(function(i,l){return i!==e[l]})}function m2(e,n){return typeof n=="function"?n(e):n}function y2(e,n){for(var i in n)e[i]=n[i];return e}function J1(e,n){for(var i in e)if(i!=="__source"&&!(i in n))return!0;for(var l in n)if(l!=="__source"&&e[l]!==n[l])return!0;return!1}function S1(e,n){return e===n&&(e!==0||1/e==1/n)||e!=e&&n!=n}function _p(e){this.props=e}function In(e,n){function i(f){var m=this.props.ref,a=m==f.ref;return!a&&m&&(m.call?m(null):m.current=null),n?!n(this.props,f)||!a:J1(this.props,f)}function l(f){return this.shouldComponentUpdate=i,Ue(e,f)}return l.displayName="Memo("+(e.displayName||e.name)+")",l.prototype.isReactComponent=!0,l.__f=!0,l}(_p.prototype=new xo).isPureReactComponent=!0,_p.prototype.shouldComponentUpdate=function(e,n){return J1(this.props,e)||J1(this.state,n)};var Og=Me.__b;Me.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Og&&Og(e)};var u4=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function rn(e){function n(i){var l=y2({},i);return delete l.ref,e(l,i.ref||null)}return n.$$typeof=u4,n.render=n,n.prototype.isReactComponent=n.__f=!0,n.displayName="ForwardRef("+(e.displayName||e.name)+")",n}var Rg=function(e,n){return e==null?null:aa(aa(e).map(n))},$s={map:Rg,forEach:Rg,count:function(e){return e?aa(e).length:0},only:function(e){var n=aa(e);if(n.length!==1)throw"Children.only";return n[0]},toArray:aa},c4=Me.__e;Me.__e=function(e,n,i,l){if(e.then){for(var f,m=n;m=m.__;)if((f=m.__c)&&f.__c)return n.__e==null&&(n.__e=i.__e,n.__k=i.__k),f.__c(e,n)}c4(e,n,i,l)};var zg=Me.unmount;function g2(e,n,i){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(l){typeof l.__c=="function"&&l.__c()}),e.__c.__H=null),(e=y2({},e)).__c!=null&&(e.__c.__P===i&&(e.__c.__P=n),e.__c=null),e.__k=e.__k&&e.__k.map(function(l){return g2(l,n,i)})),e}function v2(e,n,i){return e&&i&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(l){return v2(l,n,i)}),e.__c&&e.__c.__P===n&&(e.__e&&i.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=i)),e}function ap(){this.__u=0,this.t=null,this.__b=null}function _2(e){var n=e.__.__c;return n&&n.__a&&n.__a(e)}function b2(e){var n,i,l;function f(m){if(n||(n=e()).then(function(a){i=a.default||a},function(a){l=a}),l)throw l;if(!i)throw n;return Ue(i,m)}return f.displayName="Lazy",f.__f=!0,f}function Ru(){this.u=null,this.o=null}Me.unmount=function(e){var n=e.__c;n&&n.__R&&n.__R(),n&&e.__h===!0&&(e.type=null),zg&&zg(e)},(ap.prototype=new xo).__c=function(e,n){var i=n.__c,l=this;l.t==null&&(l.t=[]),l.t.push(i);var f=_2(l.__v),m=!1,a=function(){m||(m=!0,i.__R=null,f?f(x):x())};i.__R=a;var x=function(){if(!--l.__u){if(l.state.__a){var P=l.state.__a;l.__v.__k[0]=v2(P,P.__c.__P,P.__c.__O)}var M;for(l.setState({__a:l.__b=null});M=l.t.pop();)M.forceUpdate()}},b=n.__h===!0;l.__u++||b||l.setState({__a:l.__b=l.__v.__k[0]}),e.then(a,a)},ap.prototype.componentWillUnmount=function(){this.t=[]},ap.prototype.render=function(e,n){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),l=this.__v.__k[0].__c;this.__v.__k[0]=g2(this.__b,i,l.__O=l.__P)}this.__b=null}var f=n.__a&&Ue(en,null,e.fallback);return f&&(f.__h=null),[Ue(en,null,n.__a?null:e.children),f]};var Dg=function(e,n,i){if(++i[1]===i[0]&&e.o.delete(n),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(i=e.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;e.u=i=i[2]}};function p4(e){return this.getChildContext=function(){return e.context},e.children}function h4(e){var n=this,i=e.i;n.componentWillUnmount=function(){Uu(null,n.l),n.l=null,n.i=null},n.i&&n.i!==i&&n.componentWillUnmount(),n.l||(n.i=i,n.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(l){this.childNodes.push(l),n.i.appendChild(l)},insertBefore:function(l,f){this.childNodes.push(l),n.i.appendChild(l)},removeChild:function(l){this.childNodes.splice(this.childNodes.indexOf(l)>>>1,1),n.i.removeChild(l)}}),Uu(Ue(p4,{context:n.context},e.__v),n.l)}function Ju(e,n){var i=Ue(h4,{__v:e,i:n});return i.containerInfo=n,i}(Ru.prototype=new xo).__a=function(e){var n=this,i=_2(n.__v),l=n.o.get(e);return l[0]++,function(f){var m=function(){n.props.revealOrder?(l.push(f),Dg(n,e,l)):f()};i?i(m):m()}},Ru.prototype.render=function(e){this.u=null,this.o=new Map;var n=aa(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&n.reverse();for(var i=n.length;i--;)this.o.set(n[i],this.u=[1,0,this.u]);return e.children},Ru.prototype.componentDidUpdate=Ru.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(n,i){Dg(e,i,n)})};var x2=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,f4=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,d4=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,m4=/[A-Z0-9]/g,y4=typeof document<"u",g4=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function w2(e,n,i){return n.__k==null&&(n.textContent=""),Uu(e,n),typeof i=="function"&&i(),e?e.__c:null}function C2(e,n,i){return p2(e,n),typeof i=="function"&&i(),e?e.__c:null}xo.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(xo.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(n){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:n})}})});var Lg=Me.event;function v4(){}function _4(){return this.cancelBubble}function b4(){return this.defaultPrevented}Me.event=function(e){return Lg&&(e=Lg(e)),e.persist=v4,e.isPropagationStopped=_4,e.isDefaultPrevented=b4,e.nativeEvent=e};var jm,x4={enumerable:!1,configurable:!0,get:function(){return this.class}},Bg=Me.vnode;Me.vnode=function(e){typeof e.type=="string"&&function(n){var i=n.props,l=n.type,f={};for(var m in i){var a=i[m];if(!(m==="value"&&"defaultValue"in i&&a==null||y4&&m==="children"&&l==="noscript"||m==="class"||m==="className")){var x=m.toLowerCase();m==="defaultValue"&&"value"in i&&i.value==null?m="value":m==="download"&&a===!0?a="":x==="ondoubleclick"?m="ondblclick":x!=="onchange"||l!=="input"&&l!=="textarea"||g4(i.type)?x==="onfocus"?m="onfocusin":x==="onblur"?m="onfocusout":d4.test(m)?m=x:l.indexOf("-")===-1&&f4.test(m)?m=m.replace(m4,"-$&").toLowerCase():a===null&&(a=void 0):x=m="oninput",x==="oninput"&&f[m=x]&&(m="oninputCapture"),f[m]=a}}l=="select"&&f.multiple&&Array.isArray(f.value)&&(f.value=aa(i.children).forEach(function(b){b.props.selected=f.value.indexOf(b.props.value)!=-1})),l=="select"&&f.defaultValue!=null&&(f.value=aa(i.children).forEach(function(b){b.props.selected=f.multiple?f.defaultValue.indexOf(b.props.value)!=-1:f.defaultValue==b.props.value})),i.class&&!i.className?(f.class=i.class,Object.defineProperty(f,"className",x4)):(i.className&&!i.class||i.class&&i.className)&&(f.class=f.className=i.className),n.props=f}(e),e.$$typeof=x2,Bg&&Bg(e)};var Fg=Me.__r;Me.__r=function(e){Fg&&Fg(e),jm=e.__c};var Ng=Me.diffed;Me.diffed=function(e){Ng&&Ng(e);var n=e.props,i=e.__e;i!=null&&e.type==="textarea"&&"value"in n&&n.value!==i.value&&(i.value=n.value==null?"":n.value),jm=null};var S2={ReactCurrentDispatcher:{current:{readContext:function(e){return jm.__n[e.__c].props.value}}}},w4="17.0.2";function E2(e){return Ue.bind(null,e)}function No(e){return!!e&&e.$$typeof===x2}function T2(e){return No(e)&&e.type===en}function Oa(e){return No(e)?h2.apply(null,arguments):e}function P2(e){return!!e.__k&&(Uu(null,e),!0)}function I2(e){return e&&(e.base||e.nodeType===1&&e)||null}var M2=function(e,n){return e(n)},$m=function(e,n){return e(n)},A2=en;function Zm(e){e()}function k2(e){return e}function O2(){return[!1,Zm]}var R2=Po,z2=No;function D2(e,n){var i=n(),l=$e({h:{__:i,v:n}}),f=l[0].h,m=l[1];return Po(function(){f.__=i,f.v=n,S1(f.__,n())||m({h:f})},[e,i,n]),pr(function(){return S1(f.__,f.v())||m({h:f}),e(function(){S1(f.__,f.v())||m({h:f})})},[e]),i}var xa={useState:$e,useId:d2,useReducer:Rf,useEffect:pr,useLayoutEffect:Po,useInsertionEffect:R2,useTransition:O2,useDeferredValue:k2,useSyncExternalStore:D2,startTransition:Zm,useRef:Ae,useImperativeHandle:Dl,useMemo:Cn,useCallback:cr,useContext:Mi,useDebugValue:Um,version:"17.0.2",Children:$s,render:w2,hydrate:C2,unmountComponentAtNode:P2,createPortal:Ju,createElement:Ue,createContext:Uo,createFactory:E2,cloneElement:Oa,createRef:Bm,Fragment:en,isValidElement:No,isElement:z2,isFragment:T2,findDOMNode:I2,Component:xo,PureComponent:_p,memo:In,forwardRef:rn,flushSync:$m,unstable_batchedUpdates:M2,StrictMode:A2,Suspense:ap,SuspenseList:Ru,lazy:b2,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:S2};const Q1=Object.freeze(Object.defineProperty({__proto__:null,Children:$s,Component:xo,Fragment:en,PureComponent:_p,StrictMode:A2,Suspense:ap,SuspenseList:Ru,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:S2,cloneElement:Oa,createContext:Uo,createElement:Ue,createFactory:E2,createPortal:Ju,createRef:Bm,default:xa,findDOMNode:I2,flushSync:$m,forwardRef:rn,hydrate:C2,isElement:z2,isFragment:T2,isValidElement:No,lazy:b2,memo:In,render:w2,startTransition:Zm,unmountComponentAtNode:P2,unstable_batchedUpdates:M2,useCallback:cr,useContext:Mi,useDebugValue:Um,useDeferredValue:k2,useEffect:pr,useErrorBoundary:a4,useId:d2,useImperativeHandle:Dl,useInsertionEffect:R2,useLayoutEffect:Po,useMemo:Cn,useReducer:Rf,useRef:Ae,useState:$e,useSyncExternalStore:D2,useTransition:O2,version:w4},Symbol.toStringTag,{value:"Module"}));var C4=0;function T(e,n,i,l,f,m){var a,x,b={};for(x in n)x=="ref"?a=n[x]:b[x]=n[x];var P={type:e,props:b,key:i,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--C4,__source:f,__self:m};if(typeof e=="function"&&(a=e.defaultProps))for(x in a)b[x]===void 0&&(b[x]=a[x]);return Me.vnode&&Me.vnode(P),P}const S4={sm:"h-4 w-4 border-2 border-t-2",md:"h-8 w-8 border-4 border-t-4",lg:"h-16 w-16 border-8 border-t-8"};function qm({size:e="md"}){return T("div",{className:"w-full flex items-center justify-center","aria-label":"Loading…",children:T("div",{className:`activityindicator ease-in rounded-full border-gray-200 text-blue-500 ${S4[e]}`})})}class Bo extends xo{constructor(){super(),this.state={componentData:null}}loadComponent(){if(this.props.component)return this.setState({componentData:this.props.component});const n=this.props.getComponent(this.props.url,({component:i})=>{i&&this.setState({componentData:i})},Object.assign({},this.props,this.props.matches));n&&n.then&&(i=>{n.then(l=>{if(i!==this.props.url){this.setState({componentData:null},()=>{this.loadComponent()});return}this.setState({componentData:l})})})(this.props.url)}componentWillReceiveProps(n){this.props.path&&this.props.path!==n.path&&this.setState({componentData:null},()=>{this.loadComponent()})}componentWillMount(){this.loadComponent()}render(){return this.state.componentData?Ue(this.state.componentData,this.props):this.props.loading?this.props.loading():null}}const _l=20;function E4({relativeTo:e,text:n,capitalize:i}){const[l,f]=$e({top:-9999,left:-9999}),m=document.getElementById("tooltips"),a=Ae();Po(()=>{if(a&&a.current&&e&&e.current){const b=window.innerWidth,{x:P,y:M,width:k,height:N}=e.current.getBoundingClientRect(),{width:G,height:U}=a.current.getBoundingClientRect(),H=G*1.1,it=U*1.1,et=P+Math.round(k/2)+window.scrollX,dt=M+Math.round(N/2)+window.scrollY;let st=dt-_l-it,at=et-Math.round(H/2);at+H+_l>b-window.scrollX?(at=Math.max(0,et-H-_l),st=dt-Math.round(it/2)):at<_l+window.scrollX?(at=et+_l,st=dt-Math.round(it/2)):st<=_l+window.scrollY&&(st=dt+it+_l),f({left:at,top:st})}},[e,a]);const x=T("div",{role:"tooltip",className:`shadow max-w-lg absolute pointer-events-none bg-gray-900 dark:bg-gray-200 bg-opacity-80 rounded px-2 py-1 transition-transform transition-opacity duration-75 transform scale-90 opacity-0 text-gray-100 dark:text-gray-900 text-sm ${i?"capitalize":""} ${l.top>=0?"opacity-100 scale-100":""}`,ref:a,style:l,children:n});return m?Ju(x,m):x}const T4={blue:{contained:"bg-blue-500 focus:bg-blue-400 active:bg-blue-600 ring-blue-300",outlined:"text-blue-500 border-2 border-blue-500 hover:bg-blue-500 hover:bg-opacity-20 focus:bg-blue-500 focus:bg-opacity-40 active:bg-blue-500 active:bg-opacity-40",text:"text-blue-500 hover:bg-blue-500 hover:bg-opacity-20 focus:bg-blue-500 focus:bg-opacity-40 active:bg-blue-500 active:bg-opacity-40",iconOnly:"text-blue-500 hover:text-blue-200"},red:{contained:"bg-red-500 focus:bg-red-400 active:bg-red-600 ring-red-300",outlined:"text-red-500 border-2 border-red-500 hover:bg-red-500 hover:bg-opacity-20 focus:bg-red-500 focus:bg-opacity-40 active:bg-red-500 active:bg-opacity-40",text:"text-red-500 hover:bg-red-500 hover:bg-opacity-20 focus:bg-red-500 focus:bg-opacity-40 active:bg-red-500 active:bg-opacity-40",iconOnly:"text-red-500 hover:text-red-200"},yellow:{contained:"bg-yellow-500 focus:bg-yellow-400 active:bg-yellow-600 ring-yellow-300",outlined:"text-yellow-500 border-2 border-yellow-500 hover:bg-yellow-500 hover:bg-opacity-20 focus:bg-yellow-500 focus:bg-opacity-40 active:bg-yellow-500 active:bg-opacity-40",text:"text-yellow-500 hover:bg-yellow-500 hover:bg-opacity-20 focus:bg-yellow-500 focus:bg-opacity-40 active:bg-yellow-500 active:bg-opacity-40",iconOnly:"text-yellow-500 hover:text-yellow-200"},green:{contained:"bg-green-500 focus:bg-green-400 active:bg-green-600 ring-green-300",outlined:"text-green-500 border-2 border-green-500 hover:bg-green-500 hover:bg-opacity-20 focus:bg-green-500 focus:bg-opacity-40 active:bg-green-500 active:bg-opacity-40",text:"text-green-500 hover:bg-green-500 hover:bg-opacity-20 focus:bg-green-500 focus:bg-opacity-40 active:bg-green-500 active:bg-opacity-40",iconOnly:"text-green-500 hover:text-green-200"},gray:{contained:"bg-gray-500 focus:bg-gray-400 active:bg-gray-600 ring-gray-300",outlined:"text-gray-500 border-2 border-gray-500 hover:bg-gray-500 hover:bg-opacity-20 focus:bg-gray-500 focus:bg-opacity-40 active:bg-gray-500 active:bg-opacity-40",text:"text-gray-500 hover:bg-gray-500 hover:bg-opacity-20 focus:bg-gray-500 focus:bg-opacity-40 active:bg-gray-500 active:bg-opacity-40",iconOnly:"text-gray-500 hover:text-gray-200"},disabled:{contained:"bg-gray-400",outlined:"text-gray-500 border-2 border-gray-500 hover:bg-gray-500 hover:bg-opacity-20 focus:bg-gray-500 focus:bg-opacity-40 active:bg-gray-500 active:bg-opacity-40",text:"text-gray-500 hover:bg-gray-500 hover:bg-opacity-20 focus:bg-gray-500 focus:bg-opacity-40 active:bg-gray-500 active:bg-opacity-40",iconOnly:"text-gray-500 hover:text-gray-200"},black:{contained:"",outlined:"",text:"text-black dark:text-white",iconOnly:""}},P4={contained:"text-white shadow focus:shadow-xl hover:shadow-md",outlined:"",text:"transition-opacity",iconOnly:"transition-opacity"};function bp({children:e,className:n="",color:i="blue",disabled:l=!1,ariaCapitalize:f=!1,href:m,type:a="contained",...x}){const[b,P]=$e(!1),M=Ae();let k=`whitespace-nowrap flex items-center space-x-1 ${n} ${P4[a]} ${T4[l?"disabled":i][a]} font-sans inline-flex font-bold uppercase text-xs px-1.5 md:px-2 py-2 rounded outline-none focus:outline-none ring-opacity-50 transition-shadow transition-colors ${l?"cursor-not-allowed":`${a=="iconOnly"?"":"focus:ring-2"} cursor-pointer`}`;l&&(k=k.replace(/(?:focus|active|hover):[^ ]+/g,""));const N=cr(()=>{P(!0)},[]),G=cr(()=>{P(!1)},[]);return T(en,{children:[T(m?"a":"div",{role:"button","aria-disabled":l?"true":"false",tabindex:"0",className:k,href:m,ref:M,onmouseenter:N,onmouseleave:G,...x,children:e}),b&&x["aria-label"]?T(E4,{text:x["aria-label"],relativeTo:M,capitalize:f}):null]})}function I4({className:e=""}){return T("svg",{className:`fill-current ${e}`,viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0z",fill:"none"}),T("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})}const M4=In(I4);function A4({className:e=""}){return T("svg",{className:`fill-current ${e}`,viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0z",fill:"none"}),T("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})]})}const k4=In(A4);function Wm(e){return new Promise((n,i)=>{e.oncomplete=e.onsuccess=()=>n(e.result),e.onabort=e.onerror=()=>i(e.error)})}function O4(e,n){const i=indexedDB.open(e);i.onupgradeneeded=()=>i.result.createObjectStore(n);const l=Wm(i);return(f,m)=>l.then(a=>m(a.transaction(n,f).objectStore(n)))}let E1;function L2(){return E1||(E1=O4("keyval-store","keyval")),E1}function B2(e,n=L2()){return n("readonly",i=>Wm(i.get(e)))}function F2(e,n,i=L2()){return i("readwrite",l=>(l.put(n,e),Wm(l.transaction)))}const N2=Uo(null);function R4({children:e}){const[n,i]=$e(null),[l,f]=$e(n!=="media"?n:null),m=cr(x=>{i(x),F2("darkmode",x),f(x)},[i]);pr(()=>{async function x(){const b=await B2("darkmode");m(b||"media")}x()},[m]);const a=cr(({matches:x})=>{f(x?"dark":"light")},[f]);return pr(()=>{if(n!=="media")return;const x=window.matchMedia("(prefers-color-scheme: dark)");x.addEventListener("change",a),a(x)},[n,a]),Po(()=>{l==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark")},[l]),n?T(N2.Provider,{value:{currentMode:l,persistedMode:n,setDarkMode:m},children:e}):null}function z4(){return Mi(N2)}const U2=Uo(null);function D4({children:e}){const[n,i]=$e(!1);return T(U2.Provider,{value:{showDrawer:n,setShowDrawer:i},children:e})}function Hm(){return Mi(U2)}function NA(e,n=void 0){const[i,l]=$e(n),[f,m]=$e(!1),a=cr(x=>{l(x);async function b(){await F2(e,x)}b()},[e]);return pr(()=>{m(!1),l(n);async function x(){const b=await B2(e);typeof b<"u"&&a(b),m(!0)}x()},[e,n,a]),[i,a,f]}let Ug=window.scrollY;function L4({title:e,overflowRef:n,onOverflowClick:i}){const[l,f]=$e(!0),[m,a]=$e(window.scrollY===0),{setShowDrawer:x}=Hm(),b=cr(()=>{const M=window.scrollY;window.requestAnimationFrame(()=>{f(M<=0||Ug>M),a(M===0),Ug=M})},[f]);Po(()=>(document.addEventListener("scroll",b),()=>{document.removeEventListener("scroll",b)}),[b]);const P=cr(()=>{x(!0)},[x]);return T("div",{id:"appbar",className:`w-full border-b border-gray-200  dark:border-gray-700 flex items-center align-middle p-2  fixed left-0 right-0 z-10 bg-white dark:bg-gray-900 transform transition-all duration-200 ${l?"translate-y-0":"-translate-y-full"} ${m?"":"shadow-sm"}`,"data-testid":"appbar",children:[T("div",{className:"lg:hidden",children:T(bp,{color:"black",className:"rounded-full w-10 h-10",onClick:P,type:"text",children:T(M4,{className:"w-10 h-10"})})}),T(e,{}),T("div",{className:"flex-grow-1 flex justify-end w-full",children:n&&i?T("div",{className:"w-auto",ref:n,children:T(bp,{"aria-label":"More options",color:"black",className:"rounded-full w-9 h-9",onClick:i,type:"text",children:T(k4,{className:"w-10 h-10"})})}):null})]})}function Gm({children:e,className:n="",size:i="2xl"}){return T("h1",{className:`font-semibold tracking-widest uppercase text-${i} ${n}`,children:e})}function B4(){return T("svg",{version:"1.1",id:"svg2",width:"50",height:"50",viewBox:"0 0 300 300",docname:"Logo TP Thủ Đức.eps",inkscape:"http://www.inkscape.org/namespaces/inkscape",sodipodi:"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg",svg:"http://www.w3.org/2000/svg",children:[T("defs",{id:"defs6"}),T("g",{children:T("path",{style:"opacity:0.037",fill:"#000000",d:"M 140.5,6.5 C 139.432,7.43448 138.099,7.76781 136.5,7.5C 135.737,6.73209 134.737,6.23209 133.5,6C 135.847,5.66636 138.181,5.83303 140.5,6.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.033",fill:"#000000",d:"M 161.5,7.5 C 159.901,7.76781 158.568,7.43448 157.5,6.5C 159.819,5.83303 162.153,5.66636 164.5,6C 163.263,6.23209 162.263,6.73209 161.5,7.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 170.5,6.5 C 171.833,7.16667 171.833,7.16667 170.5,6.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 175.5,7.5 C 176.833,8.16667 176.833,8.16667 175.5,7.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 118.5,9.5 C 117.833,8.16667 117.833,8.16667 118.5,9.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 180.5,8.5 C 181.833,9.16667 181.833,9.16667 180.5,8.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#ddb94f",d:"M 159.5,10.5 C 172.795,11.3743 185.461,14.3743 197.5,19.5C 196.167,19.5 194.833,19.5 193.5,19.5C 184.975,16.8008 176.309,14.6341 167.5,13C 153.473,12.4459 139.473,12.4459 125.5,13C 136.719,10.8233 148.052,9.99002 159.5,10.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#dcc05b",d:"M 118.5,14.5 C 119.552,14.3505 120.552,14.5172 121.5,15C 105.945,19.3428 91.2781,25.5094 77.5,33.5C 89.7364,24.217 103.403,17.8836 118.5,14.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#e7e4ba",d:"M 136.5,7.5 C 138.099,7.76781 139.432,7.43448 140.5,6.5C 146.167,6.5 151.833,6.5 157.5,6.5C 158.568,7.43448 159.901,7.76781 161.5,7.5C 164.5,7.5 167.5,7.5 170.5,7.5C 223.98,19.3145 259.98,50.9812 278.5,102.5C 278.232,104.099 278.566,105.432 279.5,106.5C 279.294,109.495 279.96,112.162 281.5,114.5C 281.739,118.842 282.073,123.176 282.5,127.5C 281.833,126.5 281.167,125.5 280.5,124.5C 277.208,105.675 270.708,88.0088 261,71.5C 258.342,67.8425 255.342,64.5092 252,61.5C 251.667,60.1667 251.333,58.8333 251,57.5C 248.46,55.2953 246.293,52.7953 244.5,50C 239.167,47.3333 235.167,43.3333 232.5,38C 230.212,37.1779 227.878,36.5112 225.5,36C 223.249,33.2052 220.582,30.8719 217.5,29C 211.138,25.159 204.472,21.9923 197.5,19.5C 185.461,14.3743 172.795,11.3743 159.5,10.5C 147.669,8.7558 135.669,8.42247 123.5,9.5C 124.609,8.71003 125.942,8.21003 127.5,8C 126.304,7.34569 126.304,6.84569 127.5,6.5C 130.421,7.40661 133.421,7.73994 136.5,7.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f6eeb4",d:"M 159.5,10.5 C 148.052,9.99002 136.719,10.8233 125.5,13C 139.473,12.4459 153.473,12.4459 167.5,13C 176.309,14.6341 184.975,16.8008 193.5,19.5C 230.455,34.289 256.289,60.289 271,97.5C 272.317,102.61 273.817,107.61 275.5,112.5C 279.461,131.639 279.461,150.639 275.5,169.5C 275.5,166.167 275.5,162.833 275.5,159.5C 276.518,150.338 276.518,141.338 275.5,132.5C 274.09,112.959 268.59,94.6252 259,77.5C 255.641,72.1062 251.808,67.1062 247.5,62.5C 235.627,46.7396 220.627,35.0729 202.5,27.5C 200.9,26.3556 199.233,25.1889 197.5,24C 141.425,4.80931 93.5919,16.976 54,60.5C 51.1903,63.4645 49.0236,66.7978 47.5,70.5C 45.2043,72.4006 43.371,74.7339 42,77.5C 38.532,83.1544 35.6987,89.1544 33.5,95.5C 30.4589,99.9563 28.7923,104.956 28.5,110.5C 21.7404,134.061 21.9071,157.728 29,181.5C 31.6907,189.295 34.5241,196.961 37.5,204.5C 37.9925,206.819 38.9925,208.819 40.5,210.5C 42.3386,211.508 43.6719,213.008 44.5,215C 76.0027,215.168 107.336,215.668 138.5,216.5C 138.586,217.496 138.252,218.329 137.5,219C 108.502,219.5 79.5019,219.667 50.5,219.5C 48.4916,220.301 47.9916,221.634 49,223.5C 47.3333,220.5 45,218.167 42,216.5C 23.247,184.439 17.5803,150.106 25,113.5C 27.9809,103.415 31.1476,93.4146 34.5,83.5C 38.9877,77.2043 43.4877,70.8709 48,64.5C 48.49,63.2068 48.6567,61.8734 48.5,60.5C 55.8758,49.1271 65.5424,40.1271 77.5,33.5C 91.2781,25.5094 105.945,19.3428 121.5,15C 120.552,14.5172 119.552,14.3505 118.5,14.5C 120.167,12.8333 121.833,11.1667 123.5,9.5C 135.669,8.42247 147.669,8.7558 159.5,10.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#a65f2e",d:"M 159.5,23.5 C 144.513,22.6837 129.846,24.3503 115.5,28.5C 122.097,25.5865 129.097,23.7532 136.5,23C 144.345,22.1777 152.011,22.3443 159.5,23.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fad825",d:"M 202.5,27.5 C 199.813,27.6641 197.146,27.4974 194.5,27C 193.5,23.6667 192.5,23.6667 191.5,27C 189.866,27.4935 188.199,27.6602 186.5,27.5C 186.719,26.325 186.386,25.325 185.5,24.5C 183.591,25.3482 181.591,25.6816 179.5,25.5C 172.925,24.0537 166.258,23.387 159.5,23.5C 152.011,22.3443 144.345,22.1777 136.5,23C 129.097,23.7532 122.097,25.5865 115.5,28.5C 115.167,28.5 114.833,28.5 114.5,28.5C 77.6129,41.3881 52.2796,66.0548 38.5,102.5C 38.6621,100.473 38.4955,98.4727 38,96.5C 37.6667,97.1667 37.3333,97.8333 37,98.5C 36.3623,97.3914 35.8623,96.2247 35.5,95C 36.9548,92.7522 37.7882,90.2522 38,87.5C 39.5699,86.386 40.9032,85.0526 42,83.5C 42.3333,84.8333 42.6667,86.1667 43,87.5C 44.5232,82.1428 46.0232,76.4761 47.5,70.5C 49.0236,66.7978 51.1903,63.4645 54,60.5C 93.5919,16.976 141.425,4.80931 197.5,24C 199.233,25.1889 200.9,26.3556 202.5,27.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fcf8c6",d:"M 159.5,23.5 C 206.504,29.9877 239.67,54.9877 259,98.5C 260.43,101.353 261.263,104.353 261.5,107.5C 259.35,104.066 257.517,104.066 256,107.5C 254.881,106.448 254.381,105.281 254.5,104C 252.843,103.275 251.843,103.775 251.5,105.5C 248.732,101.414 246.232,97.0804 244,92.5C 242.383,90.2368 240.55,88.2368 238.5,86.5C 227.445,72.7684 213.778,62.1018 197.5,54.5C 196.893,54.6236 196.56,54.9569 196.5,55.5C 194.466,56.5478 193.133,58.2145 192.5,60.5C 195.31,63.0725 198.31,65.4058 201.5,67.5C 186.927,90.2969 171.594,112.63 155.5,134.5C 159.092,135.294 161.925,133.961 164,130.5C 170.928,120.304 177.595,109.97 184,99.5C 191.038,89.6442 198.205,79.9775 205.5,70.5C 208.167,72.5 210.5,74.8333 212.5,77.5C 190.497,109.011 168.664,140.678 147,172.5C 144.454,175.86 142.621,179.526 141.5,183.5C 144.652,184.041 147.152,183.041 149,180.5C 170.667,146.366 192.834,112.699 215.5,79.5C 217.959,82.0872 219.626,85.0872 220.5,88.5C 199.262,119.966 178.262,151.633 157.5,183.5C 159.045,184.452 160.712,184.785 162.5,184.5C 164.346,184.222 165.68,184.889 166.5,186.5C 164.433,186.85 163.433,188.517 163.5,191.5C 162.167,191.5 160.833,191.5 159.5,191.5C 159.5,193.167 159.5,194.833 159.5,196.5C 156.5,196.5 153.5,196.5 150.5,196.5C 150.5,197.833 150.5,199.167 150.5,200.5C 149.167,200.5 147.833,200.5 146.5,200.5C 146.5,202.167 146.5,203.833 146.5,205.5C 144.901,205.232 143.568,205.566 142.5,206.5C 109.671,207.498 76.6709,207.832 43.5,207.5C 42.5,207.5 41.5,207.5 40.5,207.5C 40.5,208.5 40.5,209.5 40.5,210.5C 38.9925,208.819 37.9925,206.819 37.5,204.5C 56.4267,205.653 75.4267,205.82 94.5,205C 96.0581,204.79 97.3915,204.29 98.5,203.5C 107.913,201.603 116.08,197.27 123,190.5C 135.717,172.635 147.55,154.635 158.5,136.5C 152.363,138.758 146.03,140.091 139.5,140.5C 135.445,140.824 131.445,140.491 127.5,139.5C 129.535,137.987 131.869,137.321 134.5,137.5C 136.429,137.54 138.262,137.873 140,138.5C 140.483,137.552 140.649,136.552 140.5,135.5C 140.5,133.167 140.5,130.833 140.5,128.5C 137.615,128.194 134.948,128.527 132.5,129.5C 131.532,131.607 131.198,133.941 131.5,136.5C 130.007,135.688 129.34,134.355 129.5,132.5C 129.57,131.228 129.903,130.062 130.5,129C 129.906,128.536 129.239,128.369 128.5,128.5C 129.058,127.21 130.058,126.377 131.5,126C 134.992,126.07 137.992,125.237 140.5,123.5C 140.802,120.941 140.468,118.607 139.5,116.5C 137.093,115.912 134.76,114.912 132.5,113.5C 131.833,113.833 131.167,114.167 130.5,114.5C 130.912,113.218 130.246,112.218 128.5,111.5C 128.5,109.167 128.5,106.833 128.5,104.5C 126.167,104.5 123.833,104.5 121.5,104.5C 122.598,103.603 122.598,102.77 121.5,102C 123.382,101.802 125.048,101.302 126.5,100.5C 127.167,100.167 127.833,99.8333 128.5,99.5C 129.638,96.6965 129.805,93.6965 129,90.5C 128.005,89.9341 127.172,89.2674 126.5,88.5C 126.5,88.1667 126.5,87.8333 126.5,87.5C 128.344,85.7211 129.01,83.3878 128.5,80.5C 125.941,80.1984 123.607,80.5318 121.5,81.5C 121.167,81.5 120.833,81.5 120.5,81.5C 119.527,83.9479 119.194,86.6146 119.5,89.5C 121.199,89.3398 122.866,89.5065 124.5,90C 121.949,90.0023 119.949,90.8356 118.5,92.5C 115.941,92.1984 113.607,92.5318 111.5,93.5C 109.631,95.6353 108.964,98.3019 109.5,101.5C 121.371,102.6 121.371,103.433 109.5,104C 108.751,105.734 108.251,107.567 108,109.5C 107.802,107.618 107.302,105.952 106.5,104.5C 103.941,104.198 101.607,104.532 99.5,105.5C 99.1667,105.5 98.8333,105.5 98.5,105.5C 97.5269,107.948 97.1936,110.615 97.5,113.5C 100.247,113.187 102.914,113.52 105.5,114.5C 105.863,115.183 106.196,115.85 106.5,116.5C 103.941,116.198 101.607,116.532 99.5,117.5C 98.0149,119.249 97.0149,121.249 96.5,123.5C 96.5,121.167 96.5,118.833 96.5,116.5C 93.9407,116.198 91.6074,116.532 89.5,117.5C 87.9642,119.025 86.9642,121.025 86.5,123.5C 85.8319,121.031 85.1653,118.698 84.5,116.5C 81.9407,116.198 79.6074,116.532 77.5,117.5C 76.5318,119.607 76.1984,121.941 76.5,124.5C 78.8333,124.5 81.1667,124.5 83.5,124.5C 81.0521,125.473 78.3854,125.806 75.5,125.5C 75.7886,122.351 75.2886,119.351 74,116.5C 73.6667,120.833 73.3333,125.167 73,129.5C 72.6667,125.833 72.3333,122.167 72,118.5C 70.1955,123.649 66.8622,127.649 62,130.5C 60.6988,129.902 59.8655,128.902 59.5,127.5C 60.7537,125.357 60.7537,123.357 59.5,121.5C 60.7298,119.703 61.3964,117.703 61.5,115.5C 61.5,115.167 61.5,114.833 61.5,114.5C 62.7122,112.736 62.3788,111.07 60.5,109.5C 61.3805,108.029 62.7139,107.196 64.5,107C 65.2524,106.329 65.5858,105.496 65.5,104.5C 65.5,103.833 65.5,103.167 65.5,102.5C 66.4972,102.53 67.1639,102.03 67.5,101C 66.7282,99.779 65.7282,98.779 64.5,98C 68.8205,98.5003 71.1538,96.667 71.5,92.5C 71.5,92.1667 71.5,91.8333 71.5,91.5C 73.5,91.5 74.5,90.5 74.5,88.5C 75.8333,88.5 77.1667,88.5 78.5,88.5C 78.9452,85.6354 78.2785,83.1354 76.5,81C 78.3201,81.4759 79.9867,81.3093 81.5,80.5C 81.5,80.1667 81.5,79.8333 81.5,79.5C 82.8118,78.8549 83.8118,77.8549 84.5,76.5C 83.1667,74.8333 81.8333,73.1667 80.5,71.5C 81.9524,70.0603 82.9524,68.3936 83.5,66.5C 85.1482,68.4293 86.8149,70.4293 88.5,72.5C 89.1067,72.3764 89.44,72.0431 89.5,71.5C 92.7198,69.3971 95.7198,67.0638 98.5,64.5C 100.153,64.3404 101.486,63.6737 102.5,62.5C 105.152,61.675 106.485,59.8416 106.5,57C 105.813,53.8275 104.479,50.9942 102.5,48.5C 104.661,48.1742 106.494,47.1742 108,45.5C 108.383,46.056 108.883,46.3893 109.5,46.5C 110.81,49.3985 112.143,52.3985 113.5,55.5C 114.257,56.7733 114.923,56.7733 115.5,55.5C 116.5,55.5 117.5,55.5 118.5,55.5C 118.5,53.5 118.5,51.5 118.5,49.5C 119.451,50.9187 119.784,52.5853 119.5,54.5C 121.553,54.5979 123.22,53.9313 124.5,52.5C 124.833,52.5 125.167,52.5 125.5,52.5C 127.099,52.7678 128.432,52.4345 129.5,51.5C 130.492,51.6716 131.158,51.3382 131.5,50.5C 134.432,51.8469 137.098,51.5135 139.5,49.5C 141.876,48.488 142.876,46.6546 142.5,44C 141.763,39.8633 141.429,35.6966 141.5,31.5C 139.712,31.7852 138.045,31.4519 136.5,30.5C 137.309,28.9291 137.643,27.2624 137.5,25.5C 133.071,25.4567 132.071,26.9567 134.5,30C 133.409,31.5501 132.076,32.7168 130.5,33.5C 129.833,33.8333 129.167,34.1667 128.5,34.5C 126.833,33.1667 125.167,33.1667 123.5,34.5C 123.5,35.1667 123.167,35.5 122.5,35.5C 121.5,35.5 120.5,35.5 119.5,35.5C 119.799,34.2397 119.799,33.073 119.5,32C 117.376,30.4178 115.21,30.2512 113,31.5C 112.761,30.212 113.261,29.212 114.5,28.5C 114.833,28.5 115.167,28.5 115.5,28.5C 129.846,24.3503 144.513,22.6837 159.5,23.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#a73c19",d:"M 159.5,23.5 C 166.258,23.387 172.925,24.0537 179.5,25.5C 206.03,33.3616 228.03,48.0283 245.5,69.5C 256.925,85.3647 264.258,103.031 267.5,122.5C 268.846,129.254 269.513,136.088 269.5,143C 269.642,148.743 268.975,154.243 267.5,159.5C 267.828,148.986 267.494,138.653 266.5,128.5C 266.212,121.059 264.545,114.059 261.5,107.5C 261.263,104.353 260.43,101.353 259,98.5C 239.67,54.9877 206.504,29.9877 159.5,23.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#9d5516",d:"M 123.5,34.5 C 125.273,36.6002 125.606,38.9335 124.5,41.5C 122.717,39.9775 122.051,37.9775 122.5,35.5C 123.167,35.5 123.5,35.1667 123.5,34.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f3cd2f",d:"M 139.5,49.5 C 136.956,49.8957 134.789,49.229 133,47.5C 132.098,42.7057 131.265,38.039 130.5,33.5C 132.076,32.7168 133.409,31.5501 134.5,30C 132.071,26.9567 133.071,25.4567 137.5,25.5C 137.643,27.2624 137.309,28.9291 136.5,30.5C 138.045,31.4519 139.712,31.7852 141.5,31.5C 141.429,35.6966 141.763,39.8633 142.5,44C 142.876,46.6546 141.876,48.488 139.5,49.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f9d321",d:"M 123.5,34.5 C 125.167,33.1667 126.833,33.1667 128.5,34.5C 129.249,39.9112 130.249,45.2445 131.5,50.5C 131.158,51.3382 130.492,51.6716 129.5,51.5C 127.731,49.6013 126.398,47.268 125.5,44.5C 125.218,46.9866 125.218,49.6533 125.5,52.5C 125.167,52.5 124.833,52.5 124.5,52.5C 123.504,52.5858 122.671,52.2524 122,51.5C 120.639,46.5279 119.473,41.5279 118.5,36.5C 118.5,35.8333 118.833,35.5 119.5,35.5C 120.5,35.5 121.5,35.5 122.5,35.5C 122.051,37.9775 122.717,39.9775 124.5,41.5C 125.606,38.9335 125.273,36.6002 123.5,34.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#a15819",d:"M 130.5,33.5 C 131.265,38.039 132.098,42.7057 133,47.5C 134.789,49.229 136.956,49.8957 139.5,49.5C 137.098,51.5135 134.432,51.8469 131.5,50.5C 130.249,45.2445 129.249,39.9112 128.5,34.5C 129.167,34.1667 129.833,33.8333 130.5,33.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#facc1b",d:"M 159.5,40.5 C 159.5,42.8333 159.5,45.1667 159.5,47.5C 158.391,47.5569 157.391,47.8902 156.5,48.5C 154.167,48.5 151.833,48.5 149.5,48.5C 148.795,43.1093 148.795,37.776 149.5,32.5C 152.304,31.3622 155.304,31.1955 158.5,32C 159.444,34.7191 159.777,37.5525 159.5,40.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#b97023",d:"M 153.5,34.5 C 154.5,34.5 155.5,34.5 156.5,34.5C 156.5,38.1667 156.5,41.8333 156.5,45.5C 155.5,45.5 154.5,45.5 153.5,45.5C 154.539,41.7938 154.539,38.1271 153.5,34.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#974713",d:"M 135.5,33.5 C 137.917,37.5183 138.584,41.8516 137.5,46.5C 136.088,42.2829 135.421,37.9495 135.5,33.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#a14d19",d:"M 162.5,33.5 C 161.603,38.1398 161.436,42.8065 162,47.5C 162.907,49.6091 164.407,50.9424 166.5,51.5C 162.998,51.9236 160.665,50.5902 159.5,47.5C 159.5,45.1667 159.5,42.8333 159.5,40.5C 159.917,37.8411 160.917,35.5078 162.5,33.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f9f3bf",d:"M 114.5,28.5 C 113.261,29.212 112.761,30.212 113,31.5C 115.21,30.2512 117.376,30.4178 119.5,32C 119.799,33.073 119.799,34.2397 119.5,35.5C 118.833,35.5 118.5,35.8333 118.5,36.5C 117.833,36.8333 117.167,37.1667 116.5,37.5C 113.145,37.6896 110.145,38.6896 107.5,40.5C 106.522,40.811 105.855,41.4777 105.5,42.5C 107.079,43.6669 108.412,45.0002 109.5,46.5C 108.883,46.3893 108.383,46.056 108,45.5C 106.494,47.1742 104.661,48.1742 102.5,48.5C 100.784,46.7917 98.784,45.4584 96.5,44.5C 95.943,42.7648 95.6097,41.0982 95.5,39.5C 92.8242,41.8583 91.4909,44.8583 91.5,48.5C 90.6993,50.0418 90.366,51.7085 90.5,53.5C 88.1536,50.8248 86.1536,51.1581 84.5,54.5C 83.8333,54.5 83.5,54.8333 83.5,55.5C 81.9731,55.427 80.9731,56.0937 80.5,57.5C 78.2552,58.2919 77.9219,59.6253 79.5,61.5C 75.1749,61.821 71.8415,63.821 69.5,67.5C 68.475,67.8966 68.3083,68.5632 69,69.5C 72.7615,73.77 76.9281,77.4367 81.5,80.5C 79.9867,81.3093 78.3201,81.4759 76.5,81C 78.2785,83.1354 78.9452,85.6354 78.5,88.5C 77.1667,88.5 75.8333,88.5 74.5,88.5C 76.1088,87.1021 76.9421,85.4354 77,83.5C 73.1601,79.2704 68.6601,76.4371 63.5,75C 61.4611,76.9263 59.7945,79.093 58.5,81.5C 57.9033,81.7352 57.5699,82.2352 57.5,83C 57.9783,84.3026 58.645,85.4693 59.5,86.5C 57.965,85.6457 56.6316,85.6457 55.5,86.5C 53.31,87.7476 52.9766,89.4143 54.5,91.5C 53.5084,91.3284 52.8417,91.6618 52.5,92.5C 51.0351,93.4057 50.0351,94.739 49.5,96.5C 52.5406,98.5591 55.5406,100.559 58.5,102.5C 53.0929,101.76 47.7595,101.76 42.5,102.5C 42.2852,104.179 42.9519,105.179 44.5,105.5C 47.5203,108.516 50.8536,111.183 54.5,113.5C 51.1933,112.949 47.8599,112.616 44.5,112.5C 43.5489,113.919 43.2155,115.585 43.5,117.5C 43.5,117.833 43.5,118.167 43.5,118.5C 42.3509,118.791 41.6842,119.624 41.5,121C 41.528,122.07 41.8614,122.903 42.5,123.5C 42.1667,124.167 41.8333,124.833 41.5,125.5C 40.087,128.219 39.4203,131.219 39.5,134.5C 41.099,134.768 42.4324,134.434 43.5,133.5C 44.1667,133.5 44.5,133.167 44.5,132.5C 49.3208,133.597 53.9874,133.597 58.5,132.5C 58.5,131.167 58.5,129.833 58.5,128.5C 54.1578,128.261 49.8244,127.927 45.5,127.5C 45.5,126.5 45.5,125.5 45.5,124.5C 49.1745,125.057 52.8412,125.724 56.5,126.5C 57.4164,126.457 58.0831,126.124 58.5,125.5C 59.4345,124.432 59.7678,123.099 59.5,121.5C 60.7537,123.357 60.7537,125.357 59.5,127.5C 59.8655,128.902 60.6988,129.902 62,130.5C 66.8622,127.649 70.1955,123.649 72,118.5C 72.3333,122.167 72.6667,125.833 73,129.5C 73.3333,125.167 73.6667,120.833 74,116.5C 75.2886,119.351 75.7886,122.351 75.5,125.5C 78.3854,125.806 81.0521,125.473 83.5,124.5C 83.5,124.167 83.5,123.833 83.5,123.5C 84.4682,121.393 84.8016,119.059 84.5,116.5C 85.1653,118.698 85.8319,121.031 86.5,123.5C 86.9642,121.025 87.9642,119.025 89.5,117.5C 89.5,119.5 89.5,121.5 89.5,123.5C 91.8333,123.5 94.1667,123.5 96.5,123.5C 97.0149,121.249 98.0149,119.249 99.5,117.5C 99.5,119.5 99.5,121.5 99.5,123.5C 101.833,123.5 104.167,123.5 106.5,123.5C 106.5,121.167 106.5,118.833 106.5,116.5C 106.196,115.85 105.863,115.183 105.5,114.5C 102.914,113.52 100.247,113.187 97.5,113.5C 97.1936,110.615 97.5269,107.948 98.5,105.5C 98.5,107.833 98.5,110.167 98.5,112.5C 101.059,112.802 103.393,112.468 105.5,111.5C 106.468,109.393 106.802,107.059 106.5,104.5C 107.302,105.952 107.802,107.618 108,109.5C 108.251,107.567 108.751,105.734 109.5,104C 121.371,103.433 121.371,102.6 109.5,101.5C 108.964,98.3019 109.631,95.6353 111.5,93.5C 111.5,95.5 111.5,97.5 111.5,99.5C 113.833,99.5 116.167,99.5 118.5,99.5C 118.5,97.1667 118.5,94.8333 118.5,92.5C 119.949,90.8356 121.949,90.0023 124.5,90C 122.866,89.5065 121.199,89.3398 119.5,89.5C 119.194,86.6146 119.527,83.9479 120.5,81.5C 120.5,83.8333 120.5,86.1667 120.5,88.5C 122.5,88.5 124.5,88.5 126.5,88.5C 127.172,89.2674 128.005,89.9341 129,90.5C 129.805,93.6965 129.638,96.6965 128.5,99.5C 128.5,97.1667 128.5,94.8333 128.5,92.5C 121.5,90.8333 118.833,93.5 120.5,100.5C 122.5,100.5 124.5,100.5 126.5,100.5C 125.048,101.302 123.382,101.802 121.5,102C 122.598,102.77 122.598,103.603 121.5,104.5C 121.5,104.833 121.5,105.167 121.5,105.5C 120.532,107.607 120.198,109.941 120.5,112.5C 123.059,112.802 125.393,112.468 127.5,111.5C 127.833,111.5 128.167,111.5 128.5,111.5C 130.246,112.218 130.912,113.218 130.5,114.5C 131.167,114.167 131.833,113.833 132.5,113.5C 134.76,114.912 137.093,115.912 139.5,116.5C 136.941,116.198 134.607,116.532 132.5,117.5C 131.532,119.607 131.198,121.941 131.5,124.5C 134.059,124.802 136.393,124.468 138.5,123.5C 139.167,123.5 139.833,123.5 140.5,123.5C 137.992,125.237 134.992,126.07 131.5,126C 130.058,126.377 129.058,127.21 128.5,128.5C 129.239,128.369 129.906,128.536 130.5,129C 129.903,130.062 129.57,131.228 129.5,132.5C 129.34,134.355 130.007,135.688 131.5,136.5C 134.059,136.802 136.393,136.468 138.5,135.5C 139.167,135.5 139.833,135.5 140.5,135.5C 140.649,136.552 140.483,137.552 140,138.5C 138.262,137.873 136.429,137.54 134.5,137.5C 131.869,137.321 129.535,137.987 127.5,139.5C 131.445,140.491 135.445,140.824 139.5,140.5C 136.359,141.321 133.025,141.821 129.5,142C 113.503,142.5 97.5035,142.667 81.5,142.5C 67.8333,142.5 54.1667,142.5 40.5,142.5C 39.8826,142.611 39.3826,142.944 39,143.5C 38.5045,145.473 38.3379,147.473 38.5,149.5C 44.69,149.177 50.69,149.51 56.5,150.5C 51.5,150.5 46.5,150.5 41.5,150.5C 40.8826,150.611 40.3826,150.944 40,151.5C 39.5034,153.81 39.3367,156.143 39.5,158.5C 45.9262,157.88 51.9262,158.547 57.5,160.5C 51.9738,160.179 46.6405,160.512 41.5,161.5C 40.7802,164.067 41.1135,166.734 42.5,169.5C 61.9958,170.167 81.3291,170.833 100.5,171.5C 90.2759,190.454 74.1093,199.788 52,199.5C 49.8333,199.167 47.6667,198.833 45.5,198.5C 44.1993,196.556 43.1993,194.556 42.5,192.5C 30.6818,162.997 29.3485,132.997 38.5,102.5C 52.2796,66.0548 77.6129,41.3881 114.5,28.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#9f4f16",d:"M 149.5,32.5 C 148.795,37.776 148.795,43.1093 149.5,48.5C 151.833,48.5 154.167,48.5 156.5,48.5C 153.713,49.4767 150.713,49.81 147.5,49.5C 147.74,46.4212 147.407,43.4212 146.5,40.5C 146.766,37.3498 147.766,34.6832 149.5,32.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#edba2e",d:"M 171.5,46.5 C 171.5,46.8333 171.5,47.1667 171.5,47.5C 169.833,48.8333 168.167,50.1667 166.5,51.5C 164.407,50.9424 162.907,49.6091 162,47.5C 161.436,42.8065 161.603,38.1398 162.5,33.5C 165.013,31.8307 167.679,30.1641 170.5,28.5C 172.815,28.7991 172.815,29.6325 170.5,31C 172.134,31.4935 173.801,31.6602 175.5,31.5C 175.716,33.6807 174.883,35.3474 173,36.5C 171.957,39.7568 171.457,43.0901 171.5,46.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#eeb422",d:"M 178.5,53.5 C 176.83,53.2488 175.33,52.5822 174,51.5C 173.503,49.1902 173.337,46.8568 173.5,44.5C 173.863,36.9552 177.529,34.4552 184.5,37C 186.65,42.0191 184.984,44.5191 179.5,44.5C 179.657,43.1266 179.49,41.7932 179,40.5C 177.682,43.4302 177.015,46.4302 177,49.5C 178.287,46.8554 180.453,45.8554 183.5,46.5C 183.525,50.1398 181.858,52.4731 178.5,53.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#955319",d:"M 118.5,36.5 C 119.473,41.5279 120.639,46.5279 122,51.5C 122.671,52.2524 123.504,52.5858 124.5,52.5C 123.22,53.9313 121.553,54.5979 119.5,54.5C 119.784,52.5853 119.451,50.9187 118.5,49.5C 118.93,46.1379 117.93,43.3046 115.5,41C 116.337,39.9887 116.67,38.8221 116.5,37.5C 117.167,37.1667 117.833,36.8333 118.5,36.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#914c17",d:"M 129.5,51.5 C 128.432,52.4345 127.099,52.7678 125.5,52.5C 125.218,49.6533 125.218,46.9866 125.5,44.5C 126.398,47.268 127.731,49.6013 129.5,51.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fac418",d:"M 202.5,27.5 C 220.627,35.0729 235.627,46.7396 247.5,62.5C 246.905,64.6268 245.905,65.7935 244.5,66C 244.989,67.1385 245.322,68.3052 245.5,69.5C 228.03,48.0283 206.03,33.3616 179.5,25.5C 181.591,25.6816 183.591,25.3482 185.5,24.5C 186.386,25.325 186.719,26.325 186.5,27.5C 188.199,27.6602 189.866,27.4935 191.5,27C 192.5,23.6667 193.5,23.6667 194.5,27C 197.146,27.4974 199.813,27.6641 202.5,27.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f2cf33",d:"M 116.5,37.5 C 116.67,38.8221 116.337,39.9887 115.5,41C 117.93,43.3046 118.93,46.1379 118.5,49.5C 118.5,51.5 118.5,53.5 118.5,55.5C 117.5,55.5 116.5,55.5 115.5,55.5C 113.846,52.3724 112.679,49.0391 112,45.5C 110.89,43.9632 109.39,43.2965 107.5,43.5C 107.5,42.5 107.5,41.5 107.5,40.5C 110.145,38.6896 113.145,37.6896 116.5,37.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#834111",d:"M 107.5,40.5 C 107.5,41.5 107.5,42.5 107.5,43.5C 109.39,43.2965 110.89,43.9632 112,45.5C 112.679,49.0391 113.846,52.3724 115.5,55.5C 114.923,56.7733 114.257,56.7733 113.5,55.5C 112.143,52.3985 110.81,49.3985 109.5,46.5C 108.412,45.0002 107.079,43.6669 105.5,42.5C 105.855,41.4777 106.522,40.811 107.5,40.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#9d3f16",d:"M 173.5,44.5 C 173.337,46.8568 173.503,49.1902 174,51.5C 175.33,52.5822 176.83,53.2488 178.5,53.5C 173.363,55.389 171.03,53.389 171.5,47.5C 171.5,47.1667 171.5,46.8333 171.5,46.5C 172.167,45.8333 172.833,45.1667 173.5,44.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#7d460a",d:"M 83.5,55.5 C 83.5,54.8333 83.8333,54.5 84.5,54.5C 86.1454,55.4787 87.4787,56.812 88.5,58.5C 87.9984,59.521 87.3317,59.6877 86.5,59C 85.3636,57.8549 84.3636,56.6883 83.5,55.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#834e0e",d:"M 91.5,48.5 C 92.4653,52.7727 94.2986,56.7727 97,60.5C 98.4443,62.1554 100.278,62.822 102.5,62.5C 101.486,63.6737 100.153,64.3404 98.5,64.5C 95.6007,61.0484 92.9341,57.3817 90.5,53.5C 90.366,51.7085 90.6993,50.0418 91.5,48.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f3cf27",d:"M 102.5,48.5 C 104.479,50.9942 105.813,53.8275 106.5,57C 106.485,59.8416 105.152,61.675 102.5,62.5C 100.278,62.822 98.4443,62.1554 97,60.5C 94.2986,56.7727 92.4653,52.7727 91.5,48.5C 91.4909,44.8583 92.8242,41.8583 95.5,39.5C 95.6097,41.0982 95.943,42.7648 96.5,44.5C 98.784,45.4584 100.784,46.7917 102.5,48.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#844610",d:"M 96.5,49.5 C 99.0756,51.7772 101.076,54.6105 102.5,58C 102.167,58.5 101.833,59 101.5,59.5C 99.2783,56.39 97.6116,53.0567 96.5,49.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#774712",d:"M 80.5,57.5 C 83.5263,62.1843 86.5263,66.8509 89.5,71.5C 89.44,72.0431 89.1067,72.3764 88.5,72.5C 86.8149,70.4293 85.1482,68.4293 83.5,66.5C 82.9202,64.2512 81.5869,62.5846 79.5,61.5C 77.9219,59.6253 78.2552,58.2919 80.5,57.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#efca20",d:"M 90.5,53.5 C 92.9341,57.3817 95.6007,61.0484 98.5,64.5C 95.7198,67.0638 92.7198,69.3971 89.5,71.5C 86.5263,66.8509 83.5263,62.1843 80.5,57.5C 80.9731,56.0937 81.9731,55.427 83.5,55.5C 84.3636,56.6883 85.3636,57.8549 86.5,59C 87.3317,59.6877 87.9984,59.521 88.5,58.5C 87.4787,56.812 86.1454,55.4787 84.5,54.5C 86.1536,51.1581 88.1536,50.8248 90.5,53.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#a5491b",d:"M 196.5,55.5 C 196.297,57.0443 195.63,58.3777 194.5,59.5C 196.86,61.8532 199.527,63.8532 202.5,65.5C 203.873,67.8084 203.54,68.4751 201.5,67.5C 198.31,65.4058 195.31,63.0725 192.5,60.5C 193.133,58.2145 194.466,56.5478 196.5,55.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#eeca24",d:"M 79.5,61.5 C 81.5869,62.5846 82.9202,64.2512 83.5,66.5C 82.9524,68.3936 81.9524,70.0603 80.5,71.5C 81.8333,73.1667 83.1667,74.8333 84.5,76.5C 83.8118,77.8549 82.8118,78.8549 81.5,79.5C 77.8062,75.1396 73.8062,71.1396 69.5,67.5C 71.8415,63.821 75.1749,61.821 79.5,61.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#eebd28",d:"M 121.5,68.5 C 123.833,68.5 126.167,68.5 128.5,68.5C 128.5,70.8333 128.5,73.1667 128.5,75.5C 126.167,75.5 123.833,75.5 121.5,75.5C 121.5,73.1667 121.5,70.8333 121.5,68.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#efbc2c",d:"M 138.5,75.5 C 136.833,75.5 135.167,75.5 133.5,75.5C 133.5,73.5 133.5,71.5 133.5,69.5C 135.607,68.5318 137.941,68.1984 140.5,68.5C 141.01,71.3878 140.344,73.7211 138.5,75.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#834815",d:"M 133.5,69.5 C 133.5,71.5 133.5,73.5 133.5,75.5C 135.167,75.5 136.833,75.5 138.5,75.5C 136.393,76.4682 134.059,76.8016 131.5,76.5C 131.338,74.4727 131.505,72.4727 132,70.5C 132.383,69.944 132.883,69.6107 133.5,69.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#764713",d:"M 69.5,67.5 C 73.8062,71.1396 77.8062,75.1396 81.5,79.5C 81.5,79.8333 81.5,80.1667 81.5,80.5C 76.9281,77.4367 72.7615,73.77 69,69.5C 68.3083,68.5632 68.475,67.8966 69.5,67.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#edc41b",d:"M 74.5,88.5 C 74.5,90.5 73.5,91.5 71.5,91.5C 66.5869,88.8817 62.2535,85.5484 58.5,81.5C 59.7945,79.093 61.4611,76.9263 63.5,75C 68.6601,76.4371 73.1601,79.2704 77,83.5C 76.9421,85.4354 76.1088,87.1021 74.5,88.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f0c820",d:"M 238.5,86.5 C 238.652,91.238 236.819,94.9046 233,97.5C 232.506,99.1341 232.34,100.801 232.5,102.5C 231.604,101.494 230.938,101.494 230.5,102.5C 213.758,128.91 197.425,155.577 181.5,182.5C 179.955,183.452 178.288,183.785 176.5,183.5C 176.755,180.984 177.589,178.65 179,176.5C 195.511,150.805 212.011,125.138 228.5,99.5C 229.29,95.3491 227.957,91.6824 224.5,88.5C 223.702,88.9569 223.369,89.6236 223.5,90.5C 222.542,90.9528 221.708,91.6195 221,92.5C 201.725,123.4 182.225,154.067 162.5,184.5C 160.712,184.785 159.045,184.452 157.5,183.5C 178.262,151.633 199.262,119.966 220.5,88.5C 222.942,86.8607 223.109,84.8607 221,82.5C 219.333,80.8333 217.667,79.1667 216,77.5C 215.536,78.0944 215.369,78.7611 215.5,79.5C 192.834,112.699 170.667,146.366 149,180.5C 147.152,183.041 144.652,184.041 141.5,183.5C 142.621,179.526 144.454,175.86 147,172.5C 168.664,140.678 190.497,109.011 212.5,77.5C 213.573,76.7494 213.74,75.7494 213,74.5C 211.167,72.6667 209.333,70.8333 207.5,69C 206.184,68.4719 205.517,68.9719 205.5,70.5C 198.205,79.9775 191.038,89.6442 184,99.5C 177.595,109.97 170.928,120.304 164,130.5C 161.925,133.961 159.092,135.294 155.5,134.5C 171.594,112.63 186.927,90.2969 201.5,67.5C 203.54,68.4751 203.873,67.8084 202.5,65.5C 199.527,63.8532 196.86,61.8532 194.5,59.5C 195.63,58.3777 196.297,57.0443 196.5,55.5C 196.56,54.9569 196.893,54.6236 197.5,54.5C 213.778,62.1018 227.445,72.7684 238.5,86.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#9e3d14",d:"M 212.5,77.5 C 210.5,74.8333 208.167,72.5 205.5,70.5C 205.517,68.9719 206.184,68.4719 207.5,69C 209.333,70.8333 211.167,72.6667 213,74.5C 213.74,75.7494 213.573,76.7494 212.5,77.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f5bd21",d:"M 126.5,87.5 C 124.833,87.5 123.167,87.5 121.5,87.5C 121.5,85.5 121.5,83.5 121.5,81.5C 123.607,80.5318 125.941,80.1984 128.5,80.5C 129.01,83.3878 128.344,85.7211 126.5,87.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#7d3b0e",d:"M 132.5,81.5 C 133.461,83.2646 133.795,85.2646 133.5,87.5C 135.167,87.5 136.833,87.5 138.5,87.5C 136.393,88.4682 134.059,88.8016 131.5,88.5C 131.198,85.9407 131.532,83.6074 132.5,81.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#9f441f",d:"M 220.5,88.5 C 219.626,85.0872 217.959,82.0872 215.5,79.5C 215.369,78.7611 215.536,78.0944 216,77.5C 217.667,79.1667 219.333,80.8333 221,82.5C 223.109,84.8607 222.942,86.8607 220.5,88.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#7d4815",d:"M 58.5,81.5 C 62.2535,85.5484 66.5869,88.8817 71.5,91.5C 71.5,91.8333 71.5,92.1667 71.5,92.5C 67.2549,90.9045 63.2549,88.9045 59.5,86.5C 58.645,85.4693 57.9783,84.3026 57.5,83C 57.5699,82.2352 57.9033,81.7352 58.5,81.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#d8aa46",d:"M 193.5,19.5 C 194.833,19.5 196.167,19.5 197.5,19.5C 204.472,21.9923 211.138,25.159 217.5,29C 220.582,30.8719 223.249,33.2052 225.5,36C 227.878,36.5112 230.212,37.1779 232.5,38C 235.167,43.3333 239.167,47.3333 244.5,50C 246.293,52.7953 248.46,55.2953 251,57.5C 251.333,58.8333 251.667,60.1667 252,61.5C 255.342,64.5092 258.342,67.8425 261,71.5C 270.708,88.0088 277.208,105.675 280.5,124.5C 281.399,133.82 281.566,143.153 281,152.5C 280.768,153.737 280.268,154.737 279.5,155.5C 279.666,145.494 279.5,135.494 279,125.5C 278.275,120.923 277.108,116.59 275.5,112.5C 273.817,107.61 272.317,102.61 271,97.5C 256.289,60.289 230.455,34.289 193.5,19.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#edb82d",d:"M 132.5,81.5 C 134.948,80.5269 137.615,80.1936 140.5,80.5C 141.01,83.3878 140.344,85.7211 138.5,87.5C 136.833,87.5 135.167,87.5 133.5,87.5C 133.795,85.2646 133.461,83.2646 132.5,81.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#621c01",d:"M 120.5,81.5 C 120.833,81.5 121.167,81.5 121.5,81.5C 121.5,83.5 121.5,85.5 121.5,87.5C 123.167,87.5 124.833,87.5 126.5,87.5C 126.5,87.8333 126.5,88.1667 126.5,88.5C 124.5,88.5 122.5,88.5 120.5,88.5C 120.5,86.1667 120.5,83.8333 120.5,81.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#804a19",d:"M 55.5,86.5 C 55.6263,89.595 57.293,91.4283 60.5,92C 58.4546,92.4901 56.4546,92.3235 54.5,91.5C 52.9766,89.4143 53.31,87.7476 55.5,86.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#9e3b14",d:"M 228.5,99.5 C 227.083,96.331 225.417,93.331 223.5,90.5C 223.369,89.6236 223.702,88.9569 224.5,88.5C 227.957,91.6824 229.29,95.3491 228.5,99.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f0bb22",d:"M 105.5,99.5 C 103.5,99.5 101.5,99.5 99.5,99.5C 99.5,97.5 99.5,95.5 99.5,93.5C 101.607,92.5318 103.941,92.1984 106.5,92.5C 106.802,95.0593 106.468,97.3926 105.5,99.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#e7e0b7",d:"M 118.5,9.5 C 120.167,9.5 121.833,9.5 123.5,9.5C 121.833,11.1667 120.167,12.8333 118.5,14.5C 103.403,17.8836 89.7364,24.217 77.5,33.5C 65.5424,40.1271 55.8758,49.1271 48.5,60.5C 33.2566,78.6711 24.2566,99.6711 21.5,123.5C 19.9929,129.427 19.3262,135.594 19.5,142C 19.501,146.347 19.8343,150.514 20.5,154.5C 22.3337,185.143 33.667,211.477 54.5,233.5C 71.2614,253.053 92.2614,265.72 117.5,271.5C 125.066,274.715 133.066,276.049 141.5,275.5C 148.726,275.849 155.726,276.849 162.5,278.5C 141.996,280.555 121.996,278.222 102.5,271.5C 83.9932,263.745 67.6599,252.745 53.5,238.5C 39.8478,223.531 29.5145,206.531 22.5,187.5C 21.0046,181.518 19.5046,175.518 18,169.5C 17.3457,170.696 16.8457,170.696 16.5,169.5C 17.3742,167.253 17.7076,164.92 17.5,162.5C 17.8016,159.941 17.4682,157.607 16.5,155.5C 16.5971,144.442 16.4304,133.442 16,122.5C 16.3333,123.167 16.6667,123.833 17,124.5C 17.6778,119.46 18.5111,114.46 19.5,109.5C 20.4345,108.432 20.7678,107.099 20.5,105.5C 36.3671,56.2992 69.0337,24.2992 118.5,9.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#e4b120",d:"M 128.5,99.5 C 127.833,99.8333 127.167,100.167 126.5,100.5C 124.5,100.5 122.5,100.5 120.5,100.5C 118.833,93.5 121.5,90.8333 128.5,92.5C 128.5,94.8333 128.5,97.1667 128.5,99.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f4c222",d:"M 132.5,93.5 C 134.948,92.5269 137.615,92.1936 140.5,92.5C 140.802,95.0593 140.468,97.3926 139.5,99.5C 137.5,99.5 135.5,99.5 133.5,99.5C 133.795,97.2646 133.461,95.2646 132.5,93.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#efc11e",d:"M 59.5,86.5 C 63.2549,88.9045 67.2549,90.9045 71.5,92.5C 71.1538,96.667 68.8205,98.5003 64.5,98C 65.7282,98.779 66.7282,99.779 67.5,101C 67.1639,102.03 66.4972,102.53 65.5,102.5C 61.0993,100.802 56.766,98.8019 52.5,96.5C 51.7084,95.3002 51.7084,93.9669 52.5,92.5C 52.8417,91.6618 53.5084,91.3284 54.5,91.5C 56.4546,92.3235 58.4546,92.4901 60.5,92C 57.293,91.4283 55.6263,89.595 55.5,86.5C 56.6316,85.6457 57.965,85.6457 59.5,86.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#e9b92a",d:"M 118.5,92.5 C 118.5,94.8333 118.5,97.1667 118.5,99.5C 116.167,99.5 113.833,99.5 111.5,99.5C 111.5,97.5 111.5,95.5 111.5,93.5C 113.607,92.5318 115.941,92.1984 118.5,92.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#884f19",d:"M 52.5,92.5 C 51.7084,93.9669 51.7084,95.3002 52.5,96.5C 56.766,98.8019 61.0993,100.802 65.5,102.5C 65.5,103.167 65.5,103.833 65.5,104.5C 63.2278,103.681 60.8945,103.015 58.5,102.5C 55.5406,100.559 52.5406,98.5591 49.5,96.5C 50.0351,94.739 51.0351,93.4057 52.5,92.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#693101",d:"M 99.5,93.5 C 99.5,95.5 99.5,97.5 99.5,99.5C 101.5,99.5 103.5,99.5 105.5,99.5C 106.468,97.3926 106.802,95.0593 106.5,92.5C 103.941,92.1984 101.607,92.5318 99.5,93.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#7c4513",d:"M 132.5,93.5 C 133.461,95.2646 133.795,97.2646 133.5,99.5C 135.5,99.5 137.5,99.5 139.5,99.5C 137.052,100.473 134.385,100.806 131.5,100.5C 131.198,97.9407 131.532,95.6074 132.5,93.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#915d2e",d:"M 33.5,95.5 C 32.0678,100.67 30.4012,105.67 28.5,110.5C 28.7923,104.956 30.4589,99.9563 33.5,95.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fad31c",d:"M 247.5,62.5 C 251.808,67.1062 255.641,72.1062 259,77.5C 268.59,94.6252 274.09,112.959 275.5,132.5C 274.811,133.774 273.977,133.774 273,132.5C 272.798,130.744 272.298,129.078 271.5,127.5C 270.808,128.025 270.308,128.692 270,129.5C 269.61,126.896 268.776,124.562 267.5,122.5C 264.258,103.031 256.925,85.3647 245.5,69.5C 245.322,68.3052 244.989,67.1385 244.5,66C 245.905,65.7935 246.905,64.6268 247.5,62.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 278.5,101.5 C 279.833,102.167 279.833,102.167 278.5,101.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#9d451a",d:"M 232.5,102.5 C 234.258,105.854 235.258,109.521 235.5,113.5C 234.833,114.167 234.167,114.833 233.5,115.5C 233.118,111.022 232.118,106.689 230.5,102.5C 230.938,101.494 231.604,101.494 232.5,102.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f2c11e",d:"M 58.5,102.5 C 60.8945,103.015 63.2278,103.681 65.5,104.5C 65.5858,105.496 65.2524,106.329 64.5,107C 62.7139,107.196 61.3805,108.029 60.5,109.5C 62.3788,111.07 62.7122,112.736 61.5,114.5C 56.8673,112.517 52.534,110.017 48.5,107C 47.8095,105.933 47.3095,104.766 47,103.5C 46.0053,104.066 45.172,104.733 44.5,105.5C 42.9519,105.179 42.2852,104.179 42.5,102.5C 47.7595,101.76 53.0929,101.76 58.5,102.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 20.5,105.5 C 19.8333,104.167 19.8333,104.167 20.5,105.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 279.5,105.5 C 280.833,106.167 280.833,106.167 279.5,105.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f5c424",d:"M 121.5,104.5 C 123.833,104.5 126.167,104.5 128.5,104.5C 128.5,106.833 128.5,109.167 128.5,111.5C 128.167,111.5 127.833,111.5 127.5,111.5C 125.5,111.5 123.5,111.5 121.5,111.5C 121.5,109.5 121.5,107.5 121.5,105.5C 121.5,105.167 121.5,104.833 121.5,104.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f3bf21",d:"M 106.5,104.5 C 106.802,107.059 106.468,109.393 105.5,111.5C 103.5,111.5 101.5,111.5 99.5,111.5C 99.5,109.5 99.5,107.5 99.5,105.5C 101.607,104.532 103.941,104.198 106.5,104.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 19.5,109.5 C 18.8333,108.167 18.8333,108.167 19.5,109.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#764410",d:"M 132.5,105.5 C 133.461,107.265 133.795,109.265 133.5,111.5C 135.5,111.5 137.5,111.5 139.5,111.5C 137.052,112.473 134.385,112.806 131.5,112.5C 131.198,109.941 131.532,107.607 132.5,105.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#894d13",d:"M 61.5,114.5 C 61.5,114.833 61.5,115.167 61.5,115.5C 59.0347,115.233 56.7014,114.566 54.5,113.5C 50.8536,111.183 47.5203,108.516 44.5,105.5C 45.172,104.733 46.0053,104.066 47,103.5C 47.3095,104.766 47.8095,105.933 48.5,107C 52.534,110.017 56.8673,112.517 61.5,114.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f6c92a",d:"M 132.5,105.5 C 134.948,104.527 137.615,104.194 140.5,104.5C 140.802,107.059 140.468,109.393 139.5,111.5C 137.5,111.5 135.5,111.5 133.5,111.5C 133.795,109.265 133.461,107.265 132.5,105.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#eebd2c",d:"M 111.5,104.5 C 113.833,104.5 116.167,104.5 118.5,104.5C 118.5,106.833 118.5,109.167 118.5,111.5C 116.167,111.5 113.833,111.5 111.5,111.5C 111.5,109.167 111.5,106.833 111.5,104.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fdd713",d:"M 238.5,86.5 C 240.55,88.2368 242.383,90.2368 244,92.5C 246.232,97.0804 248.732,101.414 251.5,105.5C 253.944,112.001 256.111,118.668 258,125.5C 259.587,133.967 259.754,142.3 258.5,150.5C 258.5,147.5 258.5,144.5 258.5,141.5C 255.813,141.336 253.146,141.503 250.5,142C 250.034,143.299 250.034,144.799 250.5,146.5C 247.753,146.187 245.086,146.52 242.5,147.5C 242.709,148.086 243.043,148.586 243.5,149C 241.466,150.205 239.466,150.372 237.5,149.5C 238.407,146.579 238.74,143.579 238.5,140.5C 238.5,140.167 238.5,139.833 238.5,139.5C 239.147,138.726 239.48,137.726 239.5,136.5C 239.014,134.696 238.347,133.029 237.5,131.5C 238.762,126.848 238.762,122.181 237.5,117.5C 237.473,115.801 236.806,114.467 235.5,113.5C 235.258,109.521 234.258,105.854 232.5,102.5C 232.34,100.801 232.506,99.1341 233,97.5C 236.819,94.9046 238.652,91.238 238.5,86.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#6b2800",d:"M 98.5,105.5 C 98.8333,105.5 99.1667,105.5 99.5,105.5C 99.5,107.5 99.5,109.5 99.5,111.5C 101.5,111.5 103.5,111.5 105.5,111.5C 103.393,112.468 101.059,112.802 98.5,112.5C 98.5,110.167 98.5,107.833 98.5,105.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#672e03",d:"M 121.5,105.5 C 121.5,107.5 121.5,109.5 121.5,111.5C 123.5,111.5 125.5,111.5 127.5,111.5C 125.393,112.468 123.059,112.802 120.5,112.5C 120.198,109.941 120.532,107.607 121.5,105.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 281.5,113.5 C 282.833,114.167 282.833,114.167 281.5,113.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#8c5011",d:"M 44.5,112.5 C 44.33,113.822 44.6634,114.989 45.5,116C 47.2556,116.202 48.9223,116.702 50.5,117.5C 48.2287,118.363 45.8954,118.363 43.5,117.5C 43.2155,115.585 43.5489,113.919 44.5,112.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f7c115",d:"M 77.5,117.5 C 79.6074,116.532 81.9407,116.198 84.5,116.5C 84.8016,119.059 84.4682,121.393 83.5,123.5C 81.8333,123.5 80.1667,123.5 78.5,123.5C 78.7947,121.265 78.4614,119.265 77.5,117.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f4c222",d:"M 106.5,116.5 C 106.5,118.833 106.5,121.167 106.5,123.5C 104.167,123.5 101.833,123.5 99.5,123.5C 99.5,121.5 99.5,119.5 99.5,117.5C 101.607,116.532 103.941,116.198 106.5,116.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f2bb1f",d:"M 44.5,112.5 C 47.8599,112.616 51.1933,112.949 54.5,113.5C 56.7014,114.566 59.0347,115.233 61.5,115.5C 61.3964,117.703 60.7298,119.703 59.5,121.5C 59.7678,123.099 59.4345,124.432 58.5,125.5C 53.6517,123.864 48.6517,122.864 43.5,122.5C 43.5,121.167 43.5,119.833 43.5,118.5C 43.5,118.167 43.5,117.833 43.5,117.5C 45.8954,118.363 48.2287,118.363 50.5,117.5C 48.9223,116.702 47.2556,116.202 45.5,116C 44.6634,114.989 44.33,113.822 44.5,112.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f2c224",d:"M 96.5,123.5 C 94.1667,123.5 91.8333,123.5 89.5,123.5C 89.5,121.5 89.5,119.5 89.5,117.5C 91.6074,116.532 93.9407,116.198 96.5,116.5C 96.5,118.833 96.5,121.167 96.5,123.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#94440c",d:"M 237.5,117.5 C 238.762,122.181 238.762,126.848 237.5,131.5C 237.167,131.5 236.833,131.5 236.5,131.5C 236.563,126.797 236.229,122.13 235.5,117.5C 235.938,116.494 236.604,116.494 237.5,117.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#95551b",d:"M 43.5,118.5 C 43.5,119.833 43.5,121.167 43.5,122.5C 48.6517,122.864 53.6517,123.864 58.5,125.5C 58.0831,126.124 57.4164,126.457 56.5,126.5C 52.8412,125.724 49.1745,125.057 45.5,124.5C 44.791,123.596 43.791,123.263 42.5,123.5C 41.8614,122.903 41.528,122.07 41.5,121C 41.6842,119.624 42.3509,118.791 43.5,118.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#efc029",d:"M 111.5,116.5 C 113.833,116.5 116.167,116.5 118.5,116.5C 118.5,118.833 118.5,121.167 118.5,123.5C 116.167,123.5 113.833,123.5 111.5,123.5C 111.5,121.167 111.5,118.833 111.5,116.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#eec027",d:"M 121.5,116.5 C 123.833,116.5 126.167,116.5 128.5,116.5C 128.5,118.833 128.5,121.167 128.5,123.5C 126.167,123.5 123.833,123.5 121.5,123.5C 121.5,121.167 121.5,118.833 121.5,116.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#eec32e",d:"M 132.5,117.5 C 134.607,116.532 136.941,116.198 139.5,116.5C 140.468,118.607 140.802,120.941 140.5,123.5C 139.833,123.5 139.167,123.5 138.5,123.5C 136.833,123.5 135.167,123.5 133.5,123.5C 133.795,121.265 133.461,119.265 132.5,117.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#8a5013",d:"M 77.5,117.5 C 78.4614,119.265 78.7947,121.265 78.5,123.5C 80.1667,123.5 81.8333,123.5 83.5,123.5C 83.5,123.833 83.5,124.167 83.5,124.5C 81.1667,124.5 78.8333,124.5 76.5,124.5C 76.1984,121.941 76.5318,119.607 77.5,117.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#794b0f",d:"M 132.5,117.5 C 133.461,119.265 133.795,121.265 133.5,123.5C 135.167,123.5 136.833,123.5 138.5,123.5C 136.393,124.468 134.059,124.802 131.5,124.5C 131.198,121.941 131.532,119.607 132.5,117.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f4ba1c",d:"M 42.5,123.5 C 43.791,123.263 44.791,123.596 45.5,124.5C 45.5,125.5 45.5,126.5 45.5,127.5C 49.8244,127.927 54.1578,128.261 58.5,128.5C 58.5,129.833 58.5,131.167 58.5,132.5C 53.6451,131.953 48.9784,131.953 44.5,132.5C 44.5,133.167 44.1667,133.5 43.5,133.5C 41.631,131.365 40.9644,128.698 41.5,125.5C 41.8333,124.833 42.1667,124.167 42.5,123.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 283.5,128.5 C 284.833,129.167 284.833,129.167 283.5,128.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#e5b11d",d:"M 89.5,128.5 C 91.8333,128.5 94.1667,128.5 96.5,128.5C 98.1667,135.5 95.5,138.167 88.5,136.5C 88.2786,133.721 88.612,131.054 89.5,128.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f5c721",d:"M 111.5,128.5 C 113.833,128.5 116.167,128.5 118.5,128.5C 118.5,130.833 118.5,133.167 118.5,135.5C 116.167,135.5 113.833,135.5 111.5,135.5C 111.5,133.167 111.5,130.833 111.5,128.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#e4ae19",d:"M 77.5,128.5 C 79.8333,128.5 82.1667,128.5 84.5,128.5C 86.1667,135.5 83.5,138.167 76.5,136.5C 76.2786,133.721 76.612,131.054 77.5,128.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f4c927",d:"M 128.5,128.5 C 128.5,130.833 128.5,133.167 128.5,135.5C 126.167,135.5 123.833,135.5 121.5,135.5C 121.5,133.167 121.5,130.833 121.5,128.5C 123.833,128.5 126.167,128.5 128.5,128.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 14.5,131.5 C 15.5983,132.601 15.765,133.934 15,135.5C 14.51,134.207 14.3433,132.873 14.5,131.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#e4b220",d:"M 99.5,128.5 C 101.833,128.5 104.167,128.5 106.5,128.5C 108.167,135.5 105.5,138.167 98.5,136.5C 98.2786,133.721 98.612,131.054 99.5,128.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#894e1a",d:"M 41.5,125.5 C 40.9644,128.698 41.631,131.365 43.5,133.5C 42.4324,134.434 41.099,134.768 39.5,134.5C 39.4203,131.219 40.087,128.219 41.5,125.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#88410a",d:"M 44.5,132.5 C 48.9784,131.953 53.6451,131.953 58.5,132.5C 53.9874,133.597 49.3208,133.597 44.5,132.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f5ca27",d:"M 132.5,129.5 C 134.948,128.527 137.615,128.194 140.5,128.5C 140.5,130.833 140.5,133.167 140.5,135.5C 139.833,135.5 139.167,135.5 138.5,135.5C 136.833,135.5 135.167,135.5 133.5,135.5C 133.795,133.265 133.461,131.265 132.5,129.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#753f0f",d:"M 132.5,129.5 C 133.461,131.265 133.795,133.265 133.5,135.5C 135.167,135.5 136.833,135.5 138.5,135.5C 136.393,136.468 134.059,136.802 131.5,136.5C 131.198,133.941 131.532,131.607 132.5,129.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#a24505",d:"M 21.5,123.5 C 20.7327,133.815 20.3994,144.148 20.5,154.5C 19.8343,150.514 19.501,146.347 19.5,142C 19.3262,135.594 19.9929,129.427 21.5,123.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#8b440c",d:"M 238.5,139.5 C 238.5,139.833 238.5,140.167 238.5,140.5C 237.833,142.5 237.167,144.5 236.5,146.5C 236.5,143.5 236.5,140.5 236.5,137.5C 236.461,136.244 236.961,135.244 238,134.5C 238.494,136.134 238.66,137.801 238.5,139.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fbc716",d:"M 40.5,142.5 C 54.1667,142.5 67.8333,142.5 81.5,142.5C 97.6717,143.167 114.005,143.833 130.5,144.5C 131.609,146.214 130.942,146.881 128.5,146.5C 127.968,151.797 127.134,151.797 126,146.5C 125.503,149.146 125.336,151.813 125.5,154.5C 128.518,154.335 131.518,154.502 134.5,155C 134.957,155.414 135.291,155.914 135.5,156.5C 134.311,157.429 132.978,157.762 131.5,157.5C 129.708,156.691 127.708,156.191 125.5,156C 123.874,147.596 121.874,147.763 119.5,156.5C 117.257,157.474 114.924,157.808 112.5,157.5C 111.624,157.631 110.957,157.298 110.5,156.5C 112.743,155.526 115.076,155.192 117.5,155.5C 117.5,153.833 117.5,152.167 117.5,150.5C 114.15,150.665 110.817,150.498 107.5,150C 110.901,150.266 112.567,148.766 112.5,145.5C 109.167,145.5 105.833,145.5 102.5,145.5C 102.52,147.143 101.853,148.476 100.5,149.5C 98.3633,150.08 96.53,151.08 95,152.5C 94.6667,152.167 94.3333,151.833 94,151.5C 93.5,152.5 93,153.5 92.5,154.5C 89.8333,155.167 87.1667,155.833 84.5,156.5C 83.1468,157.524 82.4802,158.857 82.5,160.5C 80.1432,160.337 77.8098,160.503 75.5,161C 74.0745,162.714 74.4078,164.047 76.5,165C 73.6924,165.019 71.3591,166.019 69.5,168C 80.6743,168.17 91.6743,168.67 102.5,169.5C 82.8333,169.5 63.1667,169.5 43.5,169.5C 43.7062,166.505 43.0395,163.838 41.5,161.5C 46.6405,160.512 51.9738,160.179 57.5,160.5C 59.1765,159.817 59.8432,158.483 59.5,156.5C 53.5,156.5 47.5,156.5 41.5,156.5C 41.5,154.5 41.5,152.5 41.5,150.5C 46.5,150.5 51.5,150.5 56.5,150.5C 58.0481,150.179 58.7148,149.179 58.5,147.5C 52.5,147.5 46.5,147.5 40.5,147.5C 40.5,145.833 40.5,144.167 40.5,142.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#cb9f67",d:"M 266.5,128.5 C 267.494,138.653 267.828,148.986 267.5,159.5C 267.02,164.822 266.687,170.155 266.5,175.5C 265.833,175.5 265.167,175.5 264.5,175.5C 266.243,159.896 266.91,144.229 266.5,128.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 14.5,145.5 C 15.6225,147.288 15.7891,149.288 15,151.5C 14.5045,149.527 14.3379,147.527 14.5,145.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#b17646",d:"M 40.5,142.5 C 40.5,144.167 40.5,145.833 40.5,147.5C 46.5,147.5 52.5,147.5 58.5,147.5C 58.7148,149.179 58.0481,150.179 56.5,150.5C 50.69,149.51 44.69,149.177 38.5,149.5C 38.3379,147.473 38.5045,145.473 39,143.5C 39.3826,142.944 39.8826,142.611 40.5,142.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f9c61a",d:"M 47.5,70.5 C 46.0232,76.4761 44.5232,82.1428 43,87.5C 42.6667,86.1667 42.3333,84.8333 42,83.5C 40.9032,85.0526 39.5699,86.386 38,87.5C 37.7882,90.2522 36.9548,92.7522 35.5,95C 35.8623,96.2247 36.3623,97.3914 37,98.5C 37.3333,97.8333 37.6667,97.1667 38,96.5C 38.4955,98.4727 38.6621,100.473 38.5,102.5C 29.3485,132.997 30.6818,162.997 42.5,192.5C 42.4012,195.639 41.0679,197.973 38.5,199.5C 25.0942,171.047 21.7609,141.381 28.5,110.5C 30.4012,105.67 32.0678,100.67 33.5,95.5C 35.6987,89.1544 38.532,83.1544 42,77.5C 43.371,74.7339 45.2043,72.4006 47.5,70.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 14.5,152.5 C 15.8333,153.167 15.8333,153.167 14.5,152.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 283.5,155.5 C 284.833,156.167 284.833,156.167 283.5,155.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fbf5b0",d:"M 261.5,107.5 C 264.545,114.059 266.212,121.059 266.5,128.5C 266.91,144.229 266.243,159.896 264.5,175.5C 263.883,175.611 263.383,175.944 263,176.5C 261.69,180.07 260.857,183.737 260.5,187.5C 235.689,242.745 193.022,267.912 132.5,263C 121.612,260.537 110.946,257.37 100.5,253.5C 94.8529,250.339 89.5195,246.672 84.5,242.5C 107.169,242.667 129.836,242.5 152.5,242C 157.458,241.971 162.124,241.138 166.5,239.5C 193.771,236.115 217.271,224.782 237,205.5C 244.33,196.506 249.83,186.506 253.5,175.5C 256.808,167.626 258.475,159.292 258.5,150.5C 259.754,142.3 259.587,133.967 258,125.5C 256.111,118.668 253.944,112.001 251.5,105.5C 251.843,103.775 252.843,103.275 254.5,104C 254.381,105.281 254.881,106.448 256,107.5C 257.517,104.066 259.35,104.066 261.5,107.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.068",fill:"#130622",d:"M 16.5,155.5 C 17.4682,157.607 17.8016,159.941 17.5,162.5C 17.1667,162.5 16.8333,162.5 16.5,162.5C 16.1501,160.374 16.1501,158.041 16.5,155.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#a96223",d:"M 41.5,150.5 C 41.5,152.5 41.5,154.5 41.5,156.5C 47.5,156.5 53.5,156.5 59.5,156.5C 59.8432,158.483 59.1765,159.817 57.5,160.5C 51.9262,158.547 45.9262,157.88 39.5,158.5C 39.3367,156.143 39.5034,153.81 40,151.5C 40.3826,150.944 40.8826,150.611 41.5,150.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 283.5,157.5 C 284.525,157.897 284.692,158.563 284,159.5C 283.536,158.906 283.369,158.239 283.5,157.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#e6c227",d:"M 235.5,113.5 C 236.806,114.467 237.473,115.801 237.5,117.5C 236.604,116.494 235.938,116.494 235.5,117.5C 222.594,138.972 209.927,160.638 197.5,182.5C 196.311,183.429 194.978,183.762 193.5,183.5C 193.343,182.127 193.51,180.793 194,179.5C 199.252,171.332 204.252,162.999 209,154.5C 210,153.833 211,153.167 212,152.5C 213.37,146.476 216.37,141.476 221,137.5C 224.187,129.512 228.353,122.178 233.5,115.5C 234.167,114.833 234.833,114.167 235.5,113.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fbc013",d:"M 267.5,122.5 C 268.776,124.562 269.61,126.896 270,129.5C 270.308,128.692 270.808,128.025 271.5,127.5C 272.298,129.078 272.798,130.744 273,132.5C 273.977,133.774 274.811,133.774 275.5,132.5C 276.518,141.338 276.518,150.338 275.5,159.5C 273.548,168.592 271.215,177.592 268.5,186.5C 267.899,182.502 267.232,178.836 266.5,175.5C 266.687,170.155 267.02,164.822 267.5,159.5C 268.975,154.243 269.642,148.743 269.5,143C 269.513,136.088 268.846,129.254 267.5,122.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 16.5,162.5 C 15.8333,163.167 15.8333,163.167 16.5,162.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#a55a1f",d:"M 28.5,110.5 C 21.7609,141.381 25.0942,171.047 38.5,199.5C 38.8007,202.359 40.4673,203.693 43.5,203.5C 44.8333,203.333 46.1667,203.167 47.5,203C 46.3792,200.077 46.7125,199.911 48.5,202.5C 65.1533,203.499 81.82,203.833 98.5,203.5C 97.3915,204.29 96.0581,204.79 94.5,205C 75.4267,205.82 56.4267,205.653 37.5,204.5C 34.5241,196.961 31.6907,189.295 29,181.5C 21.9071,157.728 21.7404,134.061 28.5,110.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fcc70b",d:"M 238.5,140.5 C 238.74,143.579 238.407,146.579 237.5,149.5C 239.466,150.372 241.466,150.205 243.5,149C 243.043,148.586 242.709,148.086 242.5,147.5C 245.086,146.52 247.753,146.187 250.5,146.5C 250.034,144.799 250.034,143.299 250.5,142C 253.146,141.503 255.813,141.336 258.5,141.5C 258.5,144.5 258.5,147.5 258.5,150.5C 258.475,159.292 256.808,167.626 253.5,175.5C 253.397,172.436 252.064,171.436 249.5,172.5C 250.025,173.192 250.692,173.692 251.5,174C 248.173,174.61 244.839,175.11 241.5,175.5C 241.5,176.5 241.5,177.5 241.5,178.5C 234.994,180.894 228.994,184.227 223.5,188.5C 221.955,189.452 220.288,189.785 218.5,189.5C 218.5,190.5 218.5,191.5 218.5,192.5C 215.421,192.74 212.421,192.407 209.5,191.5C 208.772,193.193 207.772,194.693 206.5,196C 206.957,196.414 207.291,196.914 207.5,197.5C 205.955,198.452 204.288,198.785 202.5,198.5C 202.719,199.675 202.386,200.675 201.5,201.5C 199.742,202.128 198.242,203.128 197,204.5C 195.989,203.663 194.822,203.33 193.5,203.5C 193.52,205.143 192.853,206.476 191.5,207.5C 188.399,208.607 185.399,209.94 182.5,211.5C 181.147,212.524 180.48,213.857 180.5,215.5C 175.833,216.833 171.167,218.167 166.5,219.5C 166.52,221.143 165.853,222.476 164.5,223.5C 159.285,225.617 154.285,228.117 149.5,231C 148.54,232.419 147.707,233.919 147,235.5C 146.692,234.692 146.192,234.025 145.5,233.5C 143.999,234.752 142.332,235.752 140.5,236.5C 142.396,237.466 144.396,237.799 146.5,237.5C 146.5,238.5 146.5,239.5 146.5,240.5C 124.823,240.167 103.156,240.5 81.5,241.5C 81.6236,242.107 81.9569,242.44 82.5,242.5C 83.1667,242.5 83.8333,242.5 84.5,242.5C 89.5195,246.672 94.8529,250.339 100.5,253.5C 99.0869,254.991 97.5869,255.658 96,255.5C 95.5172,254.552 95.3505,253.552 95.5,252.5C 94.5,252.5 93.5,252.5 92.5,252.5C 92.719,251.325 92.3857,250.325 91.5,249.5C 90.0996,251.782 90.7663,253.282 93.5,254C 92.2068,254.49 90.8734,254.657 89.5,254.5C 78.389,248.73 68.7223,241.063 60.5,231.5C 83.1691,231.667 105.836,231.5 128.5,231C 129.056,230.617 129.389,230.117 129.5,229.5C 130.167,229.5 130.5,229.167 130.5,228.5C 130.833,228.5 131.167,228.5 131.5,228.5C 132.755,231.647 134.421,231.98 136.5,229.5C 138.045,228.548 139.712,228.215 141.5,228.5C 141.5,226.833 141.5,225.167 141.5,223.5C 145.08,224.077 148.08,223.077 150.5,220.5C 154.41,220.219 157.41,218.552 159.5,215.5C 161.045,214.548 162.712,214.215 164.5,214.5C 164.238,213.022 164.571,211.689 165.5,210.5C 166.192,211.025 166.692,211.692 167,212.5C 168.444,210.845 170.278,210.178 172.5,210.5C 172.166,207.509 173.166,205.176 175.5,203.5C 208.485,197.843 228.818,178.843 236.5,146.5C 237.167,144.5 237.833,142.5 238.5,140.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 282.5,167.5 C 283.833,168.167 283.833,168.167 282.5,167.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#963702",d:"M 41.5,161.5 C 43.0395,163.838 43.7062,166.505 43.5,169.5C 63.1667,169.5 82.8333,169.5 102.5,169.5C 102.167,170.5 101.5,171.167 100.5,171.5C 81.3291,170.833 61.9958,170.167 42.5,169.5C 41.1135,166.734 40.7802,164.067 41.5,161.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fcd51a",d:"M 98.5,203.5 C 81.82,203.833 65.1533,203.499 48.5,202.5C 46.7125,199.911 46.3792,200.077 47.5,203C 46.1667,203.167 44.8333,203.333 43.5,203.5C 40.4673,203.693 38.8007,202.359 38.5,199.5C 41.0679,197.973 42.4012,195.639 42.5,192.5C 43.1993,194.556 44.1993,196.556 45.5,198.5C 47.6667,198.833 49.8333,199.167 52,199.5C 74.1093,199.788 90.2759,190.454 100.5,171.5C 101.5,171.167 102.167,170.5 102.5,169.5C 91.6743,168.67 80.6743,168.17 69.5,168C 71.3591,166.019 73.6924,165.019 76.5,165C 74.4078,164.047 74.0745,162.714 75.5,161C 77.8098,160.503 80.1432,160.337 82.5,160.5C 82.4802,158.857 83.1468,157.524 84.5,156.5C 87.1667,155.833 89.8333,155.167 92.5,154.5C 93,153.5 93.5,152.5 94,151.5C 94.3333,151.833 94.6667,152.167 95,152.5C 96.53,151.08 98.3633,150.08 100.5,149.5C 101.853,148.476 102.52,147.143 102.5,145.5C 105.833,145.5 109.167,145.5 112.5,145.5C 112.567,148.766 110.901,150.266 107.5,150C 110.817,150.498 114.15,150.665 117.5,150.5C 117.5,152.167 117.5,153.833 117.5,155.5C 115.076,155.192 112.743,155.526 110.5,156.5C 110.957,157.298 111.624,157.631 112.5,157.5C 114.062,158.785 115.396,160.285 116.5,162C 115.976,164.413 114.976,166.58 113.5,168.5C 113.833,168.833 114.167,169.167 114.5,169.5C 118.378,164.233 122.211,164.233 126,169.5C 126.333,166.5 126.667,163.5 127,160.5C 128.652,159.601 130.152,158.601 131.5,157.5C 132.978,157.762 134.311,157.429 135.5,156.5C 135.291,155.914 134.957,155.414 134.5,155C 131.518,154.502 128.518,154.335 125.5,154.5C 125.336,151.813 125.503,149.146 126,146.5C 127.134,151.797 127.968,151.797 128.5,146.5C 130.942,146.881 131.609,146.214 130.5,144.5C 114.005,143.833 97.6717,143.167 81.5,142.5C 97.5035,142.667 113.503,142.5 129.5,142C 133.025,141.821 136.359,141.321 139.5,140.5C 146.03,140.091 152.363,138.758 158.5,136.5C 147.55,154.635 135.717,172.635 123,190.5C 116.08,197.27 107.913,201.603 98.5,203.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f3eee0",d:"M 131.5,157.5 C 130.152,158.601 128.652,159.601 127,160.5C 126.667,163.5 126.333,166.5 126,169.5C 122.211,164.233 118.378,164.233 114.5,169.5C 114.167,169.167 113.833,168.833 113.5,168.5C 114.976,166.58 115.976,164.413 116.5,162C 115.396,160.285 114.062,158.785 112.5,157.5C 114.924,157.808 117.257,157.474 119.5,156.5C 121.874,147.763 123.874,147.596 125.5,156C 127.708,156.191 129.708,156.691 131.5,157.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#deb524",d:"M 236.5,131.5 C 236.833,131.5 237.167,131.5 237.5,131.5C 238.347,133.029 239.014,134.696 239.5,136.5C 239.48,137.726 239.147,138.726 238.5,139.5C 238.66,137.801 238.494,136.134 238,134.5C 236.961,135.244 236.461,136.244 236.5,137.5C 227.496,152.393 218.996,167.726 211,183.5C 209.506,184.747 208.006,184.747 206.5,183.5C 216.559,166.029 226.559,148.696 236.5,131.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#d09b3d",d:"M 48.5,60.5 C 48.6567,61.8734 48.49,63.2068 48,64.5C 43.4877,70.8709 38.9877,77.2043 34.5,83.5C 31.1476,93.4146 27.9809,103.415 25,113.5C 17.5803,150.106 23.247,184.439 42,216.5C 45,218.167 47.3333,220.5 49,223.5C 47.9916,221.634 48.4916,220.301 50.5,219.5C 51.5678,222.075 53.2345,224.242 55.5,226C 81.1865,225.84 106.52,226.674 131.5,228.5C 131.167,228.5 130.833,228.5 130.5,228.5C 104.833,227.167 79.1667,227.167 53.5,228.5C 54.3007,230.042 54.634,231.708 54.5,233.5C 33.667,211.477 22.3337,185.143 20.5,154.5C 20.3994,144.148 20.7327,133.815 21.5,123.5C 24.2566,99.6711 33.2566,78.6711 48.5,60.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 17.5,174.5 C 18.8333,175.167 18.8333,175.167 17.5,174.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#9e652a",d:"M 264.5,175.5 C 263.762,179.714 262.429,183.714 260.5,187.5C 260.857,183.737 261.69,180.07 263,176.5C 263.383,175.944 263.883,175.611 264.5,175.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#faf6b9",d:"M 223.5,90.5 C 225.417,93.331 227.083,96.331 228.5,99.5C 212.011,125.138 195.511,150.805 179,176.5C 177.589,178.65 176.755,180.984 176.5,183.5C 178.288,183.785 179.955,183.452 181.5,182.5C 197.425,155.577 213.758,128.91 230.5,102.5C 232.118,106.689 233.118,111.022 233.5,115.5C 228.353,122.178 224.187,129.512 221,137.5C 216.37,141.476 213.37,146.476 212,152.5C 211,153.167 210,153.833 209,154.5C 204.252,162.999 199.252,171.332 194,179.5C 193.51,180.793 193.343,182.127 193.5,183.5C 194.978,183.762 196.311,183.429 197.5,182.5C 209.927,160.638 222.594,138.972 235.5,117.5C 236.229,122.13 236.563,126.797 236.5,131.5C 226.559,148.696 216.559,166.029 206.5,183.5C 208.006,184.747 209.506,184.747 211,183.5C 218.996,167.726 227.496,152.393 236.5,137.5C 236.5,140.5 236.5,143.5 236.5,146.5C 228.818,178.843 208.485,197.843 175.5,203.5C 164.592,205.414 153.592,206.414 142.5,206.5C 143.568,205.566 144.901,205.232 146.5,205.5C 146.5,203.833 146.5,202.167 146.5,200.5C 147.833,200.5 149.167,200.5 150.5,200.5C 150.5,199.167 150.5,197.833 150.5,196.5C 153.5,196.5 156.5,196.5 159.5,196.5C 159.5,194.833 159.5,193.167 159.5,191.5C 160.833,191.5 162.167,191.5 163.5,191.5C 163.433,188.517 164.433,186.85 166.5,186.5C 165.68,184.889 164.346,184.222 162.5,184.5C 182.225,154.067 201.725,123.4 221,92.5C 221.708,91.6195 222.542,90.9528 223.5,90.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 278.5,183.5 C 279.833,184.167 279.833,184.167 278.5,183.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 22.5,187.5 C 21.8333,188.167 21.8333,188.167 22.5,187.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 276.5,189.5 C 277.833,190.167 277.833,190.167 276.5,189.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#bc7924",d:"M 275.5,112.5 C 277.108,116.59 278.275,120.923 279,125.5C 279.5,135.494 279.666,145.494 279.5,155.5C 279.712,163.369 278.545,171.035 276,178.5C 269.54,199.298 259.207,217.964 245,234.5C 239.601,240.1 233.768,245.1 227.5,249.5C 227.167,249.5 226.833,249.5 226.5,249.5C 252.51,228.824 268.843,202.157 275.5,169.5C 279.461,150.639 279.461,131.639 275.5,112.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fdd10f",d:"M 175.5,203.5 C 173.166,205.176 172.166,207.509 172.5,210.5C 170.278,210.178 168.444,210.845 167,212.5C 166.692,211.692 166.192,211.025 165.5,210.5C 164.571,211.689 164.238,213.022 164.5,214.5C 162.712,214.215 161.045,214.548 159.5,215.5C 157.41,218.552 154.41,220.219 150.5,220.5C 148.08,223.077 145.08,224.077 141.5,223.5C 141.5,225.167 141.5,226.833 141.5,228.5C 139.712,228.215 138.045,228.548 136.5,229.5C 134.421,231.98 132.755,231.647 131.5,228.5C 106.52,226.674 81.1865,225.84 55.5,226C 53.2345,224.242 51.5678,222.075 50.5,219.5C 79.5019,219.667 108.502,219.5 137.5,219C 138.252,218.329 138.586,217.496 138.5,216.5C 139.167,216.5 139.5,216.167 139.5,215.5C 140.043,215.44 140.376,215.107 140.5,214.5C 109.174,213.5 77.8404,213.167 46.5,213.5C 44.461,212.089 43.461,210.089 43.5,207.5C 76.6709,207.832 109.671,207.498 142.5,206.5C 153.592,206.414 164.592,205.414 175.5,203.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fcb908",d:"M 253.5,175.5 C 249.83,186.506 244.33,196.506 237,205.5C 217.271,224.782 193.771,236.115 166.5,239.5C 138.375,241.021 110.375,242.021 82.5,242.5C 81.9569,242.44 81.6236,242.107 81.5,241.5C 103.156,240.5 124.823,240.167 146.5,240.5C 146.5,239.5 146.5,238.5 146.5,237.5C 144.396,237.799 142.396,237.466 140.5,236.5C 142.332,235.752 143.999,234.752 145.5,233.5C 146.192,234.025 146.692,234.692 147,235.5C 147.707,233.919 148.54,232.419 149.5,231C 154.285,228.117 159.285,225.617 164.5,223.5C 165.853,222.476 166.52,221.143 166.5,219.5C 171.167,218.167 175.833,216.833 180.5,215.5C 180.48,213.857 181.147,212.524 182.5,211.5C 185.399,209.94 188.399,208.607 191.5,207.5C 192.853,206.476 193.52,205.143 193.5,203.5C 194.822,203.33 195.989,203.663 197,204.5C 198.242,203.128 199.742,202.128 201.5,201.5C 202.386,200.675 202.719,199.675 202.5,198.5C 204.288,198.785 205.955,198.452 207.5,197.5C 207.291,196.914 206.957,196.414 206.5,196C 207.772,194.693 208.772,193.193 209.5,191.5C 212.421,192.407 215.421,192.74 218.5,192.5C 218.5,191.5 218.5,190.5 218.5,189.5C 220.288,189.785 221.955,189.452 223.5,188.5C 228.994,184.227 234.994,180.894 241.5,178.5C 241.5,177.5 241.5,176.5 241.5,175.5C 244.839,175.11 248.173,174.61 251.5,174C 250.692,173.692 250.025,173.192 249.5,172.5C 252.064,171.436 253.397,172.436 253.5,175.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#c78b1e",d:"M 46.5,213.5 C 77.8404,213.167 109.174,213.5 140.5,214.5C 140.376,215.107 140.043,215.44 139.5,215.5C 108.5,214.833 77.5,214.167 46.5,213.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#985d35",d:"M 43.5,207.5 C 43.461,210.089 44.461,212.089 46.5,213.5C 77.5,214.167 108.5,214.833 139.5,215.5C 139.5,216.167 139.167,216.5 138.5,216.5C 107.336,215.668 76.0027,215.168 44.5,215C 43.6719,213.008 42.3386,211.508 40.5,210.5C 40.5,209.5 40.5,208.5 40.5,207.5C 41.5,207.5 42.5,207.5 43.5,207.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#b68b62",d:"M 53.5,228.5 C 79.1667,227.167 104.833,227.167 130.5,228.5C 130.5,229.167 130.167,229.5 129.5,229.5C 104.339,228.502 79.0055,228.169 53.5,228.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#fcf7b3",d:"M 53.5,228.5 C 79.0055,228.169 104.339,228.502 129.5,229.5C 129.389,230.117 129.056,230.617 128.5,231C 105.836,231.5 83.1691,231.667 60.5,231.5C 59.1667,231.5 58.5,232.167 58.5,233.5C 57.1667,233.5 55.8333,233.5 54.5,233.5C 54.634,231.708 54.3007,230.042 53.5,228.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 53.5,238.5 C 52.8333,239.167 52.8333,239.167 53.5,238.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#914111",d:"M 166.5,239.5 C 162.124,241.138 157.458,241.971 152.5,242C 129.836,242.5 107.169,242.667 84.5,242.5C 83.8333,242.5 83.1667,242.5 82.5,242.5C 110.375,242.021 138.375,241.021 166.5,239.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#a3521e",d:"M 60.5,231.5 C 68.7223,241.063 78.389,248.73 89.5,254.5C 111.928,267.722 136.262,273.055 162.5,270.5C 152.372,272.75 142.038,273.083 131.5,271.5C 103.225,266.528 78.8921,253.862 58.5,233.5C 58.5,232.167 59.1667,231.5 60.5,231.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 226.5,255.5 C 227.833,256.167 227.833,256.167 226.5,255.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f7ad12",d:"M 264.5,175.5 C 265.167,175.5 265.833,175.5 266.5,175.5C 267.232,178.836 267.899,182.502 268.5,186.5C 251.972,229.194 221.638,256.694 177.5,269C 172.566,270.16 167.566,270.66 162.5,270.5C 136.262,273.055 111.928,267.722 89.5,254.5C 90.8734,254.657 92.2068,254.49 93.5,254C 90.7663,253.282 90.0996,251.782 91.5,249.5C 92.3857,250.325 92.719,251.325 92.5,252.5C 93.5,252.5 94.5,252.5 95.5,252.5C 95.3505,253.552 95.5172,254.552 96,255.5C 97.5869,255.658 99.0869,254.991 100.5,253.5C 110.946,257.37 121.612,260.537 132.5,263C 193.022,267.912 235.689,242.745 260.5,187.5C 262.429,183.714 263.762,179.714 264.5,175.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#e5c676",d:"M 54.5,233.5 C 55.8333,233.5 57.1667,233.5 58.5,233.5C 78.8921,253.862 103.225,266.528 131.5,271.5C 129.901,271.232 128.568,271.566 127.5,272.5C 124.167,272.167 120.833,271.833 117.5,271.5C 92.2614,265.72 71.2614,253.053 54.5,233.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#dbd298",d:"M 280.5,124.5 C 281.167,125.5 281.833,126.5 282.5,127.5C 283.387,136.801 283.721,146.134 283.5,155.5C 282.5,164.826 280.833,174.159 278.5,183.5C 277.262,185.214 276.595,187.214 276.5,189.5C 266.259,216.403 249.592,238.403 226.5,255.5C 216.105,262.508 205.105,268.175 193.5,272.5C 191.007,272.329 189.174,273.329 188,275.5C 186.286,274.075 184.953,274.408 184,276.5C 183.275,275.941 182.442,275.608 181.5,275.5C 175.321,277.474 168.987,278.474 162.5,278.5C 155.726,276.849 148.726,275.849 141.5,275.5C 173.865,278.249 202.532,269.582 227.5,249.5C 233.768,245.1 239.601,240.1 245,234.5C 259.207,217.964 269.54,199.298 276,178.5C 278.545,171.035 279.712,163.369 279.5,155.5C 280.268,154.737 280.768,153.737 281,152.5C 281.566,143.153 281.399,133.82 280.5,124.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#f6eca2",d:"M 275.5,159.5 C 275.5,162.833 275.5,166.167 275.5,169.5C 268.843,202.157 252.51,228.824 226.5,249.5C 208.503,262.23 188.503,270.397 166.5,274C 153.415,274.918 140.415,274.418 127.5,272.5C 128.568,271.566 129.901,271.232 131.5,271.5C 142.038,273.083 152.372,272.75 162.5,270.5C 167.566,270.66 172.566,270.16 177.5,269C 221.638,256.694 251.972,229.194 268.5,186.5C 271.215,177.592 273.548,168.592 275.5,159.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 102.5,271.5 C 101.833,272.167 101.833,272.167 102.5,271.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 193.5,272.5 C 194.833,273.167 194.833,273.167 193.5,272.5 Z"})}),T("g",{children:T("path",{style:"opacity:1",fill:"#daa236",d:"M 226.5,249.5 C 226.833,249.5 227.167,249.5 227.5,249.5C 202.532,269.582 173.865,278.249 141.5,275.5C 133.066,276.049 125.066,274.715 117.5,271.5C 120.833,271.833 124.167,272.167 127.5,272.5C 140.415,274.418 153.415,274.918 166.5,274C 188.503,270.397 208.503,262.23 226.5,249.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 118.5,276.5 C 119.833,277.167 119.833,277.167 118.5,276.5 Z"})}),T("g",{children:T("path",{style:"opacity:0.004",fill:"#000000",d:"M 180.5,276.5 C 181.833,277.167 181.833,277.167 180.5,276.5 Z"})})]})}function V2(){return T(Gm,{size:"lg",className:"w-64",children:T("a",{className:"transition-colors flex items-center space-x-6 dark:text-white hover:text-blue-500 w-64",href:"/",children:[T("div",{className:"w-16",children:T(B4,{})}),"TP Thủ Đức"]})})}const ea=20;function F4({className:e,role:n="dialog",children:i,onDismiss:l,portalRootID:f,relativeTo:m,widthRelative:a=!1}){const[x,b]=$e({top:-9999,left:-9999}),[P,M]=$e(!1),k=f&&document.getElementById(f),N=Ae(null),G=cr(it=>{l&&l(it)},[l]),U=cr(it=>{const et=N.current&&N.current.querySelectorAll("[tabindex]");if(it.key==="Tab"&&et.length){it.shiftKey&&document.activeElement===et[0]?(et[et.length-1].focus(),it.preventDefault()):document.activeElement===et[et.length-1]&&(et[0].focus(),it.preventDefault());return}if(it.key==="Escape"){M(!1),G();return}},[N,G]);Po(()=>{if(N&&N.current&&m&&m.current){const it=window.innerWidth,et=window.innerHeight,{width:dt,height:st}=N.current.getBoundingClientRect(),{x:at,y:yt,width:Ct,height:xt}=m.current.getBoundingClientRect(),Dt=(a?Ct:dt)*1.1,Bt=at+window.scrollX,Zt=yt+window.scrollY;let Jt=Zt,te=Bt;Bt<ea?te=ea:te+Dt+ea>=it-ea&&(te=it-Dt-ea),Zt+st>et-ea+window.scrollY&&Zt-st-xt>=ea&&(Jt=Zt-st),Zt<=ea+window.scrollY&&(Jt=ea);const Nt=et-ea*2-Zt>st?null:et-ea*2-Zt+window.scrollY,oe={left:te,top:Jt,maxHeight:Nt};a&&(oe.width=Ct),b(oe);const ue=N.current.querySelector("[tabindex]");ue&&ue.focus()}},[m,N,a]),pr(()=>{x.top>=0?window.requestAnimationFrame(()=>{M(!0)}):M(!1)},[P,x,N]);const H=T(en,{children:[T("div",{"data-testid":"scrim",className:"fixed inset-0 z-10",onClick:G},"scrim"),T("div",{className:`z-10 bg-white dark:bg-gray-700 dark:text-white absolute shadow-lg rounded w-auto h-auto transition-transform duration-75 transform scale-90 opacity-0 overflow-x-hidden overflow-y-auto ${P?"scale-100 opacity-100":""} ${e}`,onKeyDown:U,role:n,ref:N,style:x,children:i},"menu")]});return k?Ju(H,k):H}function N4({className:e,children:n,onDismiss:i,relativeTo:l,widthRelative:f}){return l?T(F4,{children:n,className:`${e||""} py-2`,role:"listbox",onDismiss:i,portalRootID:"menus",relativeTo:l,widthRelative:f}):null}function Kc({focus:e,icon:n,label:i,href:l,onSelect:f,value:m,...a}){const x=cr(()=>{f&&f(m,i)},[f,m,i]);return T(l?"a":"div",{className:`flex space-x-2 p-2 px-5 hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-white cursor-pointer ${e?"bg-gray-200 dark:bg-gray-800 dark:text-white":""}`,href:l,onClick:x,role:"option",...a,children:[n?T("div",{className:"w-6 h-6 self-center mr-4 text-gray-500 flex-shrink-0",children:T(n,{})}):null,T("div",{className:"whitespace-nowrap",children:i})]})}function Vg(){return T("div",{className:"border-b border-gray-200 dark:border-gray-800 my-2"})}function U4({className:e=""}){return T("svg",{className:`fill-current ${e}`,viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0z",fill:"none"}),T("path",{d:"M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"})]})}const V4=In(U4);function j4({className:e=""}){return T("svg",{className:`fill-current ${e}`,viewBox:"0 0 24 24",children:[T("rect",{fill:"none",height:"24",width:"24"}),T("path",{d:"M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0 c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2 c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1 C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06 c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41 l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41 c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36 c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"})]})}const $4=In(j4);function Z4({className:e=""}){return T("svg",{className:`fill-current ${e}`,viewBox:"0 0 24 24",children:[T("rect",{fill:"none",height:"24",width:"24"}),T("path",{d:"M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36c-0.98,1.37-2.58,2.26-4.4,2.26 c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"})]})}const q4=In(Z4);function W4({className:e=""}){return T("svg",{className:`fill-current ${e}`,viewBox:"0 0 24 24",children:[T("rect",{fill:"none",height:"24",width:"24"}),T("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"})]})}const jg=In(W4);function H4({children:e,portalRootID:n="dialogs"}){const i=n&&document.getElementById(n),[l,f]=$e(!1);pr(()=>{window.requestAnimationFrame(()=>{f(!0)})},[]);const m=T(en,{children:T("div",{"data-testid":"scrim",className:"fixed bg-fixed inset-0 z-10 flex justify-center items-center bg-black bg-opacity-40",children:T("div",{role:"modal",className:`absolute rounded shadow-2xl bg-white dark:bg-gray-700 sm:max-w-sm md:max-w-md lg:max-w-lg text-gray-900 dark:text-white transition-transform transition-opacity duration-75 transform scale-90 opacity-0 ${l?"scale-100 opacity-100":""}`,children:e})},"scrim")});return i?Ju(m,i):m}function $g({actions:e=[],title:n,text:i}){return T(H4,{children:[T("div",{className:"p-4",children:[T(Gm,{size:"lg",children:n}),T("p",{children:i})]}),T("div",{className:"p-2 flex justify-start flex-row-reverse space-x-2",children:e.map(({color:l,text:f,onClick:m,...a},x)=>T(bp,{className:"ml-2",color:l,onClick:m,type:"text",...a,children:f},x))})]})}const Xm=`${window.location.protocol}//${window.location.host}${window.baseUrl||"/"}`;var j2=Symbol.for("immer-nothing"),Zg=Symbol.for("immer-draftable"),So=Symbol.for("immer-state");function ia(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ju=Object.getPrototypeOf;function $u(e){return!!e&&!!e[So]}function Ml(e){var n;return e?$2(e)||Array.isArray(e)||!!e[Zg]||!!((n=e.constructor)!=null&&n[Zg])||Df(e)||Lf(e):!1}var G4=Object.prototype.constructor.toString();function $2(e){if(!e||typeof e!="object")return!1;const n=ju(e);if(n===null)return!0;const i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===G4}function xp(e,n){zf(e)===0?Object.entries(e).forEach(([i,l])=>{n(i,l,e)}):e.forEach((i,l)=>n(l,i,e))}function zf(e){const n=e[So];return n?n.type_:Array.isArray(e)?1:Df(e)?2:Lf(e)?3:0}function tm(e,n){return zf(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function Z2(e,n,i){const l=zf(e);l===2?e.set(n,i):l===3?e.add(i):e[n]=i}function X4(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}function Df(e){return e instanceof Map}function Lf(e){return e instanceof Set}function wl(e){return e.copy_||e.base_}function em(e,n){if(Df(e))return new Map(e);if(Lf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!n&&$2(e))return ju(e)?{...e}:Object.assign(Object.create(null),e);const i=Object.getOwnPropertyDescriptors(e);delete i[So];let l=Reflect.ownKeys(i);for(let f=0;f<l.length;f++){const m=l[f],a=i[m];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(i[m]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[m]})}return Object.create(ju(e),i)}function Km(e,n=!1){return Bf(e)||$u(e)||!Ml(e)||(zf(e)>1&&(e.set=e.add=e.clear=e.delete=K4),Object.freeze(e),n&&xp(e,(i,l)=>Km(l,!0))),e}function K4(){ia(2)}function Bf(e){return Object.isFrozen(e)}var Y4={};function Al(e){const n=Y4[e];return n||ia(0,e),n}var wp;function q2(){return wp}function J4(e,n){return{drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qg(e,n){n&&(Al("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function rm(e){nm(e),e.drafts_.forEach(Q4),e.drafts_=null}function nm(e){e===wp&&(wp=e.parent_)}function Wg(e){return wp=J4(wp,e)}function Q4(e){const n=e[So];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function Hg(e,n){n.unfinalizedDrafts_=n.drafts_.length;const i=n.drafts_[0];return e!==void 0&&e!==i?(i[So].modified_&&(rm(n),ia(4)),Ml(e)&&(e=df(n,e),n.parent_||mf(n,e)),n.patches_&&Al("Patches").generateReplacementPatches_(i[So].base_,e,n.patches_,n.inversePatches_)):e=df(n,i,[]),rm(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==j2?e:void 0}function df(e,n,i){if(Bf(n))return n;const l=n[So];if(!l)return xp(n,(f,m)=>Gg(e,l,n,f,m,i)),n;if(l.scope_!==e)return n;if(!l.modified_)return mf(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const f=l.copy_;let m=f,a=!1;l.type_===3&&(m=new Set(f),f.clear(),a=!0),xp(m,(x,b)=>Gg(e,l,f,x,b,i,a)),mf(e,f,!1),i&&e.patches_&&Al("Patches").generatePatches_(l,i,e.patches_,e.inversePatches_)}return l.copy_}function Gg(e,n,i,l,f,m,a){if($u(f)){const x=m&&n&&n.type_!==3&&!tm(n.assigned_,l)?m.concat(l):void 0,b=df(e,f,x);if(Z2(i,l,b),$u(b))e.canAutoFreeze_=!1;else return}else a&&i.add(f);if(Ml(f)&&!Bf(f)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;df(e,f),(!n||!n.scope_.parent_)&&mf(e,f)}}function mf(e,n,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Km(n,i)}function tw(e,n){const i=Array.isArray(e),l={type_:i?1:0,scope_:n?n.scope_:q2(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let f=l,m=Ym;i&&(f=[l],m=Cp);const{revoke:a,proxy:x}=Proxy.revocable(f,m);return l.draft_=x,l.revoke_=a,x}var Ym={get(e,n){if(n===So)return e;const i=wl(e);if(!tm(i,n))return ew(e,i,n);const l=i[n];return e.finalized_||!Ml(l)?l:l===T1(e.base_,n)?(P1(e),e.copy_[n]=om(l,e)):l},has(e,n){return n in wl(e)},ownKeys(e){return Reflect.ownKeys(wl(e))},set(e,n,i){const l=W2(wl(e),n);if(l!=null&&l.set)return l.set.call(e.draft_,i),!0;if(!e.modified_){const f=T1(wl(e),n),m=f==null?void 0:f[So];if(m&&m.base_===i)return e.copy_[n]=i,e.assigned_[n]=!1,!0;if(X4(i,f)&&(i!==void 0||tm(e.base_,n)))return!0;P1(e),im(e)}return e.copy_[n]===i&&(i!==void 0||n in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=i,e.assigned_[n]=!0),!0},deleteProperty(e,n){return T1(e.base_,n)!==void 0||n in e.base_?(e.assigned_[n]=!1,P1(e),im(e)):delete e.assigned_[n],e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const i=wl(e),l=Reflect.getOwnPropertyDescriptor(i,n);return l&&{writable:!0,configurable:e.type_!==1||n!=="length",enumerable:l.enumerable,value:i[n]}},defineProperty(){ia(11)},getPrototypeOf(e){return ju(e.base_)},setPrototypeOf(){ia(12)}},Cp={};xp(Ym,(e,n)=>{Cp[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});Cp.deleteProperty=function(e,n){return Cp.set.call(this,e,n,void 0)};Cp.set=function(e,n,i){return Ym.set.call(this,e[0],n,i,e[0])};function T1(e,n){const i=e[So];return(i?wl(i):e)[n]}function ew(e,n,i){var f;const l=W2(n,i);return l?"value"in l?l.value:(f=l.get)==null?void 0:f.call(e.draft_):void 0}function W2(e,n){if(!(n in e))return;let i=ju(e);for(;i;){const l=Object.getOwnPropertyDescriptor(i,n);if(l)return l;i=ju(i)}}function im(e){e.modified_||(e.modified_=!0,e.parent_&&im(e.parent_))}function P1(e){e.copy_||(e.copy_=em(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rw=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,i,l)=>{if(typeof n=="function"&&typeof i!="function"){const m=i;i=n;const a=this;return function(b=m,...P){return a.produce(b,M=>i.call(this,M,...P))}}typeof i!="function"&&ia(6),l!==void 0&&typeof l!="function"&&ia(7);let f;if(Ml(n)){const m=Wg(this),a=om(n,void 0);let x=!0;try{f=i(a),x=!1}finally{x?rm(m):nm(m)}return qg(m,l),Hg(f,m)}else if(!n||typeof n!="object"){if(f=i(n),f===void 0&&(f=n),f===j2&&(f=void 0),this.autoFreeze_&&Km(f,!0),l){const m=[],a=[];Al("Patches").generateReplacementPatches_(n,f,m,a),l(m,a)}return f}else ia(1,n)},this.produceWithPatches=(n,i)=>{if(typeof n=="function")return(a,...x)=>this.produceWithPatches(a,b=>n(b,...x));let l,f;return[this.produce(n,i,(a,x)=>{l=a,f=x}),l,f]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ml(e)||ia(8),$u(e)&&(e=nw(e));const n=Wg(this),i=om(e,void 0);return i[So].isManual_=!0,nm(n),i}finishDraft(e,n){const i=e&&e[So];(!i||!i.isManual_)&&ia(9);const{scope_:l}=i;return qg(l,n),Hg(void 0,l)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let i;for(i=n.length-1;i>=0;i--){const f=n[i];if(f.path.length===0&&f.op==="replace"){e=f.value;break}}i>-1&&(n=n.slice(i+1));const l=Al("Patches").applyPatches_;return $u(e)?l(e,n):this.produce(e,f=>l(f,n))}};function om(e,n){const i=Df(e)?Al("MapSet").proxyMap_(e,n):Lf(e)?Al("MapSet").proxySet_(e,n):tw(e,n);return(n?n.scope_:q2()).drafts_.push(i),i}function nw(e){return $u(e)||ia(10,e),H2(e)}function H2(e){if(!Ml(e)||Bf(e))return e;const n=e[So];let i;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,i=em(e,n.scope_.immer_.useStrictShallowCopy_)}else i=em(e,!0);return xp(i,(l,f)=>{Z2(i,l,H2(f))}),n&&(n.finalized_=!1),i}var Eo=new rw,Xg=Eo.produce;Eo.produceWithPatches.bind(Eo);Eo.setAutoFreeze.bind(Eo);Eo.setUseStrictShallowCopy.bind(Eo);Eo.applyPatches.bind(Eo);Eo.createDraft.bind(Eo);Eo.finishDraft.bind(Eo);const G2=Object.freeze({__connected:!1}),X2=Uo({state:G2,connection:null}),iw=e=>new WebSocket(e);function ow(e,{topic:n,payload:i,retain:l}){switch(n){case"__CLIENT_CONNECTED":return Xg(e,f=>{f.__connected=!0});default:return Xg(e,f=>{let m=i;try{m=i&&JSON.parse(i)}catch{}f[n]={lastUpdate:Date.now(),payload:m,retain:l}})}}function aw({config:e,children:n,createWebsocket:i=iw,wsUrl:l=`${Xm.replace(/^http/,"ws")}ws`}){const[f,m]=Rf(ow,G2),a=Ae();return pr(()=>{Object.keys(e.cameras).forEach(x=>{const{name:b,record:P,detect:M,snapshots:k,audio:N}=e.cameras[x];m({topic:`${b}/recordings/state`,payload:P.enabled?"ON":"OFF",retain:!1}),m({topic:`${b}/detect/state`,payload:M.enabled?"ON":"OFF",retain:!1}),m({topic:`${b}/snapshots/state`,payload:k.enabled?"ON":"OFF",retain:!1})})},[e]),pr(()=>{const x=i(l);return x.onopen=()=>{m({topic:"__CLIENT_CONNECTED"})},x.onmessage=b=>{m(JSON.parse(b.data))},a.current=x,()=>{x.close(3e3,"Provider destroyed")}},[f.__reconnectAttempts,l]),T(X2.Provider,{value:{state:f,ws:a.current},children:n})}function Qu(e,n){const{state:i,ws:l}=Mi(X2),f=i[e]||{payload:null},m=cr((a,x=!1)=>{l.send(JSON.stringify({topic:n||e,payload:typeof a!="string"?JSON.stringify(a):a,retain:x}))},[l,e,n]);return{value:f,send:m,connected:i.__connected}}function sw(e){const{value:{payload:n},send:i,connected:l}=Qu(`${e}/detect/state`,`${e}/detect/set`);return{payload:n,send:i,connected:l}}function lw(e){const{value:{payload:n},send:i,connected:l}=Qu(`${e}/recordings/state`,`${e}/recordings/set`);return{payload:n,send:i,connected:l}}function uw(e){const{value:{payload:n},send:i,connected:l}=Qu(`${e}/snapshots/state`,`${e}/snapshots/set`);return{payload:n,send:i,connected:l}}function cw(e){const{value:{payload:n},send:i,connected:l}=Qu(`${e}/audio/state`,`${e}/audio/set`);return{payload:n,send:i,connected:l}}function UA(e){const{value:{payload:n},send:i,connected:l}=Qu(`${e}/ptz`,`${e}/ptz`);return{payload:n,send:i,connected:l}}function pw(){const{value:{payload:e},send:n,connected:i}=Qu("restart","restart");return{payload:e,send:n,connected:i}}function hw(){const[e,n]=$e(!1),[i,l]=$e(!1),[f,m]=$e(!1),{setDarkMode:a}=z4(),{send:x}=pw(),b=cr(H=>{a(H),n(!1)},[a,n]),P=Ae(null),M=cr(()=>{n(!0)},[n]),k=cr(()=>{n(!1)},[n]),N=cr(()=>{l(!1),m(!0),x()},[l]),G=cr(()=>{l(!1)},[l]),U=cr(()=>{n(!1),l(!0)},[l]);return T(en,{children:[T(L4,{title:V2,overflowRef:P,onOverflowClick:M}),e?T(N4,{onDismiss:k,relativeTo:P,children:[T(Kc,{icon:V4,label:"Tự động nền tối",value:"media",onSelect:b}),T(Vg,{}),T(Kc,{icon:$4,label:"Nền sáng",value:"light",onSelect:b}),T(Kc,{icon:q4,label:"Nền tối",value:"dark",onSelect:b}),T(Vg,{}),T(Kc,{icon:jg,label:"Đăng xuất",href:"/login",onClick:()=>{localStorage.clear(),window.location.reload(!0)}}),T(Kc,{icon:jg,label:"Khởi động lại",onSelect:U})]}):null,i?T($g,{onDismiss:G,title:"Khởi động lại",text:"Xác nhận khởi động lại hệ thống?",actions:[{text:"Đồng ý",color:"red",onClick:N},{text:"Hủy",onClick:G}]}):null,f?T($g,{title:"Đang khởi động lại",text:"Quá trình có thể mất ít phút để hoàn thành. Xin vui lòng đợi trước khi tải lại trang."}):null]})}function fw({buttons:e=[],className:n="",content:i,elevated:l=!0,header:f,href:m,icons:a=[],media:x=null,...b}){const P=m?"a":"div";return T("div",{className:`bg-white dark:bg-gray-800 rounded-lg overflow-hidden ${l?"shadow-md hover:shadow-lg transition-shadow":"border border-gray-200 dark:border-gray-700"} ${n}`,children:[x||f?T(P,{href:m,...b,children:[x,T("div",{className:"p-4 pb-2",children:f?T(Gm,{size:"base",children:f}):null})]}):null,e.length||i||a.length?T("div",{className:"px-4 pb-2",children:[i||null,e.length?T("div",{className:"flex space-x-4 -ml-2",children:[e.map(({name:k,href:N})=>T(bp,{href:N,type:"text",children:k},k)),T("div",{class:"flex-grow"}),a.map(({name:k,icon:N,...G})=>T(bp,{"aria-label":k,ariaCapitalize:!0,className:"rounded-full",type:"text",...G,children:T(N,{className:"w-6"})},k))]}):null]}):null]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function K2(e,n,i,l){function f(m){return m instanceof i?m:new i(function(a){a(m)})}return new(i||(i=Promise))(function(m,a){function x(M){try{P(l.next(M))}catch(k){a(k)}}function b(M){try{P(l.throw(M))}catch(k){a(k)}}function P(M){M.done?m(M.value):f(M.value).then(x,b)}P((l=l.apply(e,n||[])).next())})}function Y2(e,n){var i={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},l,f,m,a;return a={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function x(P){return function(M){return b([P,M])}}function b(P){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,f&&(m=P[0]&2?f.return:P[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,P[1])).done)return m;switch(f=0,m&&(P=[P[0]&2,m.value]),P[0]){case 0:case 1:m=P;break;case 4:return i.label++,{value:P[1],done:!1};case 5:i.label++,f=P[1],P=[0];continue;case 7:P=i.ops.pop(),i.trys.pop();continue;default:if(m=i.trys,!(m=m.length>0&&m[m.length-1])&&(P[0]===6||P[0]===2)){i=0;continue}if(P[0]===3&&(!m||P[1]>m[0]&&P[1]<m[3])){i.label=P[1];break}if(P[0]===6&&i.label<m[1]){i.label=m[1],m=P;break}if(m&&i.label<m[2]){i.label=m[2],i.ops.push(P);break}m[2]&&i.ops.pop(),i.trys.pop();continue}P=n.call(e,i)}catch(M){P=[6,M],f=0}finally{l=m=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}}var Ta=function(){},$i=Ta(),sp=Object,eo=function(e){return e===$i},Us=function(e){return typeof e=="function"},cs=function(e,n){return sp.assign({},e,n)},Jm="undefined",Qm=function(){return typeof window!=Jm},dw=function(){return typeof document!=Jm},mw=function(){return Qm()&&typeof window.requestAnimationFrame!=Jm},qh=new WeakMap,yw=0,Sp=function(e){var n=typeof e,i=e&&e.constructor,l=i==Date,f,m;if(sp(e)===e&&!l&&i!=RegExp){if(f=qh.get(e),f)return f;if(f=++yw+"~",qh.set(e,f),i==Array){for(f="@",m=0;m<e.length;m++)f+=Sp(e[m])+",";qh.set(e,f)}if(i==sp){f="#";for(var a=sp.keys(e).sort();!eo(m=a.pop());)eo(e[m])||(f+=m+":"+Sp(e[m])+",");qh.set(e,f)}}else f=l?e.toJSON():n=="symbol"?e.toString():n=="string"?JSON.stringify(e):""+e;return f},am=!0,gw=function(){return am},J2=Qm(),ty=dw(),sm=J2&&window.addEventListener?window.addEventListener.bind(window):Ta,vw=ty?document.addEventListener.bind(document):Ta,lm=J2&&window.removeEventListener?window.removeEventListener.bind(window):Ta,_w=ty?document.removeEventListener.bind(document):Ta,bw=function(){var e=ty&&document.visibilityState;return eo(e)||e!=="hidden"},xw=function(e){return vw("visibilitychange",e),sm("focus",e),function(){_w("visibilitychange",e),lm("focus",e)}},ww=function(e){var n=function(){am=!0,e()},i=function(){am=!1};return sm("online",n),sm("offline",i),function(){lm("online",n),lm("offline",i)}},Cw={isOnline:gw,isVisible:bw},Sw={initFocus:xw,initReconnect:ww},Ff=!Qm()||"Deno"in window,Ew=function(e){return mw()?window.requestAnimationFrame(e):setTimeout(e,1)},lp=Ff?pr:Po,I1=typeof navigator<"u"&&navigator.connection,Kg=!Ff&&I1&&(["slow-2g","2g"].includes(I1.effectiveType)||I1.saveData),Q2=function(e){if(Us(e))try{e=e()}catch{e=""}var n=[].concat(e);e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Sp(e):"";var i=e?"$swr$"+e:"";return[e,n,i]},Tl=new WeakMap,t5=0,e5=1,r5=2,up=function(e,n,i,l,f,m,a){a===void 0&&(a=!0);var x=Tl.get(e),b=x[0],P=x[1],M=x[3],k=b[n],N=P[n];if(a&&N)for(var G=0;G<N.length;++G)N[G](i,l,f);return m&&(delete M[n],k&&k[0])?k[0](r5).then(function(){return e.get(n)}):e.get(n)},Tw=0,um=function(){return++Tw},n5=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return K2(void 0,void 0,void 0,function(){var i,l,f,m,a,x,b,P,M,k,N,G,U,H,it,et,dt,st,at,yt,Ct;return Y2(this,function(xt){switch(xt.label){case 0:if(i=e[0],l=e[1],f=e[2],m=e[3],a=typeof m=="boolean"?{revalidate:m}:m||{},x=eo(a.populateCache)?!0:a.populateCache,b=a.revalidate!==!1,P=a.rollbackOnError!==!1,M=a.optimisticData,k=Q2(l),N=k[0],G=k[2],!N)return[2];if(U=Tl.get(i),H=U[2],e.length<3)return[2,up(i,N,i.get(N),$i,$i,b,!0)];if(it=f,dt=um(),H[N]=[dt,0],st=!eo(M),at=i.get(N),st&&(yt=Us(M)?M(at):M,i.set(N,yt),up(i,N,yt)),Us(it))try{it=it(i.get(N))}catch(Vt){et=Vt}return it&&Us(it.then)?[4,it.catch(function(Vt){et=Vt})]:[3,2];case 1:if(it=xt.sent(),dt!==H[N][0]){if(et)throw et;return[2,it]}else et&&st&&P&&(x=!0,it=at,i.set(N,at));xt.label=2;case 2:return x&&(et||(Us(x)&&(it=x(it,at)),i.set(N,it)),i.set(G,cs(i.get(G),{error:et}))),H[N][1]=um(),[4,up(i,N,it,et,$i,b,!!x)];case 3:if(Ct=xt.sent(),et)throw et;return[2,x?Ct:it]}})})},Yg=function(e,n){for(var i in e)e[i][0]&&e[i][0](n)},i5=function(e,n){if(!Tl.has(e)){var i=cs(Sw,n),l={},f=n5.bind($i,e),m=Ta;if(Tl.set(e,[l,{},{},{},f]),!Ff){var a=i.initFocus(setTimeout.bind($i,Yg.bind($i,l,t5))),x=i.initReconnect(setTimeout.bind($i,Yg.bind($i,l,e5)));m=function(){a&&a(),x&&x(),Tl.delete(e)}}return[e,f,m]}return[e,Tl.get(e)[4]]},Pw=function(e,n,i,l,f){var m=i.errorRetryCount,a=f.retryCount,x=~~((Math.random()+.5)*(1<<(a<8?a:8)))*i.errorRetryInterval;!eo(m)&&a>m||setTimeout(l,x,f)},o5=i5(new Map),a5=o5[0],Iw=o5[1],s5=cs({onLoadingSlow:Ta,onSuccess:Ta,onError:Ta,onErrorRetry:Pw,onDiscarded:Ta,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Kg?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Kg?5e3:3e3,compare:function(e,n){return Sp(e)==Sp(n)},isPaused:function(){return!1},cache:a5,mutate:Iw,fallback:{}},Cw),l5=function(e,n){var i=cs(e,n);if(n){var l=e.use,f=e.fallback,m=n.use,a=n.fallback;l&&m&&(i.use=l.concat(m)),f&&a&&(i.fallback=cs(f,a))}return i},cm=Uo({}),Mw=function(e){var n=e.value,i=l5(Mi(cm),n),l=n&&n.provider,f=$e(function(){return l?i5(l(i.cache||a5),n):$i})[0];return f&&(i.cache=f[0],i.mutate=f[1]),lp(function(){return f?f[2]:$i},[]),Ue(cm.Provider,cs(e,{value:i}))},Aw=function(e,n){var i=$e({})[1],l=Ae(e),f=Ae({data:!1,error:!1,isValidating:!1}),m=cr(function(a){var x=!1,b=l.current;for(var P in a){var M=P;b[M]!==a[M]&&(b[M]=a[M],f.current[M]&&(x=!0))}x&&!n.current&&i({})},[]);return lp(function(){l.current=e}),[l,f.current,m]},kw=function(e){return Us(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}]},Ow=function(){return cs(s5,Mi(cm))},Rw=function(e){return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var f=Ow(),m=kw(i),a=m[0],x=m[1],b=m[2],P=l5(f,b),M=e,k=P.use;if(k)for(var N=k.length;N-- >0;)M=k[N](M);return M(a,x||P.fetcher,P)}},Jg=function(e,n,i){var l=n[e]||(n[e]=[]);return l.push(i),function(){var f=l.indexOf(i);f>=0&&(l[f]=l[l.length-1],l.pop())}},M1={dedupe:!0},zw=function(e,n,i){var l=i.cache,f=i.compare,m=i.fallbackData,a=i.suspense,x=i.revalidateOnMount,b=i.refreshInterval,P=i.refreshWhenHidden,M=i.refreshWhenOffline,k=Tl.get(l),N=k[0],G=k[1],U=k[2],H=k[3],it=Q2(e),et=it[0],dt=it[1],st=it[2],at=Ae(!1),yt=Ae(!1),Ct=Ae(et),xt=Ae(n),Vt=Ae(i),Dt=function(){return Vt.current},Bt=function(){return Dt().isVisible()&&Dt().isOnline()},Zt=function(Ee){return l.set(st,cs(l.get(st),Ee))},Jt=l.get(et),te=eo(m)?i.fallback[et]:m,Nt=eo(Jt)?te:Jt,oe=l.get(st)||{},ue=oe.error,be=!at.current,ke=function(){return be&&!eo(x)?x:Dt().isPaused()?!1:a?eo(Nt)?!1:i.revalidateIfStale:eo(Nt)||i.revalidateIfStale},Xe=function(){return!et||!n?!1:oe.isValidating?!0:be&&ke()},dr=Xe(),Nr=Aw({data:Nt,error:ue,isValidating:dr},yt),nr=Nr[0],Zr=Nr[1],fr=Nr[2],vr=cr(function(Ee){return K2(void 0,void 0,void 0,function(){var lr,xe,Ve,Je,or,Gt,Se,ir,_r,hn,zr,mr,Mn;return Y2(this,function(qe){switch(qe.label){case 0:if(lr=xt.current,!et||!lr||yt.current||Dt().isPaused())return[2,!1];Je=!0,or=Ee||{},Gt=!H[et]||!or.dedupe,Se=function(){return!yt.current&&et===Ct.current&&at.current},ir=function(){var vn=H[et];vn&&vn[1]===Ve&&delete H[et]},_r={isValidating:!1},hn=function(){Zt({isValidating:!1}),Se()&&fr(_r)},Zt({isValidating:!0}),fr({isValidating:!0}),qe.label=1;case 1:return qe.trys.push([1,3,,4]),Gt&&(up(l,et,nr.current.data,nr.current.error,!0),i.loadingTimeout&&!l.get(et)&&setTimeout(function(){Je&&Se()&&Dt().onLoadingSlow(et,i)},i.loadingTimeout),H[et]=[lr.apply(void 0,dt),um()]),Mn=H[et],xe=Mn[0],Ve=Mn[1],[4,xe];case 2:return xe=qe.sent(),Gt&&setTimeout(ir,i.dedupingInterval),!H[et]||H[et][1]!==Ve?(Gt&&Se()&&Dt().onDiscarded(et),[2,!1]):(Zt({error:$i}),_r.error=$i,zr=U[et],!eo(zr)&&(Ve<=zr[0]||Ve<=zr[1]||zr[1]===0)?(hn(),Gt&&Se()&&Dt().onDiscarded(et),[2,!1]):(f(nr.current.data,xe)?_r.data=nr.current.data:_r.data=xe,f(l.get(et),xe)||l.set(et,xe),Gt&&Se()&&Dt().onSuccess(xe,et,i),[3,4]));case 3:return mr=qe.sent(),ir(),Dt().isPaused()||(Zt({error:mr}),_r.error=mr,Gt&&Se()&&(Dt().onError(mr,et,i),(typeof i.shouldRetryOnError=="boolean"&&i.shouldRetryOnError||Us(i.shouldRetryOnError)&&i.shouldRetryOnError(mr))&&Bt()&&Dt().onErrorRetry(mr,et,i,vr,{retryCount:(or.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Je=!1,hn(),Se()&&Gt&&up(l,et,_r.data,_r.error,!1),[2,!0]}})})},[et]),Sr=cr(n5.bind($i,l,function(){return Ct.current}),[]);if(lp(function(){xt.current=n,Vt.current=i}),lp(function(){if(et){var Ee=et!==Ct.current,lr=vr.bind($i,M1),xe=function(Se,ir,_r){fr(cs({error:ir,isValidating:_r},f(nr.current.data,Se)?$i:{data:Se}))},Ve=0,Je=function(Se){if(Se==t5){var ir=Date.now();Dt().revalidateOnFocus&&ir>Ve&&Bt()&&(Ve=ir+Dt().focusThrottleInterval,lr())}else if(Se==e5)Dt().revalidateOnReconnect&&Bt()&&lr();else if(Se==r5)return vr()},or=Jg(et,G,xe),Gt=Jg(et,N,Je);return yt.current=!1,Ct.current=et,at.current=!0,Ee&&fr({data:Nt,error:ue,isValidating:dr}),ke()&&(eo(Nt)||Ff?lr():Ew(lr)),function(){yt.current=!0,or(),Gt()}}},[et,vr]),lp(function(){var Ee;function lr(){var Ve=Us(b)?b(Nt):b;Ve&&Ee!==-1&&(Ee=setTimeout(xe,Ve))}function xe(){!nr.current.error&&(P||Dt().isVisible())&&(M||Dt().isOnline())?vr(M1).then(lr):lr()}return lr(),function(){Ee&&(clearTimeout(Ee),Ee=-1)}},[b,P,M,vr]),Um(Nt),a&&eo(Nt)&&et)throw xt.current=n,Vt.current=i,yt.current=!1,eo(ue)?vr(M1):ue;return{mutate:Sr,get data(){return Zr.data=!0,Nt},get error(){return Zr.error=!0,ue},get isValidating(){return Zr.isValidating=!0,dr}}},Dw=sp.defineProperty(Mw,"default",{value:s5}),zp=Rw(zw);function u5(e,n){return function(){return e.apply(n,arguments)}}const{toString:Lw}=Object.prototype,{getPrototypeOf:ey}=Object,Nf=(e=>n=>{const i=Lw.call(n);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Ra=e=>(e=e.toLowerCase(),n=>Nf(n)===e),Uf=e=>n=>typeof n===e,{isArray:tc}=Array,Ep=Uf("undefined");function Bw(e){return e!==null&&!Ep(e)&&e.constructor!==null&&!Ep(e.constructor)&&Fo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const c5=Ra("ArrayBuffer");function Fw(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&c5(e.buffer),n}const Nw=Uf("string"),Fo=Uf("function"),p5=Uf("number"),Vf=e=>e!==null&&typeof e=="object",Uw=e=>e===!0||e===!1,ef=e=>{if(Nf(e)!=="object")return!1;const n=ey(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vw=Ra("Date"),jw=Ra("File"),$w=Ra("Blob"),Zw=Ra("FileList"),qw=e=>Vf(e)&&Fo(e.pipe),Ww=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Fo(e.append)&&((n=Nf(e))==="formdata"||n==="object"&&Fo(e.toString)&&e.toString()==="[object FormData]"))},Hw=Ra("URLSearchParams"),Gw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dp(e,n,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let l,f;if(typeof e!="object"&&(e=[e]),tc(e))for(l=0,f=e.length;l<f;l++)n.call(null,e[l],l,e);else{const m=i?Object.getOwnPropertyNames(e):Object.keys(e),a=m.length;let x;for(l=0;l<a;l++)x=m[l],n.call(null,e[x],x,e)}}function h5(e,n){n=n.toLowerCase();const i=Object.keys(e);let l=i.length,f;for(;l-- >0;)if(f=i[l],n===f.toLowerCase())return f;return null}const f5=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),d5=e=>!Ep(e)&&e!==f5;function pm(){const{caseless:e}=d5(this)&&this||{},n={},i=(l,f)=>{const m=e&&h5(n,f)||f;ef(n[m])&&ef(l)?n[m]=pm(n[m],l):ef(l)?n[m]=pm({},l):tc(l)?n[m]=l.slice():n[m]=l};for(let l=0,f=arguments.length;l<f;l++)arguments[l]&&Dp(arguments[l],i);return n}const Xw=(e,n,i,{allOwnKeys:l}={})=>(Dp(n,(f,m)=>{i&&Fo(f)?e[m]=u5(f,i):e[m]=f},{allOwnKeys:l}),e),Kw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Yw=(e,n,i,l)=>{e.prototype=Object.create(n.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),i&&Object.assign(e.prototype,i)},Jw=(e,n,i,l)=>{let f,m,a;const x={};if(n=n||{},e==null)return n;do{for(f=Object.getOwnPropertyNames(e),m=f.length;m-- >0;)a=f[m],(!l||l(a,e,n))&&!x[a]&&(n[a]=e[a],x[a]=!0);e=i!==!1&&ey(e)}while(e&&(!i||i(e,n))&&e!==Object.prototype);return n},Qw=(e,n,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=n.length;const l=e.indexOf(n,i);return l!==-1&&l===i},t6=e=>{if(!e)return null;if(tc(e))return e;let n=e.length;if(!p5(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=e[n];return i},e6=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&ey(Uint8Array)),r6=(e,n)=>{const l=(e&&e[Symbol.iterator]).call(e);let f;for(;(f=l.next())&&!f.done;){const m=f.value;n.call(e,m[0],m[1])}},n6=(e,n)=>{let i;const l=[];for(;(i=e.exec(n))!==null;)l.push(i);return l},i6=Ra("HTMLFormElement"),o6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,l,f){return l.toUpperCase()+f}),Qg=(({hasOwnProperty:e})=>(n,i)=>e.call(n,i))(Object.prototype),a6=Ra("RegExp"),m5=(e,n)=>{const i=Object.getOwnPropertyDescriptors(e),l={};Dp(i,(f,m)=>{let a;(a=n(f,m,e))!==!1&&(l[m]=a||f)}),Object.defineProperties(e,l)},s6=e=>{m5(e,(n,i)=>{if(Fo(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const l=e[i];if(Fo(l)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},l6=(e,n)=>{const i={},l=f=>{f.forEach(m=>{i[m]=!0})};return tc(e)?l(e):l(String(e).split(n)),i},u6=()=>{},c6=(e,n)=>(e=+e,Number.isFinite(e)?e:n),A1="abcdefghijklmnopqrstuvwxyz",tv="0123456789",y5={DIGIT:tv,ALPHA:A1,ALPHA_DIGIT:A1+A1.toUpperCase()+tv},p6=(e=16,n=y5.ALPHA_DIGIT)=>{let i="";const{length:l}=n;for(;e--;)i+=n[Math.random()*l|0];return i};function h6(e){return!!(e&&Fo(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const f6=e=>{const n=new Array(10),i=(l,f)=>{if(Vf(l)){if(n.indexOf(l)>=0)return;if(!("toJSON"in l)){n[f]=l;const m=tc(l)?[]:{};return Dp(l,(a,x)=>{const b=i(a,f+1);!Ep(b)&&(m[x]=b)}),n[f]=void 0,m}}return l};return i(e,0)},d6=Ra("AsyncFunction"),m6=e=>e&&(Vf(e)||Fo(e))&&Fo(e.then)&&Fo(e.catch),qt={isArray:tc,isArrayBuffer:c5,isBuffer:Bw,isFormData:Ww,isArrayBufferView:Fw,isString:Nw,isNumber:p5,isBoolean:Uw,isObject:Vf,isPlainObject:ef,isUndefined:Ep,isDate:Vw,isFile:jw,isBlob:$w,isRegExp:a6,isFunction:Fo,isStream:qw,isURLSearchParams:Hw,isTypedArray:e6,isFileList:Zw,forEach:Dp,merge:pm,extend:Xw,trim:Gw,stripBOM:Kw,inherits:Yw,toFlatObject:Jw,kindOf:Nf,kindOfTest:Ra,endsWith:Qw,toArray:t6,forEachEntry:r6,matchAll:n6,isHTMLForm:i6,hasOwnProperty:Qg,hasOwnProp:Qg,reduceDescriptors:m5,freezeMethods:s6,toObjectSet:l6,toCamelCase:o6,noop:u6,toFiniteNumber:c6,findKey:h5,global:f5,isContextDefined:d5,ALPHABET:y5,generateString:p6,isSpecCompliantForm:h6,toJSONObject:f6,isAsyncFn:d6,isThenable:m6};function Fr(e,n,i,l,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),l&&(this.request=l),f&&(this.response=f)}qt.inherits(Fr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const g5=Fr.prototype,v5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{v5[e]={value:e}});Object.defineProperties(Fr,v5);Object.defineProperty(g5,"isAxiosError",{value:!0});Fr.from=(e,n,i,l,f,m)=>{const a=Object.create(g5);return qt.toFlatObject(e,a,function(b){return b!==Error.prototype},x=>x!=="isAxiosError"),Fr.call(a,e.message,n,i,l,f),a.cause=e,a.name=e.name,m&&Object.assign(a,m),a};const y6=null;function hm(e){return qt.isPlainObject(e)||qt.isArray(e)}function _5(e){return qt.endsWith(e,"[]")?e.slice(0,-2):e}function ev(e,n,i){return e?e.concat(n).map(function(f,m){return f=_5(f),!i&&m?"["+f+"]":f}).join(i?".":""):n}function g6(e){return qt.isArray(e)&&!e.some(hm)}const v6=qt.toFlatObject(qt,{},null,function(n){return/^is[A-Z]/.test(n)});function jf(e,n,i){if(!qt.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,i=qt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,it){return!qt.isUndefined(it[H])});const l=i.metaTokens,f=i.visitor||M,m=i.dots,a=i.indexes,b=(i.Blob||typeof Blob<"u"&&Blob)&&qt.isSpecCompliantForm(n);if(!qt.isFunction(f))throw new TypeError("visitor must be a function");function P(U){if(U===null)return"";if(qt.isDate(U))return U.toISOString();if(!b&&qt.isBlob(U))throw new Fr("Blob is not supported. Use a Buffer instead.");return qt.isArrayBuffer(U)||qt.isTypedArray(U)?b&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function M(U,H,it){let et=U;if(U&&!it&&typeof U=="object"){if(qt.endsWith(H,"{}"))H=l?H:H.slice(0,-2),U=JSON.stringify(U);else if(qt.isArray(U)&&g6(U)||(qt.isFileList(U)||qt.endsWith(H,"[]"))&&(et=qt.toArray(U)))return H=_5(H),et.forEach(function(st,at){!(qt.isUndefined(st)||st===null)&&n.append(a===!0?ev([H],at,m):a===null?H:H+"[]",P(st))}),!1}return hm(U)?!0:(n.append(ev(it,H,m),P(U)),!1)}const k=[],N=Object.assign(v6,{defaultVisitor:M,convertValue:P,isVisitable:hm});function G(U,H){if(!qt.isUndefined(U)){if(k.indexOf(U)!==-1)throw Error("Circular reference detected in "+H.join("."));k.push(U),qt.forEach(U,function(et,dt){(!(qt.isUndefined(et)||et===null)&&f.call(n,et,qt.isString(dt)?dt.trim():dt,H,N))===!0&&G(et,H?H.concat(dt):[dt])}),k.pop()}}if(!qt.isObject(e))throw new TypeError("data must be an object");return G(e),n}function rv(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return n[l]})}function ry(e,n){this._pairs=[],e&&jf(e,this,n)}const b5=ry.prototype;b5.append=function(n,i){this._pairs.push([n,i])};b5.toString=function(n){const i=n?function(l){return n.call(this,l,rv)}:rv;return this._pairs.map(function(f){return i(f[0])+"="+i(f[1])},"").join("&")};function _6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function x5(e,n,i){if(!n)return e;const l=i&&i.encode||_6,f=i&&i.serialize;let m;if(f?m=f(n,i):m=qt.isURLSearchParams(n)?n.toString():new ry(n,i).toString(l),m){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+m}return e}class b6{constructor(){this.handlers=[]}use(n,i,l){return this.handlers.push({fulfilled:n,rejected:i,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){qt.forEach(this.handlers,function(l){l!==null&&n(l)})}}const nv=b6,w5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x6=typeof URLSearchParams<"u"?URLSearchParams:ry,w6=typeof FormData<"u"?FormData:null,C6=typeof Blob<"u"?Blob:null,S6=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),E6=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Pa={isBrowser:!0,classes:{URLSearchParams:x6,FormData:w6,Blob:C6},isStandardBrowserEnv:S6,isStandardBrowserWebWorkerEnv:E6,protocols:["http","https","file","blob","url","data"]};function T6(e,n){return jf(e,new Pa.classes.URLSearchParams,Object.assign({visitor:function(i,l,f,m){return Pa.isNode&&qt.isBuffer(i)?(this.append(l,i.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},n))}function P6(e){return qt.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function I6(e){const n={},i=Object.keys(e);let l;const f=i.length;let m;for(l=0;l<f;l++)m=i[l],n[m]=e[m];return n}function C5(e){function n(i,l,f,m){let a=i[m++];const x=Number.isFinite(+a),b=m>=i.length;return a=!a&&qt.isArray(f)?f.length:a,b?(qt.hasOwnProp(f,a)?f[a]=[f[a],l]:f[a]=l,!x):((!f[a]||!qt.isObject(f[a]))&&(f[a]=[]),n(i,l,f[a],m)&&qt.isArray(f[a])&&(f[a]=I6(f[a])),!x)}if(qt.isFormData(e)&&qt.isFunction(e.entries)){const i={};return qt.forEachEntry(e,(l,f)=>{n(P6(l),f,i,0)}),i}return null}function M6(e,n,i){if(qt.isString(e))try{return(n||JSON.parse)(e),qt.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(i||JSON.stringify)(e)}const ny={transitional:w5,adapter:["xhr","http"],transformRequest:[function(n,i){const l=i.getContentType()||"",f=l.indexOf("application/json")>-1,m=qt.isObject(n);if(m&&qt.isHTMLForm(n)&&(n=new FormData(n)),qt.isFormData(n))return f&&f?JSON.stringify(C5(n)):n;if(qt.isArrayBuffer(n)||qt.isBuffer(n)||qt.isStream(n)||qt.isFile(n)||qt.isBlob(n))return n;if(qt.isArrayBufferView(n))return n.buffer;if(qt.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let x;if(m){if(l.indexOf("application/x-www-form-urlencoded")>-1)return T6(n,this.formSerializer).toString();if((x=qt.isFileList(n))||l.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return jf(x?{"files[]":n}:n,b&&new b,this.formSerializer)}}return m||f?(i.setContentType("application/json",!1),M6(n)):n}],transformResponse:[function(n){const i=this.transitional||ny.transitional,l=i&&i.forcedJSONParsing,f=this.responseType==="json";if(n&&qt.isString(n)&&(l&&!this.responseType||f)){const a=!(i&&i.silentJSONParsing)&&f;try{return JSON.parse(n)}catch(x){if(a)throw x.name==="SyntaxError"?Fr.from(x,Fr.ERR_BAD_RESPONSE,this,null,this.response):x}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pa.classes.FormData,Blob:Pa.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qt.forEach(["delete","get","head","post","put","patch"],e=>{ny.headers[e]={}});const iy=ny,A6=qt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k6=e=>{const n={};let i,l,f;return e&&e.split(`
`).forEach(function(a){f=a.indexOf(":"),i=a.substring(0,f).trim().toLowerCase(),l=a.substring(f+1).trim(),!(!i||n[i]&&A6[i])&&(i==="set-cookie"?n[i]?n[i].push(l):n[i]=[l]:n[i]=n[i]?n[i]+", "+l:l)}),n},iv=Symbol("internals");function Yc(e){return e&&String(e).trim().toLowerCase()}function rf(e){return e===!1||e==null?e:qt.isArray(e)?e.map(rf):String(e)}function O6(e){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=i.exec(e);)n[l[1]]=l[2];return n}const R6=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function k1(e,n,i,l,f){if(qt.isFunction(l))return l.call(this,n,i);if(f&&(n=i),!!qt.isString(n)){if(qt.isString(l))return n.indexOf(l)!==-1;if(qt.isRegExp(l))return l.test(n)}}function z6(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,l)=>i.toUpperCase()+l)}function D6(e,n){const i=qt.toCamelCase(" "+n);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+i,{value:function(f,m,a){return this[l].call(this,n,f,m,a)},configurable:!0})})}class $f{constructor(n){n&&this.set(n)}set(n,i,l){const f=this;function m(x,b,P){const M=Yc(b);if(!M)throw new Error("header name must be a non-empty string");const k=qt.findKey(f,M);(!k||f[k]===void 0||P===!0||P===void 0&&f[k]!==!1)&&(f[k||b]=rf(x))}const a=(x,b)=>qt.forEach(x,(P,M)=>m(P,M,b));return qt.isPlainObject(n)||n instanceof this.constructor?a(n,i):qt.isString(n)&&(n=n.trim())&&!R6(n)?a(k6(n),i):n!=null&&m(i,n,l),this}get(n,i){if(n=Yc(n),n){const l=qt.findKey(this,n);if(l){const f=this[l];if(!i)return f;if(i===!0)return O6(f);if(qt.isFunction(i))return i.call(this,f,l);if(qt.isRegExp(i))return i.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=Yc(n),n){const l=qt.findKey(this,n);return!!(l&&this[l]!==void 0&&(!i||k1(this,this[l],l,i)))}return!1}delete(n,i){const l=this;let f=!1;function m(a){if(a=Yc(a),a){const x=qt.findKey(l,a);x&&(!i||k1(l,l[x],x,i))&&(delete l[x],f=!0)}}return qt.isArray(n)?n.forEach(m):m(n),f}clear(n){const i=Object.keys(this);let l=i.length,f=!1;for(;l--;){const m=i[l];(!n||k1(this,this[m],m,n,!0))&&(delete this[m],f=!0)}return f}normalize(n){const i=this,l={};return qt.forEach(this,(f,m)=>{const a=qt.findKey(l,m);if(a){i[a]=rf(f),delete i[m];return}const x=n?z6(m):String(m).trim();x!==m&&delete i[m],i[x]=rf(f),l[x]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return qt.forEach(this,(l,f)=>{l!=null&&l!==!1&&(i[f]=n&&qt.isArray(l)?l.join(", "):l)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const l=new this(n);return i.forEach(f=>l.set(f)),l}static accessor(n){const l=(this[iv]=this[iv]={accessors:{}}).accessors,f=this.prototype;function m(a){const x=Yc(a);l[x]||(D6(f,a),l[x]=!0)}return qt.isArray(n)?n.forEach(m):m(n),this}}$f.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qt.reduceDescriptors($f.prototype,({value:e},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(l){this[i]=l}}});qt.freezeMethods($f);const ls=$f;function O1(e,n){const i=this||iy,l=n||i,f=ls.from(l.headers);let m=l.data;return qt.forEach(e,function(x){m=x.call(i,m,f.normalize(),n?n.status:void 0)}),f.normalize(),m}function S5(e){return!!(e&&e.__CANCEL__)}function Lp(e,n,i){Fr.call(this,e??"canceled",Fr.ERR_CANCELED,n,i),this.name="CanceledError"}qt.inherits(Lp,Fr,{__CANCEL__:!0});function L6(e,n,i){const l=i.config.validateStatus;!i.status||!l||l(i.status)?e(i):n(new Fr("Request failed with status code "+i.status,[Fr.ERR_BAD_REQUEST,Fr.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const B6=Pa.isStandardBrowserEnv?function(){return{write:function(i,l,f,m,a,x){const b=[];b.push(i+"="+encodeURIComponent(l)),qt.isNumber(f)&&b.push("expires="+new Date(f).toGMTString()),qt.isString(m)&&b.push("path="+m),qt.isString(a)&&b.push("domain="+a),x===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(i){const l=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function F6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function N6(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}function E5(e,n){return e&&!F6(n)?N6(e,n):n}const U6=Pa.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let l;function f(m){let a=m;return n&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return l=f(window.location.href),function(a){const x=qt.isString(a)?f(a):a;return x.protocol===l.protocol&&x.host===l.host}}():function(){return function(){return!0}}();function V6(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function j6(e,n){e=e||10;const i=new Array(e),l=new Array(e);let f=0,m=0,a;return n=n!==void 0?n:1e3,function(b){const P=Date.now(),M=l[m];a||(a=P),i[f]=b,l[f]=P;let k=m,N=0;for(;k!==f;)N+=i[k++],k=k%e;if(f=(f+1)%e,f===m&&(m=(m+1)%e),P-a<n)return;const G=M&&P-M;return G?Math.round(N*1e3/G):void 0}}function ov(e,n){let i=0;const l=j6(50,250);return f=>{const m=f.loaded,a=f.lengthComputable?f.total:void 0,x=m-i,b=l(x),P=m<=a;i=m;const M={loaded:m,total:a,progress:a?m/a:void 0,bytes:x,rate:b||void 0,estimated:b&&a&&P?(a-m)/b:void 0,event:f};M[n?"download":"upload"]=!0,e(M)}}const $6=typeof XMLHttpRequest<"u",Z6=$6&&function(e){return new Promise(function(i,l){let f=e.data;const m=ls.from(e.headers).normalize(),a=e.responseType;let x;function b(){e.cancelToken&&e.cancelToken.unsubscribe(x),e.signal&&e.signal.removeEventListener("abort",x)}let P;qt.isFormData(f)&&(Pa.isStandardBrowserEnv||Pa.isStandardBrowserWebWorkerEnv?m.setContentType(!1):m.getContentType(/^\s*multipart\/form-data/)?qt.isString(P=m.getContentType())&&m.setContentType(P.replace(/^\s*(multipart\/form-data);+/,"$1")):m.setContentType("multipart/form-data"));let M=new XMLHttpRequest;if(e.auth){const U=e.auth.username||"",H=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.set("Authorization","Basic "+btoa(U+":"+H))}const k=E5(e.baseURL,e.url);M.open(e.method.toUpperCase(),x5(k,e.params,e.paramsSerializer),!0),M.timeout=e.timeout;function N(){if(!M)return;const U=ls.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),it={data:!a||a==="text"||a==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:U,config:e,request:M};L6(function(dt){i(dt),b()},function(dt){l(dt),b()},it),M=null}if("onloadend"in M?M.onloadend=N:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(N)},M.onabort=function(){M&&(l(new Fr("Request aborted",Fr.ECONNABORTED,e,M)),M=null)},M.onerror=function(){l(new Fr("Network Error",Fr.ERR_NETWORK,e,M)),M=null},M.ontimeout=function(){let H=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const it=e.transitional||w5;e.timeoutErrorMessage&&(H=e.timeoutErrorMessage),l(new Fr(H,it.clarifyTimeoutError?Fr.ETIMEDOUT:Fr.ECONNABORTED,e,M)),M=null},Pa.isStandardBrowserEnv){const U=(e.withCredentials||U6(k))&&e.xsrfCookieName&&B6.read(e.xsrfCookieName);U&&m.set(e.xsrfHeaderName,U)}f===void 0&&m.setContentType(null),"setRequestHeader"in M&&qt.forEach(m.toJSON(),function(H,it){M.setRequestHeader(it,H)}),qt.isUndefined(e.withCredentials)||(M.withCredentials=!!e.withCredentials),a&&a!=="json"&&(M.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&M.addEventListener("progress",ov(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&M.upload&&M.upload.addEventListener("progress",ov(e.onUploadProgress)),(e.cancelToken||e.signal)&&(x=U=>{M&&(l(!U||U.type?new Lp(null,e,M):U),M.abort(),M=null)},e.cancelToken&&e.cancelToken.subscribe(x),e.signal&&(e.signal.aborted?x():e.signal.addEventListener("abort",x)));const G=V6(k);if(G&&Pa.protocols.indexOf(G)===-1){l(new Fr("Unsupported protocol "+G+":",Fr.ERR_BAD_REQUEST,e));return}M.send(f||null)})},fm={http:y6,xhr:Z6};qt.forEach(fm,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const av=e=>`- ${e}`,q6=e=>qt.isFunction(e)||e===null||e===!1,T5={getAdapter:e=>{e=qt.isArray(e)?e:[e];const{length:n}=e;let i,l;const f={};for(let m=0;m<n;m++){i=e[m];let a;if(l=i,!q6(i)&&(l=fm[(a=String(i)).toLowerCase()],l===void 0))throw new Fr(`Unknown adapter '${a}'`);if(l)break;f[a||"#"+m]=l}if(!l){const m=Object.entries(f).map(([x,b])=>`adapter ${x} `+(b===!1?"is not supported by the environment":"is not available in the build"));let a=n?m.length>1?`since :
`+m.map(av).join(`
`):" "+av(m[0]):"as no adapter specified";throw new Fr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return l},adapters:fm};function R1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Lp(null,e)}function sv(e){return R1(e),e.headers=ls.from(e.headers),e.data=O1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T5.getAdapter(e.adapter||iy.adapter)(e).then(function(l){return R1(e),l.data=O1.call(e,e.transformResponse,l),l.headers=ls.from(l.headers),l},function(l){return S5(l)||(R1(e),l&&l.response&&(l.response.data=O1.call(e,e.transformResponse,l.response),l.response.headers=ls.from(l.response.headers))),Promise.reject(l)})}const lv=e=>e instanceof ls?e.toJSON():e;function Zu(e,n){n=n||{};const i={};function l(P,M,k){return qt.isPlainObject(P)&&qt.isPlainObject(M)?qt.merge.call({caseless:k},P,M):qt.isPlainObject(M)?qt.merge({},M):qt.isArray(M)?M.slice():M}function f(P,M,k){if(qt.isUndefined(M)){if(!qt.isUndefined(P))return l(void 0,P,k)}else return l(P,M,k)}function m(P,M){if(!qt.isUndefined(M))return l(void 0,M)}function a(P,M){if(qt.isUndefined(M)){if(!qt.isUndefined(P))return l(void 0,P)}else return l(void 0,M)}function x(P,M,k){if(k in n)return l(P,M);if(k in e)return l(void 0,P)}const b={url:m,method:m,data:m,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:x,headers:(P,M)=>f(lv(P),lv(M),!0)};return qt.forEach(Object.keys(Object.assign({},e,n)),function(M){const k=b[M]||f,N=k(e[M],n[M],M);qt.isUndefined(N)&&k!==x||(i[M]=N)}),i}const P5="1.5.1",oy={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{oy[e]=function(l){return typeof l===e||"a"+(n<1?"n ":" ")+e}});const uv={};oy.transitional=function(n,i,l){function f(m,a){return"[Axios v"+P5+"] Transitional option '"+m+"'"+a+(l?". "+l:"")}return(m,a,x)=>{if(n===!1)throw new Fr(f(a," has been removed"+(i?" in "+i:"")),Fr.ERR_DEPRECATED);return i&&!uv[a]&&(uv[a]=!0,console.warn(f(a," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(m,a,x):!0}};function W6(e,n,i){if(typeof e!="object")throw new Fr("options must be an object",Fr.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let f=l.length;for(;f-- >0;){const m=l[f],a=n[m];if(a){const x=e[m],b=x===void 0||a(x,m,e);if(b!==!0)throw new Fr("option "+m+" must be "+b,Fr.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Fr("Unknown option "+m,Fr.ERR_BAD_OPTION)}}const dm={assertOptions:W6,validators:oy},Bs=dm.validators;class yf{constructor(n){this.defaults=n,this.interceptors={request:new nv,response:new nv}}request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=Zu(this.defaults,i);const{transitional:l,paramsSerializer:f,headers:m}=i;l!==void 0&&dm.assertOptions(l,{silentJSONParsing:Bs.transitional(Bs.boolean),forcedJSONParsing:Bs.transitional(Bs.boolean),clarifyTimeoutError:Bs.transitional(Bs.boolean)},!1),f!=null&&(qt.isFunction(f)?i.paramsSerializer={serialize:f}:dm.assertOptions(f,{encode:Bs.function,serialize:Bs.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let a=m&&qt.merge(m.common,m[i.method]);m&&qt.forEach(["delete","get","head","post","put","patch","common"],U=>{delete m[U]}),i.headers=ls.concat(a,m);const x=[];let b=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(i)===!1||(b=b&&H.synchronous,x.unshift(H.fulfilled,H.rejected))});const P=[];this.interceptors.response.forEach(function(H){P.push(H.fulfilled,H.rejected)});let M,k=0,N;if(!b){const U=[sv.bind(this),void 0];for(U.unshift.apply(U,x),U.push.apply(U,P),N=U.length,M=Promise.resolve(i);k<N;)M=M.then(U[k++],U[k++]);return M}N=x.length;let G=i;for(k=0;k<N;){const U=x[k++],H=x[k++];try{G=U(G)}catch(it){H.call(this,it);break}}try{M=sv.call(this,G)}catch(U){return Promise.reject(U)}for(k=0,N=P.length;k<N;)M=M.then(P[k++],P[k++]);return M}getUri(n){n=Zu(this.defaults,n);const i=E5(n.baseURL,n.url);return x5(i,n.params,n.paramsSerializer)}}qt.forEach(["delete","get","head","options"],function(n){yf.prototype[n]=function(i,l){return this.request(Zu(l||{},{method:n,url:i,data:(l||{}).data}))}});qt.forEach(["post","put","patch"],function(n){function i(l){return function(m,a,x){return this.request(Zu(x||{},{method:n,headers:l?{"Content-Type":"multipart/form-data"}:{},url:m,data:a}))}}yf.prototype[n]=i(),yf.prototype[n+"Form"]=i(!0)});const nf=yf;class ay{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(m){i=m});const l=this;this.promise.then(f=>{if(!l._listeners)return;let m=l._listeners.length;for(;m-- >0;)l._listeners[m](f);l._listeners=null}),this.promise.then=f=>{let m;const a=new Promise(x=>{l.subscribe(x),m=x}).then(f);return a.cancel=function(){l.unsubscribe(m)},a},n(function(m,a,x){l.reason||(l.reason=new Lp(m,a,x),i(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}static source(){let n;return{token:new ay(function(f){n=f}),cancel:n}}}const H6=ay;function G6(e){return function(i){return e.apply(null,i)}}function X6(e){return qt.isObject(e)&&e.isAxiosError===!0}const mm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mm).forEach(([e,n])=>{mm[n]=e});const K6=mm;function I5(e){const n=new nf(e),i=u5(nf.prototype.request,n);return qt.extend(i,nf.prototype,n,{allOwnKeys:!0}),qt.extend(i,n,null,{allOwnKeys:!0}),i.create=function(f){return I5(Zu(e,f))},i}const si=I5(iy);si.Axios=nf;si.CanceledError=Lp;si.CancelToken=H6;si.isCancel=S5;si.VERSION=P5;si.toFormData=jf;si.AxiosError=Fr;si.Cancel=si.CanceledError;si.all=function(n){return Promise.all(n)};si.spread=G6;si.isAxiosError=X6;si.mergeConfig=Zu;si.AxiosHeaders=ls;si.formToJSON=e=>C5(qt.isHTMLForm(e)?new FormData(e):e);si.getAdapter=T5.getAdapter;si.HttpStatusCode=K6;si.default=si;const M5=si;M5.defaults.baseURL=`${Xm}api/`;function Y6({children:e,options:n}){return T(Dw,{value:{fetcher:(i,l)=>M5.get(i,{params:l}).then(f=>f.data),...n},children:T(J6,{children:e})})}function J6({children:e}){const{data:n}=zp("config");return n?T(aw,{config:n,children:e}):e}function Q6(){return Xm}function t8(...e){const[n,i]=$e(new Array(e.length).fill({width:0,height:0,x:-1/0,y:-1/0})),l=Cn(()=>new ResizeObserver(f=>{window.requestAnimationFrame(()=>{i(f.map(m=>m.contentRect))})}),[]);return pr(()=>(e.forEach(f=>{l.observe(f.current)}),()=>{e.forEach(f=>{l.unobserve(f.current)})}),[e,l]),n}function e8({camera:e,onload:n,searchParams:i="",stretch:l=!1}){const{data:f}=zp("config"),m=Q6(),[a,x]=$e(!1),b=Ae(null),P=Ae(null),[{width:M}]=t8(b);let k=0;window.innerWidth&&document.body.offsetWidth&&(k=window.innerWidth-document.body.offsetWidth);const N=k?M+k:M,{name:G}=f?f.cameras[e]:"",U=f?f.cameras[e].enabled:"True",{width:H,height:it}=f?f.cameras[e].detect:{width:1,height:1},et=H/it,dt=Cn(()=>{const yt=Math.floor(N/et),Ct=l?yt:Math.min(yt,it);return Ct>0?Ct:100},[N,et,it,l]),st=Cn(()=>Math.ceil(dt*et-k),[dt,et,k]),at=Cn(()=>new Image,[]);return at.onload=cr(yt=>{x(!0),P.current&&P.current.getContext("2d").drawImage(at,0,0,st,dt),n&&n(yt)},[at,dt,st,x,n,P]),pr(()=>{!f||dt===0||!P.current||(at.src=`${m}/api/${G}/latest.jpg?h=${dt}${i?`&${i}`:""}`)},[m,P,G,at,i,dt,f]),T("div",{className:"relative w-full",ref:b,children:[U?T("canvas",{"data-testid":"cameraimage-canvas",height:dt,ref:P,width:st}):T("div",{class:"text-center pt-6",children:"Camera is disabled in config, no stream or snapshot available!"}),!a&&U?T("div",{className:"absolute inset-0 flex justify-center",style:`height: ${dt}px`,children:T(qm,{})}):null]})}function r8({className:e="h-6 w-6",stroke:n="currentColor",onClick:i=()=>{}}){return T("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 32 32",stroke:n,onClick:i,children:[T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 30v-2a10.011 10.011 0 0010-10h2a12.013 12.013 0 01-12 12z"}),T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 22v-2a2.002 2.002 0 002-2h2a4.004 4.004 0 01-4 4zM10 2a9.01 9.01 0 00-9 9h2a7 7 0 0114 0 7.09 7.09 0 01-3.501 6.135l-.499.288v3.073a2.935 2.935 0 01-.9 2.151 4.182 4.182 0 01-4.633 1.03A4.092 4.092 0 015 20H3a6.116 6.116 0 003.67 5.512 5.782 5.782 0 002.314.486 6.585 6.585 0 004.478-1.888A4.94 4.94 0 0015 20.496v-1.942A9.108 9.108 0 0019 11a9.01 9.01 0 00-9-9z"}),T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.28 8.082A3.006 3.006 0 0113 11h2a4.979 4.979 0 00-1.884-3.911 5.041 5.041 0 00-4.281-.957 4.95 4.95 0 00-3.703 3.703 5.032 5.032 0 002.304 5.458A3.078 3.078 0 019 17.924V20h2v-2.077a5.06 5.06 0 00-2.537-4.346 3.002 3.002 0 01.817-5.494z"})]})}In(r8);function n8({className:e="h-6 w-6",stroke:n="currentColor",onClick:i=()=>{}}){return T("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:n,onClick:i,children:T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})})}const i8=In(n8);function o8({className:e=""}){return T("svg",{className:`fill-current ${e}`,viewBox:"0 0 24 24",children:T("path",{d:"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"})})}const a8=In(o8);function s8({className:e="h-6 w-6",stroke:n="currentColor",onClick:i=()=>{}}){return T("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:n,onClick:i,children:T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}const l8=In(s8);function u8({className:e="h-6 w-6 m-0",stroke:n="currentColor",fill:i="none",onClick:l=()=>{}}){return T("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:i,viewBox:"0 0 24 24",stroke:n,onClick:l,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[T("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),T("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),T("line",{x1:"16",y1:"6",x2:"16",y2:"22"})]})}const c8=In(u8);function p8({className:e="h-6 w-6",stroke:n="currentColor",fill:i="none",onClick:l=()=>{}}){return T("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:i,viewBox:"0 0 24 24",stroke:n,onClick:l,children:T("path",{d:"M3 5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5zm6 0H5v4h4V5zm4 0a2 2 0 0 1 2-2h4a2  2 0 0 1 2 2v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V5zm6 0h-4v4h4V5zM3 15a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4a2 2 0 0  1-2 2H5a2 2 0 0 1-2-2v-4zm6 0H5v4h4v-4zm4 0a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-4zm6 0h-4v4h4v-4z"})})}const h8=In(p8);function f8({children:e,selectedIndex:n,onChange:i,className:l}){const[f,m]=$e(n),a=cr(b=>()=>{m(b),i&&i(b)},[i]),x=cr(()=>e.map((b,P)=>(b.props.selected=P===f,b.props.onClick=a(P),b)),[f,e,a]);return T("div",{className:`flex ${l}`,children:T(x,{})})}function VA({selected:e,text:n,onClick:i,disabled:l}){return T("button",{onClick:i,disabled:l,className:`rounded-full px-4 py-2 ${l?"text-gray-400 dark:text-gray-600 bg-transparent":e?"text-white bg-blue-500 dark:text-black dark:bg-white":"text-black dark:text-white bg-transparent"}`,children:T("span",{children:n})})}function cv({selected:e,icon:n,onClick:i,disabled:l}){return T("div",{onClick:i,disabled:l,className:`rounded-full cursor-pointer px-2 py-2 ${l?"text-gray-400 dark:text-gray-600 bg-transparent":e?"text-blue-500":"text-black dark:text-white bg-transparent"}`,children:n})}function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},Pt.apply(this,arguments)}const jA=Object.freeze(Object.defineProperty({__proto__:null,default:Pt},Symbol.toStringTag,{value:"Module"}));function ym(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,l=new Array(n);i<n;i++)l[i]=e[i];return l}function d8(e){if(Array.isArray(e))return ym(e)}function m8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A5(e,n){if(e){if(typeof e=="string")return ym(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ym(e,n)}}function y8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g8(e){return d8(e)||m8(e)||A5(e)||y8()}function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qu(e)}function v8(e,n){if(qu(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var l=i.call(e,n||"default");if(qu(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function k5(e){var n=v8(e,"string");return qu(n)==="symbol"?n:String(n)}function ve(e,n,i){return n=k5(n),n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}var _8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $A(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var i=function l(){return this instanceof l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var f=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(i,l,f.get?f:{enumerable:!0,get:function(){return e[l]}})}),i}var R5={exports:{}},b8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x8=b8,w8=x8;function z5(){}function D5(){}D5.resetWarningCache=z5;var C8=function(){function e(l,f,m,a,x,b){if(b!==w8){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}e.isRequired=e;function n(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:D5,resetWarningCache:z5};return i.PropTypes=i,i};R5.exports=C8();var Tt=R5.exports;function S8(e){if(Array.isArray(e))return e}function E8(e,n){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var l,f,m,a,x=[],b=!0,P=!1;try{if(m=(i=i.call(e)).next,n===0){if(Object(i)!==i)return;b=!1}else for(;!(b=(l=m.call(i)).done)&&(x.push(l.value),x.length!==n);b=!0);}catch(M){P=!0,f=M}finally{try{if(!b&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(P)throw f}}return x}}function T8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ai(e,n){return S8(e)||E8(e,n)||A5(e,n)||T8()}var Vi=1e-6,Wu=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,n=arguments.length;n--;)e+=arguments[n]*arguments[n];return Math.sqrt(e)});function P8(){var e=new Wu(4);return Wu!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function I8(e,n,i){return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=n[3]*i,e}function M8(e,n,i){var l=n[0],f=n[1],m=n[2],a=n[3];return e[0]=i[0]*l+i[4]*f+i[8]*m+i[12]*a,e[1]=i[1]*l+i[5]*f+i[9]*m+i[13]*a,e[2]=i[2]*l+i[6]*f+i[10]*m+i[14]*a,e[3]=i[3]*l+i[7]*f+i[11]*m+i[15]*a,e}(function(){var e=P8();return function(n,i,l,f,m,a){var x,b;for(i||(i=4),l||(l=0),f?b=Math.min(f*i+l,n.length):b=n.length,x=l;x<b;x+=i)e[0]=n[x],e[1]=n[x+1],e[2]=n[x+2],e[3]=n[x+3],m(e,e,a),n[x]=e[0],n[x+1]=e[1],n[x+2]=e[2],n[x+3]=e[3];return n}})();function of(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Lu(e,n){const i=M8([],n,e);return I8(i,i,1/i[3]),i}function pv(e,n){const i=e%n;return i<0?n+i:i}function A8(e,n,i){return i*n+(1-i)*e}function gm(e,n,i){return e<n?n:e>i?i:e}function k8(e){return Math.log(e)*Math.LOG2E}const sy=Math.log2||k8;function O8(e,n){var i=n[0],l=n[1],f=n[2],m=n[3],a=n[4],x=n[5],b=n[6],P=n[7],M=n[8],k=n[9],N=n[10],G=n[11],U=n[12],H=n[13],it=n[14],et=n[15],dt=i*x-l*a,st=i*b-f*a,at=i*P-m*a,yt=l*b-f*x,Ct=l*P-m*x,xt=f*P-m*b,Vt=M*H-k*U,Dt=M*it-N*U,Bt=M*et-G*U,Zt=k*it-N*H,Jt=k*et-G*H,te=N*et-G*it,Nt=dt*te-st*Jt+at*Zt+yt*Bt-Ct*Dt+xt*Vt;return Nt?(Nt=1/Nt,e[0]=(x*te-b*Jt+P*Zt)*Nt,e[1]=(f*Jt-l*te-m*Zt)*Nt,e[2]=(H*xt-it*Ct+et*yt)*Nt,e[3]=(N*Ct-k*xt-G*yt)*Nt,e[4]=(b*Bt-a*te-P*Dt)*Nt,e[5]=(i*te-f*Bt+m*Dt)*Nt,e[6]=(it*at-U*xt-et*st)*Nt,e[7]=(M*xt-N*at+G*st)*Nt,e[8]=(a*Jt-x*Bt+P*Vt)*Nt,e[9]=(l*Bt-i*Jt-m*Vt)*Nt,e[10]=(U*Ct-H*at+et*dt)*Nt,e[11]=(k*at-M*Ct-G*dt)*Nt,e[12]=(x*Dt-a*Zt-b*Vt)*Nt,e[13]=(i*Zt-l*Dt+f*Vt)*Nt,e[14]=(H*st-U*yt-it*dt)*Nt,e[15]=(M*yt-k*st+N*dt)*Nt,e):null}function z1(e,n,i){var l=n[0],f=n[1],m=n[2],a=n[3],x=n[4],b=n[5],P=n[6],M=n[7],k=n[8],N=n[9],G=n[10],U=n[11],H=n[12],it=n[13],et=n[14],dt=n[15],st=i[0],at=i[1],yt=i[2],Ct=i[3];return e[0]=st*l+at*x+yt*k+Ct*H,e[1]=st*f+at*b+yt*N+Ct*it,e[2]=st*m+at*P+yt*G+Ct*et,e[3]=st*a+at*M+yt*U+Ct*dt,st=i[4],at=i[5],yt=i[6],Ct=i[7],e[4]=st*l+at*x+yt*k+Ct*H,e[5]=st*f+at*b+yt*N+Ct*it,e[6]=st*m+at*P+yt*G+Ct*et,e[7]=st*a+at*M+yt*U+Ct*dt,st=i[8],at=i[9],yt=i[10],Ct=i[11],e[8]=st*l+at*x+yt*k+Ct*H,e[9]=st*f+at*b+yt*N+Ct*it,e[10]=st*m+at*P+yt*G+Ct*et,e[11]=st*a+at*M+yt*U+Ct*dt,st=i[12],at=i[13],yt=i[14],Ct=i[15],e[12]=st*l+at*x+yt*k+Ct*H,e[13]=st*f+at*b+yt*N+Ct*it,e[14]=st*m+at*P+yt*G+Ct*et,e[15]=st*a+at*M+yt*U+Ct*dt,e}function vm(e,n,i){var l=i[0],f=i[1],m=i[2],a,x,b,P,M,k,N,G,U,H,it,et;return n===e?(e[12]=n[0]*l+n[4]*f+n[8]*m+n[12],e[13]=n[1]*l+n[5]*f+n[9]*m+n[13],e[14]=n[2]*l+n[6]*f+n[10]*m+n[14],e[15]=n[3]*l+n[7]*f+n[11]*m+n[15]):(a=n[0],x=n[1],b=n[2],P=n[3],M=n[4],k=n[5],N=n[6],G=n[7],U=n[8],H=n[9],it=n[10],et=n[11],e[0]=a,e[1]=x,e[2]=b,e[3]=P,e[4]=M,e[5]=k,e[6]=N,e[7]=G,e[8]=U,e[9]=H,e[10]=it,e[11]=et,e[12]=a*l+M*f+U*m+n[12],e[13]=x*l+k*f+H*m+n[13],e[14]=b*l+N*f+it*m+n[14],e[15]=P*l+G*f+et*m+n[15]),e}function L5(e,n,i){var l=i[0],f=i[1],m=i[2];return e[0]=n[0]*l,e[1]=n[1]*l,e[2]=n[2]*l,e[3]=n[3]*l,e[4]=n[4]*f,e[5]=n[5]*f,e[6]=n[6]*f,e[7]=n[7]*f,e[8]=n[8]*m,e[9]=n[9]*m,e[10]=n[10]*m,e[11]=n[11]*m,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}function R8(e,n,i){var l=Math.sin(i),f=Math.cos(i),m=n[4],a=n[5],x=n[6],b=n[7],P=n[8],M=n[9],k=n[10],N=n[11];return n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[4]=m*f+P*l,e[5]=a*f+M*l,e[6]=x*f+k*l,e[7]=b*f+N*l,e[8]=P*f-m*l,e[9]=M*f-a*l,e[10]=k*f-x*l,e[11]=N*f-b*l,e}function z8(e,n,i){var l=Math.sin(i),f=Math.cos(i),m=n[0],a=n[1],x=n[2],b=n[3],P=n[4],M=n[5],k=n[6],N=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=m*f+P*l,e[1]=a*f+M*l,e[2]=x*f+k*l,e[3]=b*f+N*l,e[4]=P*f-m*l,e[5]=M*f-a*l,e[6]=k*f-x*l,e[7]=N*f-b*l,e}function D8(e,n,i,l,f){var m=1/Math.tan(n/2),a;return e[0]=m/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=m,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,f!=null&&f!==1/0?(a=1/(l-f),e[10]=(f+l)*a,e[14]=2*f*l*a):(e[10]=-1,e[14]=-2*l),e}var L8=D8;function hv(e,n){var i=e[0],l=e[1],f=e[2],m=e[3],a=e[4],x=e[5],b=e[6],P=e[7],M=e[8],k=e[9],N=e[10],G=e[11],U=e[12],H=e[13],it=e[14],et=e[15],dt=n[0],st=n[1],at=n[2],yt=n[3],Ct=n[4],xt=n[5],Vt=n[6],Dt=n[7],Bt=n[8],Zt=n[9],Jt=n[10],te=n[11],Nt=n[12],oe=n[13],ue=n[14],be=n[15];return Math.abs(i-dt)<=Vi*Math.max(1,Math.abs(i),Math.abs(dt))&&Math.abs(l-st)<=Vi*Math.max(1,Math.abs(l),Math.abs(st))&&Math.abs(f-at)<=Vi*Math.max(1,Math.abs(f),Math.abs(at))&&Math.abs(m-yt)<=Vi*Math.max(1,Math.abs(m),Math.abs(yt))&&Math.abs(a-Ct)<=Vi*Math.max(1,Math.abs(a),Math.abs(Ct))&&Math.abs(x-xt)<=Vi*Math.max(1,Math.abs(x),Math.abs(xt))&&Math.abs(b-Vt)<=Vi*Math.max(1,Math.abs(b),Math.abs(Vt))&&Math.abs(P-Dt)<=Vi*Math.max(1,Math.abs(P),Math.abs(Dt))&&Math.abs(M-Bt)<=Vi*Math.max(1,Math.abs(M),Math.abs(Bt))&&Math.abs(k-Zt)<=Vi*Math.max(1,Math.abs(k),Math.abs(Zt))&&Math.abs(N-Jt)<=Vi*Math.max(1,Math.abs(N),Math.abs(Jt))&&Math.abs(G-te)<=Vi*Math.max(1,Math.abs(G),Math.abs(te))&&Math.abs(U-Nt)<=Vi*Math.max(1,Math.abs(U),Math.abs(Nt))&&Math.abs(H-oe)<=Vi*Math.max(1,Math.abs(H),Math.abs(oe))&&Math.abs(it-ue)<=Vi*Math.max(1,Math.abs(it),Math.abs(ue))&&Math.abs(et-be)<=Vi*Math.max(1,Math.abs(et),Math.abs(be))}function B8(){var e=new Wu(2);return Wu!=Float32Array&&(e[0]=0,e[1]=0),e}function _m(e,n,i){return e[0]=n[0]+i[0],e[1]=n[1]+i[1],e}function F8(e,n,i){return e[0]=n[0]-i[0],e[1]=n[1]-i[1],e}function N8(e,n,i){return e[0]=n[0]*i,e[1]=n[1]*i,e}function U8(e){var n=e[0],i=e[1];return Math.hypot(n,i)}function V8(e,n){return e[0]=-n[0],e[1]=-n[1],e}function B5(e,n,i,l){var f=n[0],m=n[1];return e[0]=f+l*(i[0]-f),e[1]=m+l*(i[1]-m),e}var j8=F8;(function(){var e=B8();return function(n,i,l,f,m,a){var x,b;for(i||(i=2),l||(l=0),f?b=Math.min(f*i+l,n.length):b=n.length,x=l;x<b;x+=i)e[0]=n[x],e[1]=n[x+1],m(e,e,a),n[x]=e[0],n[x+1]=e[1];return n}})();function $8(){var e=new Wu(3);return Wu!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Z8(e,n,i){return e[0]=n[0]+i[0],e[1]=n[1]+i[1],e[2]=n[2]+i[2],e}function q8(e,n,i){return e[0]=n[0]*i[0],e[1]=n[1]*i[1],e[2]=n[2]*i[2],e}function W8(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e}var H8=q8;(function(){var e=$8();return function(n,i,l,f,m,a){var x,b;for(i||(i=3),l||(l=0),f?b=Math.min(f*i+l,n.length):b=n.length,x=l;x<b;x+=i)e[0]=n[x],e[1]=n[x+1],e[2]=n[x+2],m(e,e,a),n[x]=e[0],n[x+1]=e[1],n[x+2]=e[2];return n}})();function Zs(e,n){if(!e)throw new Error(n||"@math.gl/web-mercator: assertion failed.")}const oa=Math.PI,F5=oa/4,Ia=oa/180,bm=180/oa,Tp=512,fv=4003e4,Wh=85.051129,N5=1.5;function xm(e){return Math.pow(2,e)}function G8(e){return sy(e)}function Vs(e){const[n,i]=e;Zs(Number.isFinite(n)),Zs(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude");const l=n*Ia,f=i*Ia,m=Tp*(l+oa)/(2*oa),a=Tp*(oa+Math.log(Math.tan(F5+f*.5)))/(2*oa);return[m,a]}function js(e){const[n,i]=e,l=n/Tp*(2*oa)-oa,f=2*(Math.atan(Math.exp(i/Tp*(2*oa)-oa))-F5);return[l*bm,f*bm]}function X8(e){const{latitude:n,longitude:i,highPrecision:l=!1}=e;Zs(Number.isFinite(n)&&Number.isFinite(i));const f=Tp,m=Math.cos(n*Ia),a=f/360,x=a/m,b=f/fv/m,P={unitsPerMeter:[b,b,b],metersPerUnit:[1/b,1/b,1/b],unitsPerDegree:[a,x,b],degreesPerUnit:[1/a,1/x,1/b]};if(l){const M=Ia*Math.tan(n*Ia)/m,k=a*M/2,N=f/fv*M,G=N/x*b;P.unitsPerDegree2=[0,k,N],P.unitsPerMeter2=[G,0,G]}return P}function K8(e){const{height:n,pitch:i,bearing:l,altitude:f,scale:m,center:a}=e,x=of();vm(x,x,[0,0,-f]),R8(x,x,-i*Ia),z8(x,x,l*Ia);const b=m/n;return L5(x,x,[b,b,b]),a&&vm(x,x,W8([],a)),x}function Y8(e){const{width:n,height:i,altitude:l,pitch:f=0,offset:m,center:a,scale:x,nearZMultiplier:b=1,farZMultiplier:P=1}=e;let{fovy:M=gf(N5)}=e;l!==void 0&&(M=gf(l));const k=M*Ia,N=f*Ia,G=U5(M);let U=G;a&&(U+=a[2]*x/Math.cos(N)/i);const H=k*(.5+(m?m[1]:0)/i),it=Math.sin(H)*U/Math.sin(gm(Math.PI/2-N-H,.01,Math.PI-.01)),et=Math.sin(N)*it+U,dt=U*10,st=Math.min(et*P,dt);return{fov:k,aspect:n/i,focalDistance:G,near:b,far:st}}function J8(e){const{fov:n,aspect:i,near:l,far:f}=Y8(e);return L8([],n,i,l,f)}function gf(e){return 2*Math.atan(.5/e)*bm}function U5(e){return .5/Math.tan(.5*e*Ia)}function Q8(e,n){const[i,l,f=0]=e;return Zs(Number.isFinite(i)&&Number.isFinite(l)&&Number.isFinite(f)),Lu(n,[i,l,f,1])}function dv(e,n,i=0){const[l,f,m]=e;if(Zs(Number.isFinite(l)&&Number.isFinite(f),"invalid pixel coordinate"),Number.isFinite(m))return Lu(n,[l,f,m,1]);const a=Lu(n,[l,f,0,1]),x=Lu(n,[l,f,1,1]),b=a[2],P=x[2],M=b===P?0:((i||0)-b)/(P-b);return B5([],a,x,M)}function tC(e){const{width:n,height:i,bounds:l,minExtent:f=0,maxZoom:m=24,offset:a=[0,0]}=e,[[x,b],[P,M]]=l,k=eC(e.padding),N=Vs([x,gm(M,-Wh,Wh)]),G=Vs([P,gm(b,-Wh,Wh)]),U=[Math.max(Math.abs(G[0]-N[0]),f),Math.max(Math.abs(G[1]-N[1]),f)],H=[n-k.left-k.right-Math.abs(a[0])*2,i-k.top-k.bottom-Math.abs(a[1])*2];Zs(H[0]>0&&H[1]>0);const it=H[0]/U[0],et=H[1]/U[1],dt=(k.right-k.left)/2/it,st=(k.top-k.bottom)/2/et,at=[(G[0]+N[0])/2+dt,(G[1]+N[1])/2+st],yt=js(at),Ct=Math.min(m,sy(Math.abs(Math.min(it,et))));return Zs(Number.isFinite(Ct)),{longitude:yt[0],latitude:yt[1],zoom:Ct}}function eC(e=0){return typeof e=="number"?{top:e,bottom:e,left:e,right:e}:(Zs(Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.left)&&Number.isFinite(e.right)),e)}const mv=Math.PI/180;function rC(e,n=0){const{width:i,height:l,unproject:f}=e,m={targetZ:n},a=f([0,l],m),x=f([i,l],m);let b,P;const M=e.fovy?.5*e.fovy*mv:Math.atan(.5/e.altitude),k=(90-e.pitch)*mv;return M>k-.01?(b=yv(e,0,n),P=yv(e,i,n)):(b=f([0,0],m),P=f([i,0],m)),[a,x,P,b]}function yv(e,n,i){const{pixelUnprojectionMatrix:l}=e,f=Lu(l,[n,0,1,1]),m=Lu(l,[n,e.height,1,1]),x=(i*e.distanceScales.unitsPerMeter[2]-f[2])/(m[2]-f[2]),b=B5([],f,m,x),P=js(b);return P.push(i),P}class Ma{constructor(n={width:1,height:1}){ve(this,"latitude",void 0),ve(this,"longitude",void 0),ve(this,"zoom",void 0),ve(this,"pitch",void 0),ve(this,"bearing",void 0),ve(this,"altitude",void 0),ve(this,"fovy",void 0),ve(this,"meterOffset",void 0),ve(this,"center",void 0),ve(this,"width",void 0),ve(this,"height",void 0),ve(this,"scale",void 0),ve(this,"distanceScales",void 0),ve(this,"viewMatrix",void 0),ve(this,"projectionMatrix",void 0),ve(this,"viewProjectionMatrix",void 0),ve(this,"pixelProjectionMatrix",void 0),ve(this,"pixelUnprojectionMatrix",void 0),ve(this,"equals",et=>et instanceof Ma?et.width===this.width&&et.height===this.height&&hv(et.projectionMatrix,this.projectionMatrix)&&hv(et.viewMatrix,this.viewMatrix):!1),ve(this,"project",(et,dt={})=>{const{topLeft:st=!0}=dt,at=this.projectPosition(et),yt=Q8(at,this.pixelProjectionMatrix),[Ct,xt]=yt,Vt=st?xt:this.height-xt;return et.length===2?[Ct,Vt]:[Ct,Vt,yt[2]]}),ve(this,"unproject",(et,dt={})=>{const{topLeft:st=!0,targetZ:at=void 0}=dt,[yt,Ct,xt]=et,Vt=st?Ct:this.height-Ct,Dt=at&&at*this.distanceScales.unitsPerMeter[2],Bt=dv([yt,Vt,xt],this.pixelUnprojectionMatrix,Dt),[Zt,Jt,te]=this.unprojectPosition(Bt);return Number.isFinite(xt)?[Zt,Jt,te]:Number.isFinite(at)?[Zt,Jt,at]:[Zt,Jt]}),ve(this,"projectPosition",et=>{const[dt,st]=Vs(et),at=(et[2]||0)*this.distanceScales.unitsPerMeter[2];return[dt,st,at]}),ve(this,"unprojectPosition",et=>{const[dt,st]=js(et),at=(et[2]||0)*this.distanceScales.metersPerUnit[2];return[dt,st,at]});let{width:i,height:l,altitude:f=null,fovy:m=null}=n;const{latitude:a=0,longitude:x=0,zoom:b=0,pitch:P=0,bearing:M=0,position:k=null,nearZMultiplier:N=.02,farZMultiplier:G=1.01}=n;i=i||1,l=l||1,m===null&&f===null?(f=N5,m=gf(f)):m===null?m=gf(f):f===null&&(f=U5(m));const U=xm(b);f=Math.max(.75,f);const H=X8({longitude:x,latitude:a}),it=Vs([x,a]);it.push(0),k&&Z8(it,it,H8([],k,H.unitsPerMeter)),this.projectionMatrix=J8({width:i,height:l,scale:U,center:it,pitch:P,fovy:m,nearZMultiplier:N,farZMultiplier:G}),this.viewMatrix=K8({height:l,scale:U,center:it,pitch:P,bearing:M,altitude:f}),this.width=i,this.height=l,this.scale=U,this.latitude=a,this.longitude=x,this.zoom=b,this.pitch=P,this.bearing=M,this.altitude=f,this.fovy=m,this.center=it,this.meterOffset=k||[0,0,0],this.distanceScales=H,this._initMatrices(),Object.freeze(this)}_initMatrices(){const{width:n,height:i,projectionMatrix:l,viewMatrix:f}=this,m=of();z1(m,m,l),z1(m,m,f),this.viewProjectionMatrix=m;const a=of();L5(a,a,[n/2,-i/2,1]),vm(a,a,[1,-1,0]),z1(a,a,m);const x=O8(of(),a);if(!x)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=a,this.pixelUnprojectionMatrix=x}projectFlat(n){return Vs(n)}unprojectFlat(n){return js(n)}getMapCenterByLngLatPosition({lngLat:n,pos:i}){const l=dv(i,this.pixelUnprojectionMatrix),f=Vs(n),m=_m([],f,V8([],l)),a=_m([],this.center,m);return js(a)}fitBounds(n,i={}){const{width:l,height:f}=this,{longitude:m,latitude:a,zoom:x}=tC(Object.assign({width:l,height:f,bounds:n},i));return new Ma({width:l,height:f,longitude:m,latitude:a,zoom:x})}getBounds(n){const i=this.getBoundingRegion(n),l=Math.min(...i.map(x=>x[0])),f=Math.max(...i.map(x=>x[0])),m=Math.min(...i.map(x=>x[1])),a=Math.max(...i.map(x=>x[1]));return[[l,m],[f,a]]}getBoundingRegion(n={}){return rC(this,n.z||0)}getLocationAtPoint({lngLat:n,pos:i}){return this.getMapCenterByLngLatPosition({lngLat:n,pos:i})}}const gv=512;function nC(e){const{width:n,height:i,pitch:l=0}=e;let{longitude:f,latitude:m,zoom:a,bearing:x=0}=e;(f<-180||f>180)&&(f=pv(f+180,360)-180),(x<-180||x>180)&&(x=pv(x+180,360)-180);const b=sy(i/gv);if(a<=b)a=b,m=0;else{const P=i/2/Math.pow(2,a),M=js([0,P])[1];if(m<M)m=M;else{const k=js([0,gv-P])[1];m>k&&(m=k)}}return{width:n,height:i,longitude:f,latitude:m,zoom:a,pitch:l,bearing:x}}const V5=.01,iC=["longitude","latitude","zoom"],j5={curve:1.414,speed:1.2};function oC(e,n,i,l){const{startZoom:f,startCenterXY:m,uDelta:a,w0:x,u1:b,S:P,rho:M,rho2:k,r0:N}=$5(e,n,l);if(b<V5){const at={};for(const yt of iC){const Ct=e[yt],xt=n[yt];at[yt]=A8(Ct,xt,i)}return at}const G=i*P,U=Math.cosh(N)/Math.cosh(N+M*G),H=x*((Math.cosh(N)*Math.tanh(N+M*G)-Math.sinh(N))/k)/b,it=1/U,et=f+G8(it),dt=N8([],a,H);_m(dt,dt,m);const st=js(dt);return{longitude:st[0],latitude:st[1],zoom:et}}function aC(e,n,i){const l={...j5,...i},{screenSpeed:f,speed:m,maxDuration:a}=l,{S:x,rho:b}=$5(e,n,l),P=1e3*x;let M;return Number.isFinite(f)?M=P/(f/b):M=P/m,Number.isFinite(a)&&M>a?0:M}function $5(e,n,i){i=Object.assign({},j5,i);const l=i.curve,f=e.zoom,m=[e.longitude,e.latitude],a=xm(f),x=n.zoom,b=[n.longitude,n.latitude],P=xm(x-f),M=Vs(m),k=Vs(b),N=j8([],k,M),G=Math.max(e.width,e.height),U=G/P,H=U8(N)*a,it=Math.max(H,V5),et=l*l,dt=(U*U-G*G+et*et*it*it)/(2*G*et*it),st=(U*U-G*G-et*et*it*it)/(2*U*et*it),at=Math.log(Math.sqrt(dt*dt+1)-dt),yt=Math.log(Math.sqrt(st*st+1)-st),Ct=(yt-at)/l;return{startZoom:f,startCenterXY:M,uDelta:N,w0:G,u1:H,S:Ct,rho:l,rho2:et,r0:at,r1:yt}}var Z5=function(){if(typeof Map<"u")return Map;function e(n,i){var l=-1;return n.some(function(f,m){return f[0]===i?(l=m,!0):!1}),l}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(i){var l=e(this.__entries__,i),f=this.__entries__[l];return f&&f[1]},n.prototype.set=function(i,l){var f=e(this.__entries__,i);~f?this.__entries__[f][1]=l:this.__entries__.push([i,l])},n.prototype.delete=function(i){var l=this.__entries__,f=e(l,i);~f&&l.splice(f,1)},n.prototype.has=function(i){return!!~e(this.__entries__,i)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(i,l){l===void 0&&(l=null);for(var f=0,m=this.__entries__;f<m.length;f++){var a=m[f];i.call(l,a[1],a[0])}},n}()}(),wm=typeof window<"u"&&typeof document<"u"&&window.document===document,vf=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),sC=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(vf):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),lC=2;function uC(e,n){var i=!1,l=!1,f=0;function m(){i&&(i=!1,e()),l&&x()}function a(){sC(m)}function x(){var b=Date.now();if(i){if(b-f<lC)return;l=!0}else i=!0,l=!1,setTimeout(a,n);f=b}return x}var cC=20,pC=["top","right","bottom","left","width","height","size","weight"],hC=typeof MutationObserver<"u",fC=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=uC(this.refresh.bind(this),cC)}return e.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},e.prototype.removeObserver=function(n){var i=this.observers_,l=i.indexOf(n);~l&&i.splice(l,1),!i.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},e.prototype.updateObservers_=function(){var n=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return n.forEach(function(i){return i.broadcastActive()}),n.length>0},e.prototype.connect_=function(){!wm||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),hC?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!wm||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(n){var i=n.propertyName,l=i===void 0?"":i,f=pC.some(function(m){return!!~l.indexOf(m)});f&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),q5=function(e,n){for(var i=0,l=Object.keys(n);i<l.length;i++){var f=l[i];Object.defineProperty(e,f,{value:n[f],enumerable:!1,writable:!1,configurable:!0})}return e},Hu=function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||vf},W5=Zf(0,0,0,0);function _f(e){return parseFloat(e)||0}function vv(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return n.reduce(function(l,f){var m=e["border-"+f+"-width"];return l+_f(m)},0)}function dC(e){for(var n=["top","right","bottom","left"],i={},l=0,f=n;l<f.length;l++){var m=f[l],a=e["padding-"+m];i[m]=_f(a)}return i}function mC(e){var n=e.getBBox();return Zf(0,0,n.width,n.height)}function yC(e){var n=e.clientWidth,i=e.clientHeight;if(!n&&!i)return W5;var l=Hu(e).getComputedStyle(e),f=dC(l),m=f.left+f.right,a=f.top+f.bottom,x=_f(l.width),b=_f(l.height);if(l.boxSizing==="border-box"&&(Math.round(x+m)!==n&&(x-=vv(l,"left","right")+m),Math.round(b+a)!==i&&(b-=vv(l,"top","bottom")+a)),!vC(e)){var P=Math.round(x+m)-n,M=Math.round(b+a)-i;Math.abs(P)!==1&&(x-=P),Math.abs(M)!==1&&(b-=M)}return Zf(f.left,f.top,x,b)}var gC=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Hu(e).SVGGraphicsElement}:function(e){return e instanceof Hu(e).SVGElement&&typeof e.getBBox=="function"}}();function vC(e){return e===Hu(e).document.documentElement}function _C(e){return wm?gC(e)?mC(e):yC(e):W5}function bC(e){var n=e.x,i=e.y,l=e.width,f=e.height,m=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(m.prototype);return q5(a,{x:n,y:i,width:l,height:f,top:i,right:n+l,bottom:f+i,left:n}),a}function Zf(e,n,i,l){return{x:e,y:n,width:i,height:l}}var xC=function(){function e(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Zf(0,0,0,0),this.target=n}return e.prototype.isActive=function(){var n=_C(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},e}(),wC=function(){function e(n,i){var l=bC(i);q5(this,{target:n,contentRect:l})}return e}(),CC=function(){function e(n,i,l){if(this.activeObservations_=[],this.observations_=new Z5,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=i,this.callbackCtx_=l}return e.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof Hu(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(n)||(i.set(n,new xC(n)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof Hu(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(n)&&(i.delete(n),i.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&n.activeObservations_.push(i)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,i=this.activeObservations_.map(function(l){return new wC(l.target,l.broadcastRect())});this.callback_.call(n,i,n),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),H5=typeof WeakMap<"u"?new WeakMap:new Z5,G5=function(){function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=fC.getInstance(),l=new CC(n,i,this);H5.set(this,l)}return e}();["observe","unobserve","disconnect"].forEach(function(e){G5.prototype[e]=function(){var n;return(n=H5.get(this))[e].apply(n,arguments)}});var SC=function(){return typeof vf.ResizeObserver<"u"?vf.ResizeObserver:G5}();function Hs(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _v(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,k5(l.key),l)}}function Gs(e,n,i){return n&&_v(e.prototype,n),i&&_v(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var os=typeof document<"u"?document:{};function bv(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function Hh(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?bv(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bv(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}function xv(e,n){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=EC(e))||n&&e&&typeof e.length=="number"){i&&(e=i);var l=0,f=function(){};return{s:f,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(P){throw P},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,a=!1,x;return{s:function(){i=i.call(e)},n:function(){var P=i.next();return m=P.done,P},e:function(P){a=!0,x=P},f:function(){try{!m&&i.return!=null&&i.return()}finally{if(a)throw x}}}}function EC(e,n){if(e){if(typeof e=="string")return wv(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return wv(e,n)}}function wv(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,l=new Array(n);i<n;i++)l[i]=e[i];return l}var TC=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function D1(e){if(!e)return null;if(typeof e=="string")return e;e.toJS&&(e=e.toJS());var n={},i=xv(e.layers),l;try{for(i.s();!(l=i.n()).done;){var f=l.value;n[f.id]=f}}catch(a){i.e(a)}finally{i.f()}var m=e.layers.map(function(a){var x=n[a.ref],b=null;if("interactive"in a&&(b=Hh({},a),delete b.interactive),x){b=b||Hh({},a),delete b.ref;var P=xv(TC),M;try{for(P.s();!(M=P.n()).done;){var k=M.value;k in x&&(b[k]=x[k])}}catch(N){P.e(N)}finally{P.f()}}return b||a});return Hh(Hh({},e),{},{layers:m})}function PC(){}function IC(e){e&&console.error(e.error)}var X5={container:Tt.object,gl:Tt.object,goongApiAccessToken:Tt.string,goongApiUrl:Tt.string,attributionControl:Tt.bool,preserveDrawingBuffer:Tt.bool,reuseMaps:Tt.bool,transformRequest:Tt.func,mapOptions:Tt.object,mapStyle:Tt.oneOfType([Tt.string,Tt.object]),preventStyleDiffing:Tt.bool,visible:Tt.bool,asyncRender:Tt.bool,onLoad:Tt.func,onError:Tt.func,width:Tt.number,height:Tt.number,viewState:Tt.object,longitude:Tt.number,latitude:Tt.number,zoom:Tt.number,bearing:Tt.number,pitch:Tt.number,altitude:Tt.number},af={container:os.body,goongApiAccessToken:MC(),goongApiUrl:"https://tiles.goong.io",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"https://tiles.goong.io/assets/goong_map_web.json",preventStyleDiffing:!1,visible:!0,asyncRender:!1,onLoad:PC,onError:IC,width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function MC(){var e=null;if(typeof window<"u"&&window.location){var n=window.location.search.match(/api_key=([^&\/]*)/);e=n&&n[1]}return!e&&typeof process<"u"&&(e=e||{}.GoongAccessToken||{}.REACT_APP_GOONG_ACCESS_TOKEN),e||"no-token"}function Cv(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"component";e.debug&&Tt.checkPropTypes(X5,e,"prop",n)}var Ll=function(){function e(n){var i=this;if(Hs(this,e),ve(this,"props",af),ve(this,"width",0),ve(this,"height",0),ve(this,"_fireLoadEvent",function(){i.props.onLoad({type:"load",target:i._map})}),!n.mapboxgl)throw new Error("Goong JS not available");this.mapboxgl=n.mapboxgl,e.initialized||(e.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(n)}return Gs(e,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(i){return this._update(this.props,i),this}},{key:"redraw",value:function(){var i=this._map;i.style&&(i._frame&&(i._frame.cancel(),i._frame=null),i._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(i){this._map=e.savedMap;var l=this._map.getContainer(),f=i.container;if(f.classList.add("mapboxgl-map"),l!==f)for(;l.childNodes.length>0;)f.appendChild(l.childNodes[0]);this._map._container=f,e.savedMap=null,i.mapStyle&&this._map.setStyle(D1(i.mapStyle),{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(i){if(i.reuseMaps&&e.savedMap)this._reuse(i);else{if(i.gl){var l=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=l,i.gl}}var f={container:i.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:D1(i.mapStyle),interactive:!1,trackResize:!1,attributionControl:i.attributionControl,preserveDrawingBuffer:i.preserveDrawingBuffer};i.transformRequest&&(f.transformRequest=i.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},f,i.mapOptions)),this._map.once("load",i.onLoad),this._map.on("error",i.onError)}return this}},{key:"_destroy",value:function(){this._map&&(this.props.reuseMaps&&!e.savedMap?(e.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)):this._map.remove(),this._map=null)}},{key:"_initialize",value:function(i){var l=this;i=Object.assign({},af,i),Cv(i,"Goong"),this.mapboxgl.accessToken=i.goongApiAccessToken||af.goongApiAccessToken,this.mapboxgl.baseApiUrl=i.goongApiUrl,this._create(i);var f=i,m=f.container;Object.defineProperty(m,"offsetWidth",{configurable:!0,get:function(){return l.width}}),Object.defineProperty(m,"clientWidth",{configurable:!0,get:function(){return l.width}}),Object.defineProperty(m,"offsetHeight",{configurable:!0,get:function(){return l.height}}),Object.defineProperty(m,"clientHeight",{configurable:!0,get:function(){return l.height}});var a=this._map.getCanvas();a&&(a.style.outline="none"),this._updateMapViewport({},i),this._updateMapSize({},i),this.props=i}},{key:"_update",value:function(i,l){if(this._map){l=Object.assign({},this.props,l),Cv(l,"Goong");var f=this._updateMapViewport(i,l),m=this._updateMapSize(i,l);this._updateMapStyle(i,l),!l.asyncRender&&(f||m)&&this.redraw(),this.props=l}}},{key:"_updateMapStyle",value:function(i,l){var f=i.mapStyle!==l.mapStyle;f&&this._map.setStyle(D1(l.mapStyle),{diff:!l.preventStyleDiffing})}},{key:"_updateMapSize",value:function(i,l){var f=i.width!==l.width||i.height!==l.height;return f&&(this.width=l.width,this.height=l.height,this._map.resize()),f}},{key:"_updateMapViewport",value:function(i,l){var f=this._getViewState(i),m=this._getViewState(l),a=m.latitude!==f.latitude||m.longitude!==f.longitude||m.zoom!==f.zoom||m.pitch!==f.pitch||m.bearing!==f.bearing||m.altitude!==f.altitude;return a&&(this._map.jumpTo(this._viewStateToMapboxProps(m)),m.altitude!==f.altitude&&(this._map.transform.altitude=m.altitude)),a}},{key:"_getViewState",value:function(i){var l=i.viewState||i,f=l.longitude,m=l.latitude,a=l.zoom,x=l.pitch,b=x===void 0?0:x,P=l.bearing,M=P===void 0?0:P,k=l.altitude,N=k===void 0?1.5:k;return{longitude:f,latitude:m,zoom:a,pitch:b,bearing:M,altitude:N}}},{key:"_checkStyleSheet",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1.0.6";if(!(typeof os>"u"))try{var l=os.createElement("div");l.className="mapboxgl-map",l.style.display="none",os.body.appendChild(l);var f=window.getComputedStyle(l).position!=="static";if(!f){var m=os.createElement("link");m.setAttribute("rel","stylesheet"),m.setAttribute("type","text/css"),m.setAttribute("href","https://cdn.jsdelivr.net/npm/@goongmaps/goong-js@".concat(i,"/dist/goong-js.css")),os.head.appendChild(m)}}catch{}}},{key:"_viewStateToMapboxProps",value:function(i){return{center:[i.longitude,i.latitude],zoom:i.zoom,bearing:i.bearing,pitch:i.pitch}}}]),e}();ve(Ll,"initialized",!1);ve(Ll,"propTypes",X5);ve(Ll,"defaultProps",af);ve(Ll,"savedMap",null);var K5={exports:{}};(function(e,n){(function(i,l){e.exports=l()})(_8,function(){var i,l,f;function m(a,x){if(!i)i=x;else if(!l)l=x;else{var b="var sharedChunk = {}; ("+i+")(sharedChunk); ("+l+")(sharedChunk);",P={};i(P),f=x(P),f.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"}))}}return m(["exports"],function(a){function x(t,r){return t(r={exports:{}},r.exports),r.exports}var b=P;function P(t,r,o,p){this.cx=3*t,this.bx=3*(o-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(p-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=p,this.p2x=o,this.p2y=p}P.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},P.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},P.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},P.prototype.solveCurveX=function(t,r){var o,p,d,y,v;for(r===void 0&&(r=1e-6),d=t,v=0;v<8;v++){if(y=this.sampleCurveX(d)-t,Math.abs(y)<r)return d;var w=this.sampleCurveDerivativeX(d);if(Math.abs(w)<1e-6)break;d-=y/w}if((d=t)<(o=0))return o;if(d>(p=1))return p;for(;o<p;){if(y=this.sampleCurveX(d),Math.abs(y-t)<r)return d;t>y?o=d:p=d,d=.5*(p-o)+o}return d},P.prototype.solve=function(t,r){return this.sampleCurveY(this.solveCurveX(t,r))};var M=k;function k(t,r){this.x=t,this.y=r}function N(t,r,o,p){var d=new b(t,r,o,p);return function(y){return d.solve(y)}}k.prototype={clone:function(){return new k(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,r){return this.clone()._rotateAround(t,r)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var r=t.x-this.x,o=t.y-this.y;return r*r+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,r){return Math.atan2(this.x*r-this.y*t,this.x*t+this.y*r)},_matMult:function(t){var r=t[0]*this.x+t[1]*this.y,o=t[2]*this.x+t[3]*this.y;return this.x=r,this.y=o,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var r=Math.cos(t),o=Math.sin(t),p=r*this.x-o*this.y,d=o*this.x+r*this.y;return this.x=p,this.y=d,this},_rotateAround:function(t,r){var o=Math.cos(t),p=Math.sin(t),d=r.x+o*(this.x-r.x)-p*(this.y-r.y),y=r.y+p*(this.x-r.x)+o*(this.y-r.y);return this.x=d,this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},k.convert=function(t){return t instanceof k?t:Array.isArray(t)?new k(t[0],t[1]):t};var G=N(.25,.1,.25,1);function U(t,r,o){return Math.min(o,Math.max(r,t))}function H(t,r,o){var p=o-r,d=((t-r)%p+p)%p+r;return d===r?o:d}function it(t){for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];for(var p=0,d=r;p<d.length;p+=1){var y=d[p];for(var v in y)t[v]=y[v]}return t}var et=1;function dt(){return et++}function st(){return function t(r){return r?(r^16*Math.random()>>r/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function at(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function yt(t,r){t.forEach(function(o){r[o]&&(r[o]=r[o].bind(r))})}function Ct(t,r){return t.indexOf(r,t.length-r.length)!==-1}function xt(t,r,o){var p={};for(var d in t)p[d]=r.call(o||this,t[d],d,t);return p}function Vt(t,r,o){var p={};for(var d in t)r.call(o||this,t[d],d,t)&&(p[d]=t[d]);return p}function Dt(t){return Array.isArray(t)?t.map(Dt):typeof t=="object"&&t?xt(t,Dt):t}var Bt={};function Zt(t){Bt[t]||(typeof console<"u"&&console.warn(t),Bt[t]=!0)}function Jt(t,r,o){return(o.y-t.y)*(r.x-t.x)>(r.y-t.y)*(o.x-t.x)}function te(t){for(var r=0,o=0,p=t.length,d=p-1,y=void 0,v=void 0;o<p;d=o++)y=t[o],r+=((v=t[d]).x-y.x)*(y.y+v.y);return r}function Nt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function oe(t){var r={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(p,d,y,v){var w=y||v;return r[d]=!w||w.toLowerCase(),""}),r["max-age"]){var o=parseInt(r["max-age"],10);isNaN(o)?delete r["max-age"]:r["max-age"]=o}return r}var ue=null;function be(t){if(ue==null){var r=t.navigator?t.navigator.userAgent:null;ue=!!t.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return ue}function ke(t){try{var r=self[t];return r.setItem("_mapbox_test_",1),r.removeItem("_mapbox_test_"),!0}catch{return!1}}var Xe,dr,Nr,nr,Zr=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),fr=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,vr=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,Sr={now:Zr,frame:function(t){var r=fr(t);return{cancel:function(){return vr(r)}}},getImageData:function(t,r){r===void 0&&(r=0);var o=self.document.createElement("canvas"),p=o.getContext("2d");if(!p)throw new Error("failed to create canvas 2d context");return o.width=t.width,o.height=t.height,p.drawImage(t,0,0,t.width,t.height),p.getImageData(-r,-r,t.width+2*r,t.height+2*r)},resolveURL:function(t){return Xe||(Xe=self.document.createElement("a")),Xe.href=t,Xe.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(dr==null&&(dr=self.matchMedia("(prefers-reduced-motion: reduce)")),dr.matches)}},Ee={API_URL:"https://tiles.goong.io",get EVENTS_URL(){return"https://rsapi.goong.io"},FEEDBACK_URL:"https://goong.io",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},lr={supported:!1,testSupport:function(t){xe||!nr||(Ve?Je(t):Nr=t)}},xe=!1,Ve=!1;function Je(t){var r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,nr),t.isContextLost())return;lr.supported=!0}catch{}t.deleteTexture(r),xe=!0}self.document&&((nr=self.document.createElement("img")).onload=function(){Nr&&Je(Nr),Nr=null,Ve=!0},nr.onerror=function(){xe=!0,Nr=null},nr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var or="01",Gt=function(t,r){this._transformRequestFn=t,this._customAccessToken=r,this._createSkuToken()};function Se(t){return t.indexOf("https://tiles.goong.io")===0}Gt.prototype._createSkuToken=function(){var t=function(){for(var r="",o=0;o<10;o++)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",or,r].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},Gt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Gt.prototype.transformRequest=function(t,r){return this._transformRequestFn&&this._transformRequestFn(t,r)||{url:t}},Gt.prototype.normalizeStyleURL=function(t,r){if(!Se(t))return t;var o=zr(t);return this._makeAPIURL(o,this._customAccessToken||r)},Gt.prototype.normalizeGlyphsURL=function(t,r){if(!Se(t))return t;var o=zr(t);return this._makeAPIURL(o,this._customAccessToken||r)},Gt.prototype.normalizeSourceURL=function(t,r){if(!Se(t))return t;var o=zr(t);return this._makeAPIURL(o,this._customAccessToken||r)},Gt.prototype.normalizeSpriteURL=function(t,r,o,p){var d=zr(t);return Se(t)?(d.path=""+d.path+r+o,this._makeAPIURL(d,this._customAccessToken||p)):(d.path+=""+r+o,mr(d))},Gt.prototype.normalizeTileURL=function(t,r,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),!r||!Se(r))return t;var p=zr(t),d=Sr.devicePixelRatio>=2||o===512?"@2x":"",y=lr.supported?".webp":"$1";return p.path=p.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+d+y),p.path=p.path.replace(/^.+\/v4\//,"/"),Ee.REQUIRE_ACCESS_TOKEN&&(Ee.ACCESS_TOKEN||this._customAccessToken)&&this._skuToken&&p.params.push("sku="+this._skuToken),this._makeAPIURL(p,this._customAccessToken)},Gt.prototype.canonicalizeTileURL=function(t){var r=zr(t);if(!r.path.match(/(^\/v4\/)/)||!r.path.match(/\.[\w]+$/))return t;var o="mapbox://tiles/";o+=r.path.replace("/v4/","");var p=r.params.filter(function(d){return!d.match(/^api_key=/)});return p.length&&(o+="?"+p.join("&")),o},Gt.prototype.canonicalizeTileset=function(t,r){if(!Se(r))return t.tiles||[];for(var o=[],p=0,d=t.tiles;p<d.length;p+=1){var y=d[p],v=this.canonicalizeTileURL(y);o.push(v)}return o},Gt.prototype._makeAPIURL=function(t,r){var o=zr(Ee.API_URL);if(t.protocol=o.protocol,t.authority=o.authority,o.path!=="/"&&(t.path=""+o.path+t.path),!Ee.REQUIRE_ACCESS_TOKEN)return mr(t);if(!(r=r||Ee.ACCESS_TOKEN))throw new Error("An API access token is required to use Goong JS. See https://docs.goong.io");return t.params=t.params.filter(function(p){return p.indexOf("api_key")===-1}),t.params.push("api_key="+r),mr(t)};var ir=/^((https?:)?\/\/)?([^\/]+\.)?goong\.io(\/|\?|$)/i;function _r(t){return ir.test(t)}var hn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function zr(t){var r=t.match(hn);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function mr(t){var r=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+r}function Mn(t){if(!t)return null;var r,o=t.split(".");if(!o||o.length!==3)return null;try{return JSON.parse((r=o[1],decodeURIComponent(self.atob(r).split("").map(function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var qe=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};qe.prototype.getStorageKey=function(t){var r,o=Mn(Ee.ACCESS_TOKEN),p="";return o&&o.u?(r=o.u,p=self.btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,function(d,y){return String.fromCharCode(+("0x"+y))}))):p=Ee.ACCESS_TOKEN||"",t?"goong.eventData."+t+":"+p:"goong.eventData:"+p},qe.prototype.fetchEventData=function(){var t=ke("localStorage"),r=this.getStorageKey(),o=this.getStorageKey("uuid");if(t)try{var p=self.localStorage.getItem(r);p&&(this.eventData=JSON.parse(p));var d=self.localStorage.getItem(o);d&&(this.anonId=d)}catch{Zt("Unable to read from LocalStorage")}},qe.prototype.saveEventData=function(){var t=ke("localStorage"),r=this.getStorageKey(),o=this.getStorageKey("uuid");if(t)try{self.localStorage.setItem(o,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(r,JSON.stringify(this.eventData))}catch{Zt("Unable to write to LocalStorage")}},qe.prototype.processRequests=function(t){},qe.prototype.postEvent=function(t,r,o,p){},qe.prototype.queueRequest=function(t,r){this.queue.push(t),this.processRequests(r)};var vn,An,Jr=function(t){function r(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.postMapLoadEvent=function(o,p,d,y){this.skuToken=d,(Ee.EVENTS_URL&&y||Ee.ACCESS_TOKEN&&Array.isArray(o)&&o.some(function(v){return Se(v)||_r(v)}))&&this.queueRequest({id:p,timestamp:Date.now()},y)},r.prototype.processRequests=function(o){var p=this;if(!this.pendingRequest&&this.queue.length!==0){var d=this.queue.shift(),y=d.id,v=d.timestamp;y&&this.success[y]||(this.anonId||this.fetchEventData(),at(this.anonId)||(this.anonId=st()),this.postEvent(v,{skuToken:this.skuToken},function(w){w||y&&(p.success[y]=!0)},o))}},r}(qe),ki=new(function(t){function r(o){t.call(this,"appUserTurnstile"),this._customAccessToken=o}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.postTurnstileEvent=function(o,p){Ee.EVENTS_URL&&Ee.ACCESS_TOKEN&&Array.isArray(o)&&o.some(function(d){return Se(d)||_r(d)})&&this.queueRequest(Date.now(),p)},r.prototype.processRequests=function(o){var p=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var d=Mn(Ee.ACCESS_TOKEN),y=d?d.u:Ee.ACCESS_TOKEN,v=y!==this.eventData.tokenU;at(this.anonId)||(this.anonId=st(),v=!0);var w=this.queue.shift();if(this.eventData.lastSuccess){var E=new Date(this.eventData.lastSuccess),A=new Date(w),R=(w-this.eventData.lastSuccess)/864e5;v=v||R>=1||R<-1||E.getDate()!==A.getDate()}else v=!0;if(!v)return this.processRequests();this.postEvent(w,{"enabled.telemetry":!1},function(B){B||(p.eventData.lastSuccess=w,p.eventData.tokenU=y)},o)}},r}(qe)),mi=ki.postTurnstileEvent.bind(ki),Ci=new Jr,Dr=Ci.postMapLoadEvent.bind(Ci),Si=500,ti=50;function li(){self.caches&&!vn&&(vn=self.caches.open("mapbox-tiles"))}function Zi(t,r,o){if(li(),vn){var p={status:r.status,statusText:r.statusText,headers:new self.Headers};r.headers.forEach(function(y,v){return p.headers.set(v,y)});var d=oe(r.headers.get("Cache-Control")||"");d["no-store"]||(d["max-age"]&&p.headers.set("Expires",new Date(o+1e3*d["max-age"]).toUTCString()),new Date(p.headers.get("Expires")).getTime()-o<42e4||function(y,v){if(An===void 0)try{new Response(new ReadableStream),An=!0}catch{An=!1}An?v(y.body):y.blob().then(v)}(r,function(y){var v=new self.Response(y,p);li(),vn&&vn.then(function(w){return w.put(Oe(t.url),v)}).catch(function(w){return Zt(w.message)})}))}}function Oe(t){var r=t.indexOf("?");return r<0?t:t.slice(0,r)}function Ar(t,r){if(li(),!vn)return r(null);var o=Oe(t.url);vn.then(function(p){p.match(o).then(function(d){var y=function(v){if(!v)return!1;var w=new Date(v.headers.get("Expires")||0),E=oe(v.headers.get("Cache-Control")||"");return w>Date.now()&&!E["no-cache"]}(d);p.delete(o),y&&p.put(o,d.clone()),r(null,d,y)}).catch(r)}).catch(r)}var on,Oi=1/0;function Mo(){return on==null&&(on=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),on}var ui={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ui);var fs=function(t){function r(o,p,d){p===401&&_r(d)&&(o+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,o),this.status=p,this.url=d,this.name=this.constructor.name,this.message=o}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},r}(Error),la=Nt()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href};function za(t,r){var o,p=new self.AbortController,d=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:la(),signal:p.signal}),y=!1,v=!1,w=(o=d.url).indexOf("sku=")>0&&_r(o);t.type==="json"&&d.headers.set("Accept","application/json");var E=function(R,B,q){if(!v){if(R&&R.message!=="SecurityError"&&Zt(R),B&&q)return A(B);var j=Date.now();self.fetch(d).then(function(W){if(W.ok){var nt=w?W.clone():null;return A(W,nt,j)}return r(new fs(W.statusText,W.status,t.url))}).catch(function(W){W.code!==20&&r(new Error(W.message))})}},A=function(R,B,q){(t.type==="arrayBuffer"?R.arrayBuffer():t.type==="json"?R.json():R.text()).then(function(j){v||(B&&q&&Zi(d,B,q),y=!0,r(null,j,R.headers.get("Cache-Control"),R.headers.get("Expires")))}).catch(function(j){v||r(new Error(j.message))})};return w?Ar(d,E):E(null,null),{cancel:function(){v=!0,y||p.abort()}}}var Ao=function(t,r){if(o=t.url,!(/^file:/.test(o)||/^file:/.test(la())&&!/^\w+:/.test(o))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return za(t,r);if(Nt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,r,void 0,!0)}var o;return function(p,d){var y=new self.XMLHttpRequest;for(var v in y.open(p.method||"GET",p.url,!0),p.type==="arrayBuffer"&&(y.responseType="arraybuffer"),p.headers)y.setRequestHeader(v,p.headers[v]);return p.type==="json"&&(y.responseType="text",y.setRequestHeader("Accept","application/json")),y.withCredentials=p.credentials==="include",y.onerror=function(){d(new Error(y.statusText))},y.onload=function(){if((y.status>=200&&y.status<300||y.status===0)&&y.response!==null){var w=y.response;if(p.type==="json")try{w=JSON.parse(y.response)}catch(E){return d(E)}d(null,w,y.getResponseHeader("Cache-Control"),y.getResponseHeader("Expires"))}else d(new fs(y.statusText,y.status,p.url))},y.send(p.body),{cancel:function(){return y.abort()}}}(t,r)},po=function(t,r){return Ao(it(t,{type:"arrayBuffer"}),r)},ua,ko;ua=[],ko=0;var Da=function(t,r){if(lr.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),ko>=Ee.MAX_PARALLEL_IMAGE_REQUESTS){var o={requestParameters:t,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return ua.push(o),o}ko++;var p=!1,d=function(){if(!p)for(p=!0,ko--;ua.length&&ko<Ee.MAX_PARALLEL_IMAGE_REQUESTS;){var v=ua.shift(),w=v.requestParameters,E=v.callback;v.cancelled||(v.cancel=Da(w,E).cancel)}},y=po(t,function(v,w,E,A){d(),v?r(v):w&&(Mo()?function(R,B){var q=new self.Blob([new Uint8Array(R)],{type:"image/png"});self.createImageBitmap(q).then(function(j){B(null,j)}).catch(function(){B(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(w,r):function(R,B,q,j){var W=new self.Image,nt=self.URL;W.onload=function(){B(null,W),nt.revokeObjectURL(W.src)},W.onerror=function(){return B(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var ot=new self.Blob([new Uint8Array(R)],{type:"image/png"});W.cacheControl=q,W.expires=j,W.src=R.byteLength?nt.createObjectURL(ot):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(w,r,E,A))});return{cancel:function(){y.cancel(),d()}}};function $o(t,r,o){o[t]&&o[t].indexOf(r)!==-1||(o[t]=o[t]||[],o[t].push(r))}function Zo(t,r,o){if(o&&o[t]){var p=o[t].indexOf(r);p!==-1&&o[t].splice(p,1)}}var yr=function(t,r){r===void 0&&(r={}),it(this,r),this.type=t},fn=function(t){function r(o,p){p===void 0&&(p={}),t.call(this,"error",it({error:o},p))}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(yr),Lr=function(){};Lr.prototype.on=function(t,r){return this._listeners=this._listeners||{},$o(t,r,this._listeners),this},Lr.prototype.off=function(t,r){return Zo(t,r,this._listeners),Zo(t,r,this._oneTimeListeners),this},Lr.prototype.once=function(t,r){return this._oneTimeListeners=this._oneTimeListeners||{},$o(t,r,this._oneTimeListeners),this},Lr.prototype.fire=function(t,r){typeof t=="string"&&(t=new yr(t,r||{}));var o=t.type;if(this.listens(o)){t.target=this;for(var p=0,d=this._listeners&&this._listeners[o]?this._listeners[o].slice():[];p<d.length;p+=1)d[p].call(this,t);for(var y=0,v=this._oneTimeListeners&&this._oneTimeListeners[o]?this._oneTimeListeners[o].slice():[];y<v.length;y+=1){var w=v[y];Zo(o,w,this._oneTimeListeners),w.call(this,t)}var E=this._eventedParent;E&&(it(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(t))}else t instanceof fn&&console.error(t.error);return this},Lr.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Lr.prototype.setEventedParent=function(t,r){return this._eventedParent=t,this._eventedParentData=r,this};var At={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Roboto Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Qt=function(t,r,o,p){this.message=(t?t+": ":"")+o,p&&(this.identifier=p),r!=null&&r.__line__&&(this.line=r.__line__)};function qi(t){var r=t.key,o=t.value;return o?[new Qt(r,o,"constants have been deprecated as of v8")]:[]}function Wi(t){for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];for(var p=0,d=r;p<d.length;p+=1){var y=d[p];for(var v in y)t[v]=y[v]}return t}function dn(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Ur(t){if(Array.isArray(t))return t.map(Ur);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var r={};for(var o in t)r[o]=Ur(t[o]);return r}return dn(t)}var O=function(t){function r(o,p){t.call(this,p),this.message=p,this.key=o}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(Error),D=function(t,r){r===void 0&&(r=[]),this.parent=t,this.bindings={};for(var o=0,p=r;o<p.length;o+=1){var d=p[o],y=d[0],v=d[1];this.bindings[y]=v}};D.prototype.concat=function(t){return new D(this,t)},D.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},D.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var F={kind:"null"},V={kind:"number"},Q={kind:"string"},rt={kind:"boolean"},mt={kind:"color"},ct={kind:"object"},lt={kind:"value"},vt={kind:"collator"},Ot={kind:"formatted"},$t={kind:"resolvedImage"};function kt(t,r){return{kind:"array",itemType:t,N:r}}function jt(t){if(t.kind==="array"){var r=jt(t.itemType);return typeof t.N=="number"?"array<"+r+", "+t.N+">":t.itemType.kind==="value"?"array":"array<"+r+">"}return t.kind}var Kt=[F,V,Q,rt,mt,Ot,ct,kt(lt),$t];function ne(t,r){if(r.kind==="error")return null;if(t.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!ne(t.itemType,r.itemType))&&(typeof t.N!="number"||t.N===r.N))return null}else{if(t.kind===r.kind)return null;if(t.kind==="value"){for(var o=0,p=Kt;o<p.length;o+=1)if(!ne(p[o],r))return null}}return"Expected "+jt(t)+" but found "+jt(r)+" instead."}var de=x(function(t,r){var o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function p(E){return(E=Math.round(E))<0?0:E>255?255:E}function d(E){return E<0?0:E>1?1:E}function y(E){return E[E.length-1]==="%"?p(parseFloat(E)/100*255):p(parseInt(E))}function v(E){return E[E.length-1]==="%"?d(parseFloat(E)/100):d(parseFloat(E))}function w(E,A,R){return R<0?R+=1:R>1&&(R-=1),6*R<1?E+(A-E)*R*6:2*R<1?A:3*R<2?E+(A-E)*(2/3-R)*6:E}try{r.parseCSSColor=function(E){var A,R=E.replace(/ /g,"").toLowerCase();if(R in o)return o[R].slice();if(R[0]==="#")return R.length===4?(A=parseInt(R.substr(1),16))>=0&&A<=4095?[(3840&A)>>4|(3840&A)>>8,240&A|(240&A)>>4,15&A|(15&A)<<4,1]:null:R.length===7&&(A=parseInt(R.substr(1),16))>=0&&A<=16777215?[(16711680&A)>>16,(65280&A)>>8,255&A,1]:null;var B=R.indexOf("("),q=R.indexOf(")");if(B!==-1&&q+1===R.length){var j=R.substr(0,B),W=R.substr(B+1,q-(B+1)).split(","),nt=1;switch(j){case"rgba":if(W.length!==4)return null;nt=v(W.pop());case"rgb":return W.length!==3?null:[y(W[0]),y(W[1]),y(W[2]),nt];case"hsla":if(W.length!==4)return null;nt=v(W.pop());case"hsl":if(W.length!==3)return null;var ot=(parseFloat(W[0])%360+360)%360/360,pt=v(W[1]),wt=v(W[2]),St=wt<=.5?wt*(pt+1):wt+pt-wt*pt,Et=2*wt-St;return[p(255*w(Et,St,ot+1/3)),p(255*w(Et,St,ot)),p(255*w(Et,St,ot-1/3)),nt];default:return null}}return null}}catch{}}).parseCSSColor,Wt=function(t,r,o,p){p===void 0&&(p=1),this.r=t,this.g=r,this.b=o,this.a=p};Wt.parse=function(t){if(t){if(t instanceof Wt)return t;if(typeof t=="string"){var r=de(t);if(r)return new Wt(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3])}}},Wt.prototype.toString=function(){var t=this.toArray(),r=t[0],o=t[1],p=t[2],d=t[3];return"rgba("+Math.round(r)+","+Math.round(o)+","+Math.round(p)+","+d+")"},Wt.prototype.toArray=function(){var t=this.r,r=this.g,o=this.b,p=this.a;return p===0?[0,0,0,0]:[255*t/p,255*r/p,255*o/p,p]},Wt.black=new Wt(0,0,0,1),Wt.white=new Wt(1,1,1,1),Wt.transparent=new Wt(0,0,0,0),Wt.red=new Wt(1,0,0,1);var ze=function(t,r,o){this.sensitivity=t?r?"variant":"case":r?"accent":"base",this.locale=o,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ze.prototype.compare=function(t,r){return this.collator.compare(t,r)},ze.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var De=function(t,r,o,p,d){this.text=t,this.image=r,this.scale=o,this.fontStack=p,this.textColor=d},we=function(t){this.sections=t};we.fromString=function(t){return new we([new De(t,null,null,null,null)])},we.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(t){return t.text.length!==0||t.image&&t.image.name.length!==0})},we.factory=function(t){return t instanceof we?t:we.fromString(t)},we.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(t){return t.text}).join("")},we.prototype.serialize=function(){for(var t=["format"],r=0,o=this.sections;r<o.length;r+=1){var p=o[r];if(p.image)t.push(["image",p.image.name]);else{t.push(p.text);var d={};p.fontStack&&(d["text-font"]=["literal",p.fontStack.split(",")]),p.scale&&(d["font-scale"]=p.scale),p.textColor&&(d["text-color"]=["rgba"].concat(p.textColor.toArray())),t.push(d)}}return t};var Ie=function(t){this.name=t.name,this.available=t.available};function Er(t,r,o,p){return typeof t=="number"&&t>=0&&t<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof o=="number"&&o>=0&&o<=255?p===void 0||typeof p=="number"&&p>=0&&p<=1?null:"Invalid rgba value ["+[t,r,o,p].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof p=="number"?[t,r,o,p]:[t,r,o]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Le(t){if(t===null)return F;if(typeof t=="string")return Q;if(typeof t=="boolean")return rt;if(typeof t=="number")return V;if(t instanceof Wt)return mt;if(t instanceof ze)return vt;if(t instanceof we)return Ot;if(t instanceof Ie)return $t;if(Array.isArray(t)){for(var r,o=t.length,p=0,d=t;p<d.length;p+=1){var y=Le(d[p]);if(r){if(r===y)continue;r=lt;break}r=y}return kt(r||lt,o)}return ct}function Qe(t){var r=typeof t;return t===null?"":r==="string"||r==="number"||r==="boolean"?String(t):t instanceof Wt||t instanceof we||t instanceof Ie?t.toString():JSON.stringify(t)}Ie.prototype.toString=function(){return this.name},Ie.fromString=function(t){return new Ie({name:t,available:!1})},Ie.prototype.serialize=function(){return["image",this.name]};var Tr=function(t,r){this.type=t,this.value=r};Tr.parse=function(t,r){if(t.length!==2)return r.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function y(v){if(v===null||typeof v=="string"||typeof v=="boolean"||typeof v=="number"||v instanceof Wt||v instanceof ze||v instanceof we||v instanceof Ie)return!0;if(Array.isArray(v)){for(var w=0,E=v;w<E.length;w+=1)if(!y(E[w]))return!1;return!0}if(typeof v=="object"){for(var A in v)if(!y(v[A]))return!1;return!0}return!1}(t[1]))return r.error("invalid value");var o=t[1],p=Le(o),d=r.expectedType;return p.kind!=="array"||p.N!==0||!d||d.kind!=="array"||typeof d.N=="number"&&d.N!==0||(p=d),new Tr(p,o)},Tr.prototype.evaluate=function(){return this.value},Tr.prototype.eachChild=function(){},Tr.prototype.possibleOutputs=function(){return[this.value]},Tr.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Wt?["rgba"].concat(this.value.toArray()):this.value instanceof we?this.value.serialize():this.value};var ar=function(t){this.name="ExpressionEvaluationError",this.message=t};ar.prototype.toJSON=function(){return this.message};var Rn={string:Q,number:V,boolean:rt,object:ct},tr=function(t,r){this.type=t,this.args=r};tr.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var o,p=1,d=t[0];if(d==="array"){var y,v;if(t.length>2){var w=t[1];if(typeof w!="string"||!(w in Rn)||w==="object")return r.error('The item type argument of "array" must be one of string, number, boolean',1);y=Rn[w],p++}else y=lt;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return r.error('The length argument to "array" must be a positive integer literal',2);v=t[2],p++}o=kt(y,v)}else o=Rn[d];for(var E=[];p<t.length;p++){var A=r.parse(t[p],p,lt);if(!A)return null;E.push(A)}return new tr(o,E)},tr.prototype.evaluate=function(t){for(var r=0;r<this.args.length;r++){var o=this.args[r].evaluate(t);if(!ne(this.type,Le(o)))return o;if(r===this.args.length-1)throw new ar("Expected value to be of type "+jt(this.type)+", but found "+jt(Le(o))+" instead.")}return null},tr.prototype.eachChild=function(t){this.args.forEach(t)},tr.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map(function(r){return r.possibleOutputs()}))},tr.prototype.serialize=function(){var t=this.type,r=[t.kind];if(t.kind==="array"){var o=t.itemType;if(o.kind==="string"||o.kind==="number"||o.kind==="boolean"){r.push(o.kind);var p=t.N;(typeof p=="number"||this.args.length>1)&&r.push(p)}}return r.concat(this.args.map(function(d){return d.serialize()}))};var qr=function(t){this.type=Ot,this.sections=t};qr.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var o=t[1];if(!Array.isArray(o)&&typeof o=="object")return r.error("First argument must be an image or text section.");for(var p=[],d=!1,y=1;y<=t.length-1;++y){var v=t[y];if(d&&typeof v=="object"&&!Array.isArray(v)){d=!1;var w=null;if(v["font-scale"]&&!(w=r.parse(v["font-scale"],1,V)))return null;var E=null;if(v["text-font"]&&!(E=r.parse(v["text-font"],1,kt(Q))))return null;var A=null;if(v["text-color"]&&!(A=r.parse(v["text-color"],1,mt)))return null;var R=p[p.length-1];R.scale=w,R.font=E,R.textColor=A}else{var B=r.parse(t[y],1,lt);if(!B)return null;var q=B.type.kind;if(q!=="string"&&q!=="value"&&q!=="null"&&q!=="resolvedImage")return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");d=!0,p.push({content:B,scale:null,font:null,textColor:null})}}return new qr(p)},qr.prototype.evaluate=function(t){return new we(this.sections.map(function(r){var o=r.content.evaluate(t);return Le(o)===$t?new De("",o,null,null,null):new De(Qe(o),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)}))},qr.prototype.eachChild=function(t){for(var r=0,o=this.sections;r<o.length;r+=1){var p=o[r];t(p.content),p.scale&&t(p.scale),p.font&&t(p.font),p.textColor&&t(p.textColor)}},qr.prototype.possibleOutputs=function(){return[void 0]},qr.prototype.serialize=function(){for(var t=["format"],r=0,o=this.sections;r<o.length;r+=1){var p=o[r];t.push(p.content.serialize());var d={};p.scale&&(d["font-scale"]=p.scale.serialize()),p.font&&(d["text-font"]=p.font.serialize()),p.textColor&&(d["text-color"]=p.textColor.serialize()),t.push(d)}return t};var We=function(t){this.type=$t,this.input=t};We.parse=function(t,r){if(t.length!==2)return r.error("Expected two arguments.");var o=r.parse(t[1],1,Q);return o?new We(o):r.error("No image name provided.")},We.prototype.evaluate=function(t){var r=this.input.evaluate(t),o=!1;return t.availableImages&&t.availableImages.indexOf(r)>-1&&(o=!0),new Ie({name:r,available:o})},We.prototype.eachChild=function(t){t(this.input)},We.prototype.possibleOutputs=function(){return[void 0]},We.prototype.serialize=function(){return["image",this.input.serialize()]};var an={"to-boolean":rt,"to-color":mt,"to-number":V,"to-string":Q},zn=function(t,r){this.type=t,this.args=r};zn.parse=function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var o=t[0];if((o==="to-boolean"||o==="to-string")&&t.length!==2)return r.error("Expected one argument.");for(var p=an[o],d=[],y=1;y<t.length;y++){var v=r.parse(t[y],y,lt);if(!v)return null;d.push(v)}return new zn(p,d)},zn.prototype.evaluate=function(t){if(this.type.kind==="boolean")return!!this.args[0].evaluate(t);if(this.type.kind==="color"){for(var r,o,p=0,d=this.args;p<d.length;p+=1){if(o=null,(r=d[p].evaluate(t))instanceof Wt)return r;if(typeof r=="string"){var y=t.parseColor(r);if(y)return y}else if(Array.isArray(r)&&!(o=r.length<3||r.length>4?"Invalid rbga value "+JSON.stringify(r)+": expected an array containing either three or four numeric values.":Er(r[0],r[1],r[2],r[3])))return new Wt(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new ar(o||"Could not parse color from value '"+(typeof r=="string"?r:String(JSON.stringify(r)))+"'")}if(this.type.kind==="number"){for(var v=null,w=0,E=this.args;w<E.length;w+=1){if((v=E[w].evaluate(t))===null)return 0;var A=Number(v);if(!isNaN(A))return A}throw new ar("Could not convert "+JSON.stringify(v)+" to number.")}return this.type.kind==="formatted"?we.fromString(Qe(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?Ie.fromString(Qe(this.args[0].evaluate(t))):Qe(this.args[0].evaluate(t))},zn.prototype.eachChild=function(t){this.args.forEach(t)},zn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map(function(r){return r.possibleOutputs()}))},zn.prototype.serialize=function(){if(this.type.kind==="formatted")return new qr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new We(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(r){t.push(r.serialize())}),t};var Ei=["Unknown","Point","LineString","Polygon"],ro=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};ro.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ro.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Ei[this.feature.type]:this.feature.type:null},ro.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ro.prototype.parseColor=function(t){var r=this._parseColorCache[t];return r||(r=this._parseColorCache[t]=Wt.parse(t)),r};var Dn=function(t,r,o,p){this.name=t,this.type=r,this._evaluate=o,this.args=p};Dn.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Dn.prototype.eachChild=function(t){this.args.forEach(t)},Dn.prototype.possibleOutputs=function(){return[void 0]},Dn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},Dn.parse=function(t,r){var o,p=t[0],d=Dn.definitions[p];if(!d)return r.error('Unknown expression "'+p+'". If you wanted a literal array, use ["literal", [...]].',0);for(var y=Array.isArray(d)?d[0]:d.type,v=Array.isArray(d)?[[d[1],d[2]]]:d.overloads,w=v.filter(function(ge){var pe=ge[0];return!Array.isArray(pe)||pe.length===t.length-1}),E=null,A=0,R=w;A<R.length;A+=1){var B=R[A],q=B[0],j=B[1];E=new It(r.registry,r.path,null,r.scope);for(var W=[],nt=!1,ot=1;ot<t.length;ot++){var pt=t[ot],wt=Array.isArray(q)?q[ot-1]:q.type,St=E.parse(pt,1+W.length,wt);if(!St){nt=!0;break}W.push(St)}if(!nt)if(Array.isArray(q)&&q.length!==W.length)E.error("Expected "+q.length+" arguments, but found "+W.length+" instead.");else{for(var Et=0;Et<W.length;Et++){var Rt=Array.isArray(q)?q[Et]:q.type,Ft=W[Et];E.concat(Et+1).checkSubtype(Rt,Ft.type)}if(E.errors.length===0)return new Dn(p,y,j,W)}}if(w.length===1)(o=r.errors).push.apply(o,E.errors);else{for(var Lt=(w.length?w:v).map(function(ge){var pe,ae=ge[0];return pe=ae,Array.isArray(pe)?"("+pe.map(jt).join(", ")+")":"("+jt(pe.type)+"...)"}).join(" | "),ie=[],ye=1;ye<t.length;ye++){var ce=r.parse(t[ye],1+ie.length);if(!ce)return null;ie.push(jt(ce.type))}r.error("Expected arguments of type "+Lt+", but found ("+ie.join(", ")+") instead.")}return null},Dn.register=function(t,r){for(var o in Dn.definitions=r,r)t[o]=Dn};var ho=function(t,r,o){this.type=vt,this.locale=o,this.caseSensitive=t,this.diacriticSensitive=r};function ca(t){if(t instanceof Dn&&(t.name==="get"&&t.args.length===1||t.name==="feature-state"||t.name==="has"&&t.args.length===1||t.name==="properties"||t.name==="geometry-type"||t.name==="id"||/^filter-/.test(t.name)))return!1;var r=!0;return t.eachChild(function(o){r&&!ca(o)&&(r=!1)}),r}function $(t){if(t instanceof Dn&&t.name==="feature-state")return!1;var r=!0;return t.eachChild(function(o){r&&!$(o)&&(r=!1)}),r}function X(t,r){if(t instanceof Dn&&r.indexOf(t.name)>=0)return!1;var o=!0;return t.eachChild(function(p){o&&!X(p,r)&&(o=!1)}),o}ho.parse=function(t,r){if(t.length!==2)return r.error("Expected one argument.");var o=t[1];if(typeof o!="object"||Array.isArray(o))return r.error("Collator options argument must be an object.");var p=r.parse(o["case-sensitive"]!==void 0&&o["case-sensitive"],1,rt);if(!p)return null;var d=r.parse(o["diacritic-sensitive"]!==void 0&&o["diacritic-sensitive"],1,rt);if(!d)return null;var y=null;return o.locale&&!(y=r.parse(o.locale,1,Q))?null:new ho(p,d,y)},ho.prototype.evaluate=function(t){return new ze(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ho.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ho.prototype.possibleOutputs=function(){return[void 0]},ho.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var ut=function(t,r){this.type=r.type,this.name=t,this.boundExpression=r};ut.parse=function(t,r){if(t.length!==2||typeof t[1]!="string")return r.error("'var' expression requires exactly one string literal argument.");var o=t[1];return r.scope.has(o)?new ut(o,r.scope.get(o)):r.error('Unknown variable "'+o+'". Make sure "'+o+'" has been bound in an enclosing "let" expression before using it.',1)},ut.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},ut.prototype.eachChild=function(){},ut.prototype.possibleOutputs=function(){return[void 0]},ut.prototype.serialize=function(){return["var",this.name]};var It=function(t,r,o,p,d){r===void 0&&(r=[]),p===void 0&&(p=new D),d===void 0&&(d=[]),this.registry=t,this.path=r,this.key=r.map(function(y){return"["+y+"]"}).join(""),this.scope=p,this.errors=d,this.expectedType=o};function Ht(t,r){for(var o,p,d=t.length-1,y=0,v=d,w=0;y<=v;)if(o=t[w=Math.floor((y+v)/2)],p=t[w+1],o<=r){if(w===d||r<p)return w;y=w+1}else{if(!(o>r))throw new ar("Input is not a number.");v=w-1}return 0}It.prototype.parse=function(t,r,o,p,d){return d===void 0&&(d={}),r?this.concat(r,o,p)._parse(t,d):this._parse(t,d)},It.prototype._parse=function(t,r){function o(A,R,B){return B==="assert"?new tr(R,[A]):B==="coerce"?new zn(R,[A]):A}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var p=t[0];if(typeof p!="string")return this.error("Expression name must be a string, but found "+typeof p+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var d=this.registry[p];if(d){var y=d.parse(t,this);if(!y)return null;if(this.expectedType){var v=this.expectedType,w=y.type;if(v.kind!=="string"&&v.kind!=="number"&&v.kind!=="boolean"&&v.kind!=="object"&&v.kind!=="array"||w.kind!=="value")if(v.kind!=="color"&&v.kind!=="formatted"&&v.kind!=="resolvedImage"||w.kind!=="value"&&w.kind!=="string"){if(this.checkSubtype(v,w))return null}else y=o(y,v,r.typeAnnotation||"coerce");else y=o(y,v,r.typeAnnotation||"assert")}if(!(y instanceof Tr)&&y.type.kind!=="resolvedImage"&&function A(R){if(R instanceof ut)return A(R.boundExpression);if(R instanceof Dn&&R.name==="error"||R instanceof ho)return!1;var B=R instanceof zn||R instanceof tr,q=!0;return R.eachChild(function(j){q=B?q&&A(j):q&&j instanceof Tr}),q?ca(R)&&X(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}(y)){var E=new ro;try{y=new Tr(y.type,y.evaluate(E))}catch(A){return this.error(A.message),null}}return y}return this.error('Unknown expression "'+p+'". If you wanted a literal array, use ["literal", [...]].',0)}return t===void 0?this.error("'undefined' value invalid. Use null instead."):typeof t=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},It.prototype.concat=function(t,r,o){var p=typeof t=="number"?this.path.concat(t):this.path,d=o?this.scope.concat(o):this.scope;return new It(this.registry,p,r||null,d,this.errors)},It.prototype.error=function(t){for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];var p=""+this.key+r.map(function(d){return"["+d+"]"}).join("");this.errors.push(new O(p,t))},It.prototype.checkSubtype=function(t,r){var o=ne(t,r);return o&&this.error(o),o};var he=function(t,r,o){this.type=t,this.input=r,this.labels=[],this.outputs=[];for(var p=0,d=o;p<d.length;p+=1){var y=d[p],v=y[0],w=y[1];this.labels.push(v),this.outputs.push(w)}};function Pe(t,r,o){return t*(1-o)+r*o}he.parse=function(t,r){if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");var o=r.parse(t[1],1,V);if(!o)return null;var p=[],d=null;r.expectedType&&r.expectedType.kind!=="value"&&(d=r.expectedType);for(var y=1;y<t.length;y+=2){var v=y===1?-1/0:t[y],w=t[y+1],E=y,A=y+1;if(typeof v!="number")return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',E);if(p.length&&p[p.length-1][0]>=v)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',E);var R=r.parse(w,A,d);if(!R)return null;d=d||R.type,p.push([v,R])}return new he(d,o,p)},he.prototype.evaluate=function(t){var r=this.labels,o=this.outputs;if(r.length===1)return o[0].evaluate(t);var p=this.input.evaluate(t);if(p<=r[0])return o[0].evaluate(t);var d=r.length;return p>=r[d-1]?o[d-1].evaluate(t):o[Ht(r,p)].evaluate(t)},he.prototype.eachChild=function(t){t(this.input);for(var r=0,o=this.outputs;r<o.length;r+=1)t(o[r])},he.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map(function(r){return r.possibleOutputs()}))},he.prototype.serialize=function(){for(var t=["step",this.input.serialize()],r=0;r<this.labels.length;r++)r>0&&t.push(this.labels[r]),t.push(this.outputs[r].serialize());return t};var Sn=Object.freeze({__proto__:null,number:Pe,color:function(t,r,o){return new Wt(Pe(t.r,r.r,o),Pe(t.g,r.g,o),Pe(t.b,r.b,o),Pe(t.a,r.a,o))},array:function(t,r,o){return t.map(function(p,d){return Pe(p,r[d],o)})}}),Ln=6/29,Hn=3*Ln*Ln,Ti=Math.PI/180,Vp=180/Math.PI;function ds(t){return t>.008856451679035631?Math.pow(t,1/3):t/Hn+4/29}function oc(t){return t>Ln?t*t*t:Hn*(t-4/29)}function Qs(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Bl(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ms(t){var r=Bl(t.r),o=Bl(t.g),p=Bl(t.b),d=ds((.4124564*r+.3575761*o+.1804375*p)/.95047),y=ds((.2126729*r+.7151522*o+.072175*p)/1);return{l:116*y-16,a:500*(d-y),b:200*(y-ds((.0193339*r+.119192*o+.9503041*p)/1.08883)),alpha:t.a}}function tl(t){var r=(t.l+16)/116,o=isNaN(t.a)?r:r+t.a/500,p=isNaN(t.b)?r:r-t.b/200;return r=1*oc(r),o=.95047*oc(o),p=1.08883*oc(p),new Wt(Qs(3.2404542*o-1.5371385*r-.4985314*p),Qs(-.969266*o+1.8760108*r+.041556*p),Qs(.0556434*o-.2040259*r+1.0572252*p),t.alpha)}function Fl(t,r,o){var p=r-t;return t+o*(p>180||p<-180?p-360*Math.round(p/360):p)}var el={forward:ms,reverse:tl,interpolate:function(t,r,o){return{l:Pe(t.l,r.l,o),a:Pe(t.a,r.a,o),b:Pe(t.b,r.b,o),alpha:Pe(t.alpha,r.alpha,o)}}},rl={forward:function(t){var r=ms(t),o=r.l,p=r.a,d=r.b,y=Math.atan2(d,p)*Vp;return{h:y<0?y+360:y,c:Math.sqrt(p*p+d*d),l:o,alpha:t.a}},reverse:function(t){var r=t.h*Ti,o=t.c;return tl({l:t.l,a:Math.cos(r)*o,b:Math.sin(r)*o,alpha:t.alpha})},interpolate:function(t,r,o){return{h:Fl(t.h,r.h,o),c:Pe(t.c,r.c,o),l:Pe(t.l,r.l,o),alpha:Pe(t.alpha,r.alpha,o)}}},jp=Object.freeze({__proto__:null,lab:el,hcl:rl}),En=function(t,r,o,p,d){this.type=t,this.operator=r,this.interpolation=o,this.input=p,this.labels=[],this.outputs=[];for(var y=0,v=d;y<v.length;y+=1){var w=v[y],E=w[0],A=w[1];this.labels.push(E),this.outputs.push(A)}};function ys(t,r,o,p){var d=p-o,y=t-o;return d===0?0:r===1?y/d:(Math.pow(r,y)-1)/(Math.pow(r,d)-1)}En.interpolationFactor=function(t,r,o,p){var d=0;if(t.name==="exponential")d=ys(r,t.base,o,p);else if(t.name==="linear")d=ys(r,1,o,p);else if(t.name==="cubic-bezier"){var y=t.controlPoints;d=new b(y[0],y[1],y[2],y[3]).solve(ys(r,1,o,p))}return d},En.parse=function(t,r){var o=t[0],p=t[1],d=t[2],y=t.slice(3);if(!Array.isArray(p)||p.length===0)return r.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){var v=p[1];if(typeof v!="number")return r.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:v}}else{if(p[0]!=="cubic-bezier")return r.error("Unknown interpolation type "+String(p[0]),1,0);var w=p.slice(1);if(w.length!==4||w.some(function(ot){return typeof ot!="number"||ot<0||ot>1}))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:w}}if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(!(d=r.parse(d,2,V)))return null;var E=[],A=null;o==="interpolate-hcl"||o==="interpolate-lab"?A=mt:r.expectedType&&r.expectedType.kind!=="value"&&(A=r.expectedType);for(var R=0;R<y.length;R+=2){var B=y[R],q=y[R+1],j=R+3,W=R+4;if(typeof B!="number")return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(E.length&&E[E.length-1][0]>=B)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',j);var nt=r.parse(q,W,A);if(!nt)return null;A=A||nt.type,E.push([B,nt])}return A.kind==="number"||A.kind==="color"||A.kind==="array"&&A.itemType.kind==="number"&&typeof A.N=="number"?new En(A,o,p,d,E):r.error("Type "+jt(A)+" is not interpolatable.")},En.prototype.evaluate=function(t){var r=this.labels,o=this.outputs;if(r.length===1)return o[0].evaluate(t);var p=this.input.evaluate(t);if(p<=r[0])return o[0].evaluate(t);var d=r.length;if(p>=r[d-1])return o[d-1].evaluate(t);var y=Ht(r,p),v=r[y],w=r[y+1],E=En.interpolationFactor(this.interpolation,p,v,w),A=o[y].evaluate(t),R=o[y+1].evaluate(t);return this.operator==="interpolate"?Sn[this.type.kind.toLowerCase()](A,R,E):this.operator==="interpolate-hcl"?rl.reverse(rl.interpolate(rl.forward(A),rl.forward(R),E)):el.reverse(el.interpolate(el.forward(A),el.forward(R),E))},En.prototype.eachChild=function(t){t(this.input);for(var r=0,o=this.outputs;r<o.length;r+=1)t(o[r])},En.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map(function(r){return r.possibleOutputs()}))},En.prototype.serialize=function(){var t;t=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var r=[this.operator,t,this.input.serialize()],o=0;o<this.labels.length;o++)r.push(this.labels[o],this.outputs[o].serialize());return r};var Oo=function(t,r){this.type=t,this.args=r};Oo.parse=function(t,r){if(t.length<2)return r.error("Expectected at least one argument.");var o=null,p=r.expectedType;p&&p.kind!=="value"&&(o=p);for(var d=[],y=0,v=t.slice(1);y<v.length;y+=1){var w=v[y],E=r.parse(w,1+d.length,o,void 0,{typeAnnotation:"omit"});if(!E)return null;o=o||E.type,d.push(E)}var A=p&&d.some(function(R){return ne(p,R.type)});return new Oo(A?lt:o,d)},Oo.prototype.evaluate=function(t){for(var r,o=null,p=0,d=0,y=this.args;d<y.length&&(p++,(o=y[d].evaluate(t))&&o instanceof Ie&&!o.available&&(r||(r=o.name),o=null,p===this.args.length&&(o=r)),o===null);d+=1);return o},Oo.prototype.eachChild=function(t){this.args.forEach(t)},Oo.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map(function(r){return r.possibleOutputs()}))},Oo.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(r){t.push(r.serialize())}),t};var pa=function(t,r){this.type=r.type,this.bindings=[].concat(t),this.result=r};pa.prototype.evaluate=function(t){return this.result.evaluate(t)},pa.prototype.eachChild=function(t){for(var r=0,o=this.bindings;r<o.length;r+=1)t(o[r][1]);t(this.result)},pa.parse=function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var o=[],p=1;p<t.length-1;p+=2){var d=t[p];if(typeof d!="string")return r.error("Expected string, but found "+typeof d+" instead.",p);if(/[^a-zA-Z0-9_]/.test(d))return r.error("Variable names must contain only alphanumeric characters or '_'.",p);var y=r.parse(t[p+1],p+1);if(!y)return null;o.push([d,y])}var v=r.parse(t[t.length-1],t.length-1,r.expectedType,o);return v?new pa(o,v):null},pa.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},pa.prototype.serialize=function(){for(var t=["let"],r=0,o=this.bindings;r<o.length;r+=1){var p=o[r],d=p[0],y=p[1];t.push(d,y.serialize())}return t.push(this.result.serialize()),t};var La=function(t,r,o){this.type=t,this.index=r,this.input=o};La.parse=function(t,r){if(t.length!==3)return r.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var o=r.parse(t[1],1,V),p=r.parse(t[2],2,kt(r.expectedType||lt));if(!o||!p)return null;var d=p.type;return new La(d.itemType,o,p)},La.prototype.evaluate=function(t){var r=this.index.evaluate(t),o=this.input.evaluate(t);if(r<0)throw new ar("Array index out of bounds: "+r+" < 0.");if(r>=o.length)throw new ar("Array index out of bounds: "+r+" > "+(o.length-1)+".");if(r!==Math.floor(r))throw new ar("Array index must be an integer, but found "+r+" instead.");return o[r]},La.prototype.eachChild=function(t){t(this.index),t(this.input)},La.prototype.possibleOutputs=function(){return[void 0]},La.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ba=function(t,r){this.type=rt,this.needle=t,this.haystack=r};Ba.parse=function(t,r){if(t.length!==3)return r.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var o,p=r.parse(t[1],1,lt),d=r.parse(t[2],2,lt);return p&&d?(o=p.type).kind!=="boolean"&&o.kind!=="string"&&o.kind!=="number"&&o.kind!=="null"&&o.kind!=="value"?r.error("Expected first argument to be of type boolean, string, number or null, but found "+jt(p.type)+" instead"):new Ba(p,d):null},Ba.prototype.evaluate=function(t){var r=this.needle.evaluate(t),o=this.haystack.evaluate(t);if(!r||!o)return!1;if(!function(p){return typeof p=="boolean"||typeof p=="string"||typeof p=="number"}(r))throw new ar("Expected first argument to be of type boolean, string or number, but found "+jt(Le(r))+" instead.");if(!function(p){return Array.isArray(p)||typeof p=="string"}(o))throw new ar("Expected second argument to be of type array or string, but found "+jt(Le(o))+" instead.");return o.indexOf(r)>=0},Ba.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},Ba.prototype.possibleOutputs=function(){return[!0,!1]},Ba.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Fa=function(t,r,o,p,d,y){this.inputType=t,this.type=r,this.input=o,this.cases=p,this.outputs=d,this.otherwise=y};Fa.parse=function(t,r){if(t.length<5)return r.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return r.error("Expected an even number of arguments.");var o,p;r.expectedType&&r.expectedType.kind!=="value"&&(p=r.expectedType);for(var d={},y=[],v=2;v<t.length-1;v+=2){var w=t[v],E=t[v+1];Array.isArray(w)||(w=[w]);var A=r.concat(v);if(w.length===0)return A.error("Expected at least one branch label.");for(var R=0,B=w;R<B.length;R+=1){var q=B[R];if(typeof q!="number"&&typeof q!="string")return A.error("Branch labels must be numbers or strings.");if(typeof q=="number"&&Math.abs(q)>Number.MAX_SAFE_INTEGER)return A.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof q=="number"&&Math.floor(q)!==q)return A.error("Numeric branch labels must be integer values.");if(o){if(A.checkSubtype(o,Le(q)))return null}else o=Le(q);if(d[String(q)]!==void 0)return A.error("Branch labels must be unique.");d[String(q)]=y.length}var j=r.parse(E,v,p);if(!j)return null;p=p||j.type,y.push(j)}var W=r.parse(t[1],1,lt);if(!W)return null;var nt=r.parse(t[t.length-1],t.length-1,p);return nt?W.type.kind!=="value"&&r.concat(1).checkSubtype(o,W.type)?null:new Fa(o,p,W,d,y,nt):null},Fa.prototype.evaluate=function(t){var r=this.input.evaluate(t);return(Le(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(t)},Fa.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Fa.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map(function(r){return r.possibleOutputs()})).concat(this.otherwise.possibleOutputs())},Fa.prototype.serialize=function(){for(var t=this,r=["match",this.input.serialize()],o=[],p={},d=0,y=Object.keys(this.cases).sort();d<y.length;d+=1){var v=y[d];(B=p[this.cases[v]])===void 0?(p[this.cases[v]]=o.length,o.push([this.cases[v],[v]])):o[B][1].push(v)}for(var w=function(j){return t.inputType.kind==="number"?Number(j):j},E=0,A=o;E<A.length;E+=1){var R=A[E],B=R[0],q=R[1];q.length===1?r.push(w(q[0])):r.push(q.map(w)),r.push(this.outputs[outputIndex$1].serialize())}return r.push(this.otherwise.serialize()),r};var Na=function(t,r,o){this.type=t,this.branches=r,this.otherwise=o};function $p(t,r){return t==="=="||t==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function Zp(t,r,o,p){return p.compare(r,o)===0}function gs(t,r,o){var p=t!=="=="&&t!=="!=";return function(){function d(y,v,w){this.type=rt,this.lhs=y,this.rhs=v,this.collator=w,this.hasUntypedArgument=y.type.kind==="value"||v.type.kind==="value"}return d.parse=function(y,v){if(y.length!==3&&y.length!==4)return v.error("Expected two or three arguments.");var w=y[0],E=v.parse(y[1],1,lt);if(!E)return null;if(!$p(w,E.type))return v.concat(1).error('"'+w+`" comparisons are not supported for type '`+jt(E.type)+"'.");var A=v.parse(y[2],2,lt);if(!A)return null;if(!$p(w,A.type))return v.concat(2).error('"'+w+`" comparisons are not supported for type '`+jt(A.type)+"'.");if(E.type.kind!==A.type.kind&&E.type.kind!=="value"&&A.type.kind!=="value")return v.error("Cannot compare types '"+jt(E.type)+"' and '"+jt(A.type)+"'.");p&&(E.type.kind==="value"&&A.type.kind!=="value"?E=new tr(A.type,[E]):E.type.kind!=="value"&&A.type.kind==="value"&&(A=new tr(E.type,[A])));var R=null;if(y.length===4){if(E.type.kind!=="string"&&A.type.kind!=="string"&&E.type.kind!=="value"&&A.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(!(R=v.parse(y[3],3,vt)))return null}return new d(E,A,R)},d.prototype.evaluate=function(y){var v=this.lhs.evaluate(y),w=this.rhs.evaluate(y);if(p&&this.hasUntypedArgument){var E=Le(v),A=Le(w);if(E.kind!==A.kind||E.kind!=="string"&&E.kind!=="number")throw new ar('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+E.kind+", "+A.kind+") instead.")}if(this.collator&&!p&&this.hasUntypedArgument){var R=Le(v),B=Le(w);if(R.kind!=="string"||B.kind!=="string")return r(y,v,w)}return this.collator?o(y,v,w,this.collator.evaluate(y)):r(y,v,w)},d.prototype.eachChild=function(y){y(this.lhs),y(this.rhs),this.collator&&y(this.collator)},d.prototype.possibleOutputs=function(){return[!0,!1]},d.prototype.serialize=function(){var y=[t];return this.eachChild(function(v){y.push(v.serialize())}),y},d}()}Na.parse=function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return r.error("Expected an odd number of arguments.");var o;r.expectedType&&r.expectedType.kind!=="value"&&(o=r.expectedType);for(var p=[],d=1;d<t.length-1;d+=2){var y=r.parse(t[d],d,rt);if(!y)return null;var v=r.parse(t[d+1],d+1,o);if(!v)return null;p.push([y,v]),o=o||v.type}var w=r.parse(t[t.length-1],t.length-1,o);return w?new Na(o,p,w):null},Na.prototype.evaluate=function(t){for(var r=0,o=this.branches;r<o.length;r+=1){var p=o[r],d=p[0],y=p[1];if(d.evaluate(t))return y.evaluate(t)}return this.otherwise.evaluate(t)},Na.prototype.eachChild=function(t){for(var r=0,o=this.branches;r<o.length;r+=1){var p=o[r],d=p[0],y=p[1];t(d),t(y)}t(this.otherwise)},Na.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map(function(r){return r[0],r[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs())},Na.prototype.serialize=function(){var t=["case"];return this.eachChild(function(r){t.push(r.serialize())}),t};var Ad=gs("==",function(t,r,o){return r===o},Zp),kd=gs("!=",function(t,r,o){return r!==o},function(t,r,o,p){return!Zp(0,r,o,p)}),Od=gs("<",function(t,r,o){return r<o},function(t,r,o,p){return p.compare(r,o)<0}),Rd=gs(">",function(t,r,o){return r>o},function(t,r,o,p){return p.compare(r,o)>0}),zd=gs("<=",function(t,r,o){return r<=o},function(t,r,o,p){return p.compare(r,o)<=0}),Dd=gs(">=",function(t,r,o){return r>=o},function(t,r,o,p){return p.compare(r,o)>=0}),Ua=function(t,r,o,p,d){this.type=Q,this.number=t,this.locale=r,this.currency=o,this.minFractionDigits=p,this.maxFractionDigits=d};Ua.parse=function(t,r){if(t.length!==3)return r.error("Expected two arguments.");var o=r.parse(t[1],1,V);if(!o)return null;var p=t[2];if(typeof p!="object"||Array.isArray(p))return r.error("NumberFormat options argument must be an object.");var d=null;if(p.locale&&!(d=r.parse(p.locale,1,Q)))return null;var y=null;if(p.currency&&!(y=r.parse(p.currency,1,Q)))return null;var v=null;if(p["min-fraction-digits"]&&!(v=r.parse(p["min-fraction-digits"],1,V)))return null;var w=null;return p["max-fraction-digits"]&&!(w=r.parse(p["max-fraction-digits"],1,V))?null:new Ua(o,d,y,v,w)},Ua.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},Ua.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},Ua.prototype.possibleOutputs=function(){return[void 0]},Ua.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var Va=function(t){this.type=V,this.input=t};Va.parse=function(t,r){if(t.length!==2)return r.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var o=r.parse(t[1],1);return o?o.type.kind!=="array"&&o.type.kind!=="string"&&o.type.kind!=="value"?r.error("Expected argument of type string or array, but found "+jt(o.type)+" instead."):new Va(o):null},Va.prototype.evaluate=function(t){var r=this.input.evaluate(t);if(typeof r=="string"||Array.isArray(r))return r.length;throw new ar("Expected value to be of type string or array, but found "+jt(Le(r))+" instead.")},Va.prototype.eachChild=function(t){t(this.input)},Va.prototype.possibleOutputs=function(){return[void 0]},Va.prototype.serialize=function(){var t=["length"];return this.eachChild(function(r){t.push(r.serialize())}),t};var vs={"==":Ad,"!=":kd,">":Rd,"<":Od,">=":Dd,"<=":zd,array:tr,at:La,boolean:tr,case:Na,coalesce:Oo,collator:ho,format:qr,image:We,in:Ba,interpolate:En,"interpolate-hcl":En,"interpolate-lab":En,length:Va,let:pa,literal:Tr,match:Fa,number:tr,"number-format":Ua,object:tr,step:he,string:tr,"to-boolean":zn,"to-color":zn,"to-number":zn,"to-string":zn,var:ut};function qp(t,r){var o=r[0],p=r[1],d=r[2],y=r[3];o=o.evaluate(t),p=p.evaluate(t),d=d.evaluate(t);var v=y?y.evaluate(t):1,w=Er(o,p,d,v);if(w)throw new ar(w);return new Wt(o/255*v,p/255*v,d/255*v,v)}function Wp(t,r){return t in r}function ac(t,r){var o=r[t];return o===void 0?null:o}function ja(t){return{type:t}}function sc(t){return{result:"success",value:t}}function _s(t){return{result:"error",value:t}}function bs(t){return t["property-type"]==="data-driven"||t["property-type"]==="cross-faded-data-driven"}function Hp(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Qr(t){return!!t.expression&&t.expression.interpolated}function tn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":t===null?"null":typeof t}function $a(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Gp(t){return t}function xs(t,r,o){return t!==void 0?t:r!==void 0?r:o!==void 0?o:void 0}function Xp(t,r,o,p,d){return xs(typeof o===d?p[o]:void 0,t.default,r.default)}function Ld(t,r,o){if(tn(o)!=="number")return xs(t.default,r.default);var p=t.stops.length;if(p===1||o<=t.stops[0][0])return t.stops[0][1];if(o>=t.stops[p-1][0])return t.stops[p-1][1];var d=Ht(t.stops.map(function(y){return y[0]}),o);return t.stops[d][1]}function lc(t,r,o){var p=t.base!==void 0?t.base:1;if(tn(o)!=="number")return xs(t.default,r.default);var d=t.stops.length;if(d===1||o<=t.stops[0][0])return t.stops[0][1];if(o>=t.stops[d-1][0])return t.stops[d-1][1];var y=Ht(t.stops.map(function(B){return B[0]}),o),v=function(B,q,j,W){var nt=W-j,ot=B-j;return nt===0?0:q===1?ot/nt:(Math.pow(q,ot)-1)/(Math.pow(q,nt)-1)}(o,p,t.stops[y][0],t.stops[y+1][0]),w=t.stops[y][1],E=t.stops[y+1][1],A=Sn[r.type]||Gp;if(t.colorSpace&&t.colorSpace!=="rgb"){var R=jp[t.colorSpace];A=function(B,q){return R.reverse(R.interpolate(R.forward(B),R.forward(q),v))}}return typeof w.evaluate=="function"?{evaluate:function(){for(var B=[],q=arguments.length;q--;)B[q]=arguments[q];var j=w.evaluate.apply(void 0,B),W=E.evaluate.apply(void 0,B);if(j!==void 0&&W!==void 0)return A(j,W,v)}}:A(w,E,v)}function Kp(t,r,o){return r.type==="color"?o=Wt.parse(o):r.type==="formatted"?o=we.fromString(o.toString()):r.type==="resolvedImage"?o=Ie.fromString(o.toString()):tn(o)===r.type||r.type==="enum"&&r.values[o]||(o=void 0),xs(o,t.default,r.default)}Dn.register(vs,{error:[{kind:"error"},[Q],function(t,r){var o=r[0];throw new ar(o.evaluate(t))}],typeof:[Q,[lt],function(t,r){return jt(Le(r[0].evaluate(t)))}],"to-rgba":[kt(V,4),[mt],function(t,r){return r[0].evaluate(t).toArray()}],rgb:[mt,[V,V,V],qp],rgba:[mt,[V,V,V,V],qp],has:{type:rt,overloads:[[[Q],function(t,r){return Wp(r[0].evaluate(t),t.properties())}],[[Q,ct],function(t,r){var o=r[0],p=r[1];return Wp(o.evaluate(t),p.evaluate(t))}]]},get:{type:lt,overloads:[[[Q],function(t,r){return ac(r[0].evaluate(t),t.properties())}],[[Q,ct],function(t,r){var o=r[0],p=r[1];return ac(o.evaluate(t),p.evaluate(t))}]]},"feature-state":[lt,[Q],function(t,r){return ac(r[0].evaluate(t),t.featureState||{})}],properties:[ct,[],function(t){return t.properties()}],"geometry-type":[Q,[],function(t){return t.geometryType()}],id:[lt,[],function(t){return t.id()}],zoom:[V,[],function(t){return t.globals.zoom}],"heatmap-density":[V,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[V,[],function(t){return t.globals.lineProgress||0}],accumulated:[lt,[],function(t){return t.globals.accumulated===void 0?null:t.globals.accumulated}],"+":[V,ja(V),function(t,r){for(var o=0,p=0,d=r;p<d.length;p+=1)o+=d[p].evaluate(t);return o}],"*":[V,ja(V),function(t,r){for(var o=1,p=0,d=r;p<d.length;p+=1)o*=d[p].evaluate(t);return o}],"-":{type:V,overloads:[[[V,V],function(t,r){var o=r[0],p=r[1];return o.evaluate(t)-p.evaluate(t)}],[[V],function(t,r){return-r[0].evaluate(t)}]]},"/":[V,[V,V],function(t,r){var o=r[0],p=r[1];return o.evaluate(t)/p.evaluate(t)}],"%":[V,[V,V],function(t,r){var o=r[0],p=r[1];return o.evaluate(t)%p.evaluate(t)}],ln2:[V,[],function(){return Math.LN2}],pi:[V,[],function(){return Math.PI}],e:[V,[],function(){return Math.E}],"^":[V,[V,V],function(t,r){var o=r[0],p=r[1];return Math.pow(o.evaluate(t),p.evaluate(t))}],sqrt:[V,[V],function(t,r){var o=r[0];return Math.sqrt(o.evaluate(t))}],log10:[V,[V],function(t,r){var o=r[0];return Math.log(o.evaluate(t))/Math.LN10}],ln:[V,[V],function(t,r){var o=r[0];return Math.log(o.evaluate(t))}],log2:[V,[V],function(t,r){var o=r[0];return Math.log(o.evaluate(t))/Math.LN2}],sin:[V,[V],function(t,r){var o=r[0];return Math.sin(o.evaluate(t))}],cos:[V,[V],function(t,r){var o=r[0];return Math.cos(o.evaluate(t))}],tan:[V,[V],function(t,r){var o=r[0];return Math.tan(o.evaluate(t))}],asin:[V,[V],function(t,r){var o=r[0];return Math.asin(o.evaluate(t))}],acos:[V,[V],function(t,r){var o=r[0];return Math.acos(o.evaluate(t))}],atan:[V,[V],function(t,r){var o=r[0];return Math.atan(o.evaluate(t))}],min:[V,ja(V),function(t,r){return Math.min.apply(Math,r.map(function(o){return o.evaluate(t)}))}],max:[V,ja(V),function(t,r){return Math.max.apply(Math,r.map(function(o){return o.evaluate(t)}))}],abs:[V,[V],function(t,r){var o=r[0];return Math.abs(o.evaluate(t))}],round:[V,[V],function(t,r){var o=r[0].evaluate(t);return o<0?-Math.round(-o):Math.round(o)}],floor:[V,[V],function(t,r){var o=r[0];return Math.floor(o.evaluate(t))}],ceil:[V,[V],function(t,r){var o=r[0];return Math.ceil(o.evaluate(t))}],"filter-==":[rt,[Q,lt],function(t,r){var o=r[0],p=r[1];return t.properties()[o.value]===p.value}],"filter-id-==":[rt,[lt],function(t,r){var o=r[0];return t.id()===o.value}],"filter-type-==":[rt,[Q],function(t,r){var o=r[0];return t.geometryType()===o.value}],"filter-<":[rt,[Q,lt],function(t,r){var o=r[0],p=r[1],d=t.properties()[o.value],y=p.value;return typeof d==typeof y&&d<y}],"filter-id-<":[rt,[lt],function(t,r){var o=r[0],p=t.id(),d=o.value;return typeof p==typeof d&&p<d}],"filter->":[rt,[Q,lt],function(t,r){var o=r[0],p=r[1],d=t.properties()[o.value],y=p.value;return typeof d==typeof y&&d>y}],"filter-id->":[rt,[lt],function(t,r){var o=r[0],p=t.id(),d=o.value;return typeof p==typeof d&&p>d}],"filter-<=":[rt,[Q,lt],function(t,r){var o=r[0],p=r[1],d=t.properties()[o.value],y=p.value;return typeof d==typeof y&&d<=y}],"filter-id-<=":[rt,[lt],function(t,r){var o=r[0],p=t.id(),d=o.value;return typeof p==typeof d&&p<=d}],"filter->=":[rt,[Q,lt],function(t,r){var o=r[0],p=r[1],d=t.properties()[o.value],y=p.value;return typeof d==typeof y&&d>=y}],"filter-id->=":[rt,[lt],function(t,r){var o=r[0],p=t.id(),d=o.value;return typeof p==typeof d&&p>=d}],"filter-has":[rt,[lt],function(t,r){return r[0].value in t.properties()}],"filter-has-id":[rt,[],function(t){return t.id()!==null}],"filter-type-in":[rt,[kt(Q)],function(t,r){return r[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[rt,[kt(lt)],function(t,r){return r[0].value.indexOf(t.id())>=0}],"filter-in-small":[rt,[Q,kt(lt)],function(t,r){var o=r[0];return r[1].value.indexOf(t.properties()[o.value])>=0}],"filter-in-large":[rt,[Q,kt(lt)],function(t,r){var o=r[0],p=r[1];return function(d,y,v,w){for(;v<=w;){var E=v+w>>1;if(y[E]===d)return!0;y[E]>d?w=E-1:v=E+1}return!1}(t.properties()[o.value],p.value,0,p.value.length-1)}],all:{type:rt,overloads:[[[rt,rt],function(t,r){var o=r[0],p=r[1];return o.evaluate(t)&&p.evaluate(t)}],[ja(rt),function(t,r){for(var o=0,p=r;o<p.length;o+=1)if(!p[o].evaluate(t))return!1;return!0}]]},any:{type:rt,overloads:[[[rt,rt],function(t,r){var o=r[0],p=r[1];return o.evaluate(t)||p.evaluate(t)}],[ja(rt),function(t,r){for(var o=0,p=r;o<p.length;o+=1)if(p[o].evaluate(t))return!0;return!1}]]},"!":[rt,[rt],function(t,r){return!r[0].evaluate(t)}],"is-supported-script":[rt,[Q],function(t,r){var o=r[0],p=t.globals&&t.globals.isSupportedScript;return!p||p(o.evaluate(t))}],upcase:[Q,[Q],function(t,r){return r[0].evaluate(t).toUpperCase()}],downcase:[Q,[Q],function(t,r){return r[0].evaluate(t).toLowerCase()}],concat:[Q,ja(lt),function(t,r){return r.map(function(o){return Qe(o.evaluate(t))}).join("")}],"resolved-locale":[Q,[vt],function(t,r){return r[0].evaluate(t).resolvedLocale()}]});var nl=function(t,r){this.expression=t,this._warningHistory={},this._evaluator=new ro,this._defaultValue=r?function(o){return o.type==="color"&&$a(o.default)?new Wt(0,0,0,0):o.type==="color"?Wt.parse(o.default)||null:o.default===void 0?null:o.default}(r):null,this._enumValues=r&&r.type==="enum"?r.values:null};function Nl(t){return Array.isArray(t)&&t.length>0&&typeof t[0]=="string"&&t[0]in vs}function Ul(t,r){var o=new It(vs,[],r?function(d){var y={color:mt,string:Q,number:V,enum:Q,boolean:rt,formatted:Ot,resolvedImage:$t};return d.type==="array"?kt(y[d.value]||lt,d.length):y[d.type]}(r):void 0),p=o.parse(t,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return p?sc(new nl(p,r)):_s(o.errors)}nl.prototype.evaluateWithoutErrorHandling=function(t,r,o,p,d){return this._evaluator.globals=t,this._evaluator.feature=r,this._evaluator.featureState=o,this._evaluator.availableImages=p||null,this._evaluator.formattedSection=d,this.expression.evaluate(this._evaluator)},nl.prototype.evaluate=function(t,r,o,p,d){this._evaluator.globals=t,this._evaluator.feature=r||null,this._evaluator.featureState=o||null,this._evaluator.availableImages=p||null,this._evaluator.formattedSection=d||null;try{var y=this.expression.evaluate(this._evaluator);if(y==null||typeof y=="number"&&y!=y)return this._defaultValue;if(this._enumValues&&!(y in this._enumValues))throw new ar("Expected value to be one of "+Object.keys(this._enumValues).map(function(v){return JSON.stringify(v)}).join(", ")+", but found "+JSON.stringify(y)+" instead.");return y}catch(v){return this._warningHistory[v.message]||(this._warningHistory[v.message]=!0,typeof console<"u"&&console.warn(v.message)),this._defaultValue}};var ws=function(t,r){this.kind=t,this._styleExpression=r,this.isStateDependent=t!=="constant"&&!$(r.expression)};ws.prototype.evaluateWithoutErrorHandling=function(t,r,o,p,d){return this._styleExpression.evaluateWithoutErrorHandling(t,r,o,p,d)},ws.prototype.evaluate=function(t,r,o,p,d){return this._styleExpression.evaluate(t,r,o,p,d)};var Cs=function(t,r,o,p){this.kind=t,this.zoomStops=o,this._styleExpression=r,this.isStateDependent=t!=="camera"&&!$(r.expression),this.interpolationType=p};function Vl(t,r){if((t=Ul(t,r)).result==="error")return t;var o=t.value.expression,p=ca(o);if(!p&&!bs(r))return _s([new O("","data expressions not supported")]);var d=X(o,["zoom"]);if(!d&&!Hp(r))return _s([new O("","zoom expressions not supported")]);var y=function w(E){var A=null;if(E instanceof pa)A=w(E.result);else if(E instanceof Oo)for(var R=0,B=E.args;R<B.length;R+=1){var q=B[R];if(A=w(q))break}else(E instanceof he||E instanceof En)&&E.input instanceof Dn&&E.input.name==="zoom"&&(A=E);return A instanceof O||E.eachChild(function(j){var W=w(j);W instanceof O?A=W:!A&&W?A=new O("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):A&&W&&A!==W&&(A=new O("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),A}(o);if(!y&&!d)return _s([new O("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(y instanceof O)return _s([y]);if(y instanceof En&&!Qr(r))return _s([new O("",'"interpolate" expressions cannot be used with this property')]);if(!y)return sc(new ws(p?"constant":"source",t.value));var v=y instanceof En?y.interpolation:void 0;return sc(new Cs(p?"camera":"composite",t.value,y.labels,v))}Cs.prototype.evaluateWithoutErrorHandling=function(t,r,o,p,d){return this._styleExpression.evaluateWithoutErrorHandling(t,r,o,p,d)},Cs.prototype.evaluate=function(t,r,o,p,d){return this._styleExpression.evaluate(t,r,o,p,d)},Cs.prototype.interpolationFactor=function(t,r,o){return this.interpolationType?En.interpolationFactor(this.interpolationType,t,r,o):0};var Ss=function(t,r){this._parameters=t,this._specification=r,Wi(this,function o(p,d){var y,v,w,E=d.type==="color",A=p.stops&&typeof p.stops[0][0]=="object",R=A||p.property!==void 0,B=A||!R,q=p.type||(Qr(d)?"exponential":"interval");if(E&&((p=Wi({},p)).stops&&(p.stops=p.stops.map(function(ge){return[ge[0],Wt.parse(ge[1])]})),p.default?p.default=Wt.parse(p.default):p.default=Wt.parse(d.default)),p.colorSpace&&p.colorSpace!=="rgb"&&!jp[p.colorSpace])throw new Error("Unknown color space: "+p.colorSpace);if(q==="exponential")y=lc;else if(q==="interval")y=Ld;else if(q==="categorical"){y=Xp,v=Object.create(null);for(var j=0,W=p.stops;j<W.length;j+=1){var nt=W[j];v[nt[0]]=nt[1]}w=typeof p.stops[0][0]}else{if(q!=="identity")throw new Error('Unknown function type "'+q+'"');y=Kp}if(A){for(var ot={},pt=[],wt=0;wt<p.stops.length;wt++){var St=p.stops[wt],Et=St[0].zoom;ot[Et]===void 0&&(ot[Et]={zoom:Et,type:p.type,property:p.property,default:p.default,stops:[]},pt.push(Et)),ot[Et].stops.push([St[0].value,St[1]])}for(var Rt=[],Ft=0,Lt=pt;Ft<Lt.length;Ft+=1){var ie=Lt[Ft];Rt.push([ot[ie].zoom,o(ot[ie],d)])}var ye={name:"linear"};return{kind:"composite",interpolationType:ye,interpolationFactor:En.interpolationFactor.bind(void 0,ye),zoomStops:Rt.map(function(ge){return ge[0]}),evaluate:function(ge,pe){var ae=ge.zoom;return lc({stops:Rt,base:p.base},d,ae).evaluate(ae,pe)}}}if(B){var ce=q==="exponential"?{name:"exponential",base:p.base!==void 0?p.base:1}:null;return{kind:"camera",interpolationType:ce,interpolationFactor:En.interpolationFactor.bind(void 0,ce),zoomStops:p.stops.map(function(ge){return ge[0]}),evaluate:function(ge){var pe=ge.zoom;return y(p,d,pe,v,w)}}}return{kind:"source",evaluate:function(ge,pe){var ae=pe&&pe.properties?pe.properties[p.property]:void 0;return ae===void 0?xs(p.default,d.default):y(p,d,ae,v,w)}}}(this._parameters,this._specification))};function fo(t){var r=t.key,o=t.value,p=t.valueSpec||{},d=t.objectElementValidators||{},y=t.style,v=t.styleSpec,w=[],E=tn(o);if(E!=="object")return[new Qt(r,o,"object expected, "+E+" found")];for(var A in o){var R=A.split(".")[0],B=p[R]||p["*"],q=void 0;if(d[R])q=d[R];else if(p[R])q=Hi;else if(d["*"])q=d["*"];else{if(!p["*"]){w.push(new Qt(r,o[A],'unknown property "'+A+'"'));continue}q=Hi}w=w.concat(q({key:(r&&r+".")+A,value:o[A],valueSpec:B,style:y,styleSpec:v,object:o,objectKey:A},o))}for(var j in p)d[j]||p[j].required&&p[j].default===void 0&&o[j]===void 0&&w.push(new Qt(r,o,'missing required property "'+j+'"'));return w}function Yp(t){var r=t.value,o=t.valueSpec,p=t.style,d=t.styleSpec,y=t.key,v=t.arrayElementValidator||Hi;if(tn(r)!=="array")return[new Qt(y,r,"array expected, "+tn(r)+" found")];if(o.length&&r.length!==o.length)return[new Qt(y,r,"array length "+o.length+" expected, length "+r.length+" found")];if(o["min-length"]&&r.length<o["min-length"])return[new Qt(y,r,"array length at least "+o["min-length"]+" expected, length "+r.length+" found")];var w={type:o.value,values:o.values};d.$version<7&&(w.function=o.function),tn(o.value)==="object"&&(w=o.value);for(var E=[],A=0;A<r.length;A++)E=E.concat(v({array:r,arrayIndex:A,value:r[A],valueSpec:w,style:p,styleSpec:d,key:y+"["+A+"]"}));return E}function jl(t){var r=t.key,o=t.value,p=t.valueSpec,d=tn(o);return d==="number"&&o!=o&&(d="NaN"),d!=="number"?[new Qt(r,o,"number expected, "+d+" found")]:"minimum"in p&&o<p.minimum?[new Qt(r,o,o+" is less than the minimum value "+p.minimum)]:"maximum"in p&&o>p.maximum?[new Qt(r,o,o+" is greater than the maximum value "+p.maximum)]:[]}function Jp(t){var r,o,p,d=t.valueSpec,y=dn(t.value.type),v={},w=y!=="categorical"&&t.value.property===void 0,E=!w,A=tn(t.value.stops)==="array"&&tn(t.value.stops[0])==="array"&&tn(t.value.stops[0][0])==="object",R=fo({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(j){if(y==="identity")return[new Qt(j.key,j.value,'identity function may not have a "stops" property')];var W=[],nt=j.value;return W=W.concat(Yp({key:j.key,value:nt,valueSpec:j.valueSpec,style:j.style,styleSpec:j.styleSpec,arrayElementValidator:B})),tn(nt)==="array"&&nt.length===0&&W.push(new Qt(j.key,nt,"array must have at least one stop")),W},default:function(j){return Hi({key:j.key,value:j.value,valueSpec:d,style:j.style,styleSpec:j.styleSpec})}}});return y==="identity"&&w&&R.push(new Qt(t.key,t.value,'missing required property "property"')),y==="identity"||t.value.stops||R.push(new Qt(t.key,t.value,'missing required property "stops"')),y==="exponential"&&t.valueSpec.expression&&!Qr(t.valueSpec)&&R.push(new Qt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(E&&!bs(t.valueSpec)?R.push(new Qt(t.key,t.value,"property functions not supported")):w&&!Hp(t.valueSpec)&&R.push(new Qt(t.key,t.value,"zoom functions not supported"))),y!=="categorical"&&!A||t.value.property!==void 0||R.push(new Qt(t.key,t.value,'"property" property is required')),R;function B(j){var W=[],nt=j.value,ot=j.key;if(tn(nt)!=="array")return[new Qt(ot,nt,"array expected, "+tn(nt)+" found")];if(nt.length!==2)return[new Qt(ot,nt,"array length 2 expected, length "+nt.length+" found")];if(A){if(tn(nt[0])!=="object")return[new Qt(ot,nt,"object expected, "+tn(nt[0])+" found")];if(nt[0].zoom===void 0)return[new Qt(ot,nt,"object stop key must have zoom")];if(nt[0].value===void 0)return[new Qt(ot,nt,"object stop key must have value")];if(p&&p>dn(nt[0].zoom))return[new Qt(ot,nt[0].zoom,"stop zoom values must appear in ascending order")];dn(nt[0].zoom)!==p&&(p=dn(nt[0].zoom),o=void 0,v={}),W=W.concat(fo({key:ot+"[0]",value:nt[0],valueSpec:{zoom:{}},style:j.style,styleSpec:j.styleSpec,objectElementValidators:{zoom:jl,value:q}}))}else W=W.concat(q({key:ot+"[0]",value:nt[0],valueSpec:{},style:j.style,styleSpec:j.styleSpec},nt));return Nl(Ur(nt[1]))?W.concat([new Qt(ot+"[1]",nt[1],"expressions are not allowed in function stops.")]):W.concat(Hi({key:ot+"[1]",value:nt[1],valueSpec:d,style:j.style,styleSpec:j.styleSpec}))}function q(j,W){var nt=tn(j.value),ot=dn(j.value),pt=j.value!==null?j.value:W;if(r){if(nt!==r)return[new Qt(j.key,pt,nt+" stop domain type must match previous stop domain type "+r)]}else r=nt;if(nt!=="number"&&nt!=="string"&&nt!=="boolean")return[new Qt(j.key,pt,"stop domain value must be a number, string, or boolean")];if(nt!=="number"&&y!=="categorical"){var wt="number expected, "+nt+" found";return bs(d)&&y===void 0&&(wt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Qt(j.key,pt,wt)]}return y!=="categorical"||nt!=="number"||isFinite(ot)&&Math.floor(ot)===ot?y!=="categorical"&&nt==="number"&&o!==void 0&&ot<o?[new Qt(j.key,pt,"stop domain values must appear in ascending order")]:(o=ot,y==="categorical"&&ot in v?[new Qt(j.key,pt,"stop domain values must be unique")]:(v[ot]=!0,[])):[new Qt(j.key,pt,"integer expected, found "+ot)]}}function Es(t){var r=(t.expressionContext==="property"?Vl:Ul)(Ur(t.value),t.valueSpec);if(r.result==="error")return r.value.map(function(p){return new Qt(""+t.key+p.key,t.value,p.message)});var o=r.value.expression||r.value._styleExpression.expression;if(t.expressionContext==="property"&&t.propertyKey==="text-font"&&o.possibleOutputs().indexOf(void 0)!==-1)return[new Qt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if(t.expressionContext==="property"&&t.propertyType==="layout"&&!$(o))return[new Qt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if(t.expressionContext==="filter"&&!$(o))return[new Qt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&t.expressionContext.indexOf("cluster")===0){if(!X(o,["zoom","feature-state"]))return[new Qt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(t.expressionContext==="cluster-initial"&&!ca(o))return[new Qt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function $l(t){var r=t.key,o=t.value,p=t.valueSpec,d=[];return Array.isArray(p.values)?p.values.indexOf(dn(o))===-1&&d.push(new Qt(r,o,"expected one of ["+p.values.join(", ")+"], "+JSON.stringify(o)+" found")):Object.keys(p.values).indexOf(dn(o))===-1&&d.push(new Qt(r,o,"expected one of ["+Object.keys(p.values).join(", ")+"], "+JSON.stringify(o)+" found")),d}function Zl(t){if(t===!0||t===!1)return!0;if(!Array.isArray(t)||t.length===0)return!1;switch(t[0]){case"has":return t.length>=2&&t[1]!=="$id"&&t[1]!=="$type";case"in":return t.length>=3&&Array.isArray(t[2]);case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t.length!==3||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var r=0,o=t.slice(1);r<o.length;r+=1){var p=o[r];if(!Zl(p)&&typeof p!="boolean")return!1}return!0;default:return!0}}Ss.deserialize=function(t){return new Ss(t._parameters,t._specification)},Ss.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Qp={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ql(t){if(t==null)return function(){return!0};Zl(t)||(t=il(t));var r=Ul(t,Qp);if(r.result==="error")throw new Error(r.value.map(function(o){return o.key+": "+o.message}).join(", "));return function(o,p){return r.value.evaluate(o,p)}}function Bd(t,r){return t<r?-1:t>r?1:0}function il(t){if(!t)return!0;var r,o=t[0];return t.length<=1?o!=="any":o==="=="?Wl(t[1],t[2],"=="):o==="!="?Hl(Wl(t[1],t[2],"==")):o==="<"||o===">"||o==="<="||o===">="?Wl(t[1],t[2],o):o==="any"?(r=t.slice(1),["any"].concat(r.map(il))):o==="all"?["all"].concat(t.slice(1).map(il)):o==="none"?["all"].concat(t.slice(1).map(il).map(Hl)):o==="in"?th(t[1],t.slice(2)):o==="!in"?Hl(th(t[1],t.slice(2))):o==="has"?eh(t[1]):o!=="!has"||Hl(eh(t[1]))}function Wl(t,r,o){switch(t){case"$type":return["filter-type-"+o,r];case"$id":return["filter-id-"+o,r];default:return["filter-"+o,t,r]}}function th(t,r){if(r.length===0)return!1;switch(t){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(function(o){return typeof o!=typeof r[0]})?["filter-in-large",t,["literal",r.sort(Bd)]]:["filter-in-small",t,["literal",r]]}}function eh(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Hl(t){return["!",t]}function uc(t){return Zl(Ur(t.value))?Es(Wi({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function r(o){var p=o.value,d=o.key;if(tn(p)!=="array")return[new Qt(d,p,"array expected, "+tn(p)+" found")];var y,v=o.styleSpec,w=[];if(p.length<1)return[new Qt(d,p,"filter array must have at least 1 element")];switch(w=w.concat($l({key:d+"[0]",value:p[0],valueSpec:v.filter_operator,style:o.style,styleSpec:o.styleSpec})),dn(p[0])){case"<":case"<=":case">":case">=":p.length>=2&&dn(p[1])==="$type"&&w.push(new Qt(d,p,'"$type" cannot be use with operator "'+p[0]+'"'));case"==":case"!=":p.length!==3&&w.push(new Qt(d,p,'filter array for operator "'+p[0]+'" must have 3 elements'));case"in":case"!in":p.length>=2&&(y=tn(p[1]))!=="string"&&w.push(new Qt(d+"[1]",p[1],"string expected, "+y+" found"));for(var E=2;E<p.length;E++)y=tn(p[E]),dn(p[1])==="$type"?w=w.concat($l({key:d+"["+E+"]",value:p[E],valueSpec:v.geometry_type,style:o.style,styleSpec:o.styleSpec})):y!=="string"&&y!=="number"&&y!=="boolean"&&w.push(new Qt(d+"["+E+"]",p[E],"string, number, or boolean expected, "+y+" found"));break;case"any":case"all":case"none":for(var A=1;A<p.length;A++)w=w.concat(r({key:d+"["+A+"]",value:p[A],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":y=tn(p[1]),p.length!==2?w.push(new Qt(d,p,'filter array for "'+p[0]+'" operator must have 2 elements')):y!=="string"&&w.push(new Qt(d+"[1]",p[1],"string expected, "+y+" found"))}return w}(t)}function cc(t,r){var o=t.key,p=t.style,d=t.styleSpec,y=t.value,v=t.objectKey,w=d[r+"_"+t.layerType];if(!w)return[];var E=v.match(/^(.*)-transition$/);if(r==="paint"&&E&&w[E[1]]&&w[E[1]].transition)return Hi({key:o,value:y,valueSpec:d.transition,style:p,styleSpec:d});var A,R=t.valueSpec||w[v];if(!R)return[new Qt(o,y,'unknown property "'+v+'"')];if(tn(y)==="string"&&bs(R)&&!R.tokens&&(A=/^{([^}]+)}$/.exec(y)))return[new Qt(o,y,'"'+v+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(A[1])+" }`.")];var B=[];return t.layerType==="symbol"&&(v==="text-field"&&p&&!p.glyphs&&B.push(new Qt(o,y,'use of "text-field" requires a style "glyphs" property')),v==="text-font"&&$a(Ur(y))&&dn(y.type)==="identity"&&B.push(new Qt(o,y,'"text-font" does not support identity functions'))),B.concat(Hi({key:t.key,value:y,valueSpec:R,style:p,styleSpec:d,expressionContext:"property",propertyType:r,propertyKey:v}))}function pc(t){return cc(t,"paint")}function rh(t){return cc(t,"layout")}function nh(t){var r=[],o=t.value,p=t.key,d=t.style,y=t.styleSpec;o.type||o.ref||r.push(new Qt(p,o,'either "type" or "ref" is required'));var v,w=dn(o.type),E=dn(o.ref);if(o.id)for(var A=dn(o.id),R=0;R<t.arrayIndex;R++){var B=d.layers[R];dn(B.id)===A&&r.push(new Qt(p,o.id,'duplicate layer id "'+o.id+'", previously used at line '+B.id.__line__))}if("ref"in o)["type","source","source-layer","filter","layout"].forEach(function(W){W in o&&r.push(new Qt(p,o[W],'"'+W+'" is prohibited for ref layers'))}),d.layers.forEach(function(W){dn(W.id)===E&&(v=W)}),v?v.ref?r.push(new Qt(p,o.ref,"ref cannot reference another ref layer")):w=dn(v.type):r.push(new Qt(p,o.ref,'ref layer "'+E+'" not found'));else if(w!=="background")if(o.source){var q=d.sources&&d.sources[o.source],j=q&&dn(q.type);q?j==="vector"&&w==="raster"?r.push(new Qt(p,o.source,'layer "'+o.id+'" requires a raster source')):j==="raster"&&w!=="raster"?r.push(new Qt(p,o.source,'layer "'+o.id+'" requires a vector source')):j!=="vector"||o["source-layer"]?j==="raster-dem"&&w!=="hillshade"?r.push(new Qt(p,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):w!=="line"||!o.paint||!o.paint["line-gradient"]||j==="geojson"&&q.lineMetrics||r.push(new Qt(p,o,'layer "'+o.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):r.push(new Qt(p,o,'layer "'+o.id+'" must specify a "source-layer"')):r.push(new Qt(p,o.source,'source "'+o.source+'" not found'))}else r.push(new Qt(p,o,'missing required property "source"'));return r=r.concat(fo({key:p,value:o,valueSpec:y.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Hi({key:p+".type",value:o.type,valueSpec:y.layer.type,style:t.style,styleSpec:t.styleSpec,object:o,objectKey:"type"})},filter:uc,layout:function(W){return fo({layer:o,key:W.key,value:W.value,style:W.style,styleSpec:W.styleSpec,objectElementValidators:{"*":function(nt){return rh(Wi({layerType:w},nt))}}})},paint:function(W){return fo({layer:o,key:W.key,value:W.value,style:W.style,styleSpec:W.styleSpec,objectElementValidators:{"*":function(nt){return pc(Wi({layerType:w},nt))}}})}}}))}function Ts(t){var r=t.value,o=t.key,p=tn(r);return p!=="string"?[new Qt(o,r,"string expected, "+p+" found")]:[]}var ih={promoteId:function(t){var r=t.key,o=t.value;if(tn(o)==="string")return Ts({key:r,value:o});var p=[];for(var d in o)p.push.apply(p,Ts({key:r+"."+d,value:o[d]}));return p}};function hc(t){var r=t.value,o=t.key,p=t.styleSpec,d=t.style;if(!r.type)return[new Qt(o,r,'"type" is required')];var y,v=dn(r.type);switch(v){case"vector":case"raster":case"raster-dem":return y=fo({key:o,value:r,valueSpec:p["source_"+v.replace("-","_")],style:t.style,styleSpec:p,objectElementValidators:ih});case"geojson":if(y=fo({key:o,value:r,valueSpec:p.source_geojson,style:d,styleSpec:p,objectElementValidators:ih}),r.cluster)for(var w in r.clusterProperties){var E=r.clusterProperties[w],A=E[0],R=E[1],B=typeof A=="string"?[A,["accumulated"],["get",w]]:A;y.push.apply(y,Es({key:o+"."+w+".map",value:R,expressionContext:"cluster-map"})),y.push.apply(y,Es({key:o+"."+w+".reduce",value:B,expressionContext:"cluster-reduce"}))}return y;case"video":return fo({key:o,value:r,valueSpec:p.source_video,style:d,styleSpec:p});case"image":return fo({key:o,value:r,valueSpec:p.source_image,style:d,styleSpec:p});case"canvas":return[new Qt(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return $l({key:o+".type",value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:d,styleSpec:p})}}function fc(t){var r=t.value,o=t.styleSpec,p=o.light,d=t.style,y=[],v=tn(r);if(r===void 0)return y;if(v!=="object")return y=y.concat([new Qt("light",r,"object expected, "+v+" found")]);for(var w in r){var E=w.match(/^(.*)-transition$/);y=E&&p[E[1]]&&p[E[1]].transition?y.concat(Hi({key:w,value:r[w],valueSpec:o.transition,style:d,styleSpec:o})):p[w]?y.concat(Hi({key:w,value:r[w],valueSpec:p[w],style:d,styleSpec:o})):y.concat([new Qt(w,r[w],'unknown property "'+w+'"')])}return y}var dc={"*":function(){return[]},array:Yp,boolean:function(t){var r=t.value,o=t.key,p=tn(r);return p!=="boolean"?[new Qt(o,r,"boolean expected, "+p+" found")]:[]},number:jl,color:function(t){var r=t.key,o=t.value,p=tn(o);return p!=="string"?[new Qt(r,o,"color expected, "+p+" found")]:de(o)===null?[new Qt(r,o,'color expected, "'+o+'" found')]:[]},constants:qi,enum:$l,filter:uc,function:Jp,layer:nh,object:fo,source:hc,light:fc,string:Ts,formatted:function(t){return Ts(t).length===0?[]:Es(t)},resolvedImage:function(t){return Ts(t).length===0?[]:Es(t)}};function Hi(t){var r=t.value,o=t.valueSpec,p=t.styleSpec;return o.expression&&$a(dn(r))?Jp(t):o.expression&&Nl(Ur(r))?Es(t):o.type&&dc[o.type]?dc[o.type](t):fo(Wi({},t,{valueSpec:o.type?p[o.type]:o}))}function Fd(t){var r=t.value,o=t.key,p=Ts(t);return p.length||(r.indexOf("{fontstack}")===-1&&p.push(new Qt(o,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&p.push(new Qt(o,r,'"glyphs" url must include a "{range}" token'))),p}function Za(t,r){r===void 0&&(r=At);var o=[];return o=o.concat(Hi({key:"",value:t,valueSpec:r.$root,styleSpec:r,style:t,objectElementValidators:{glyphs:Fd,"*":function(){return[]}}})),t.constants&&(o=o.concat(qi({key:"constants",value:t.constants,style:t,styleSpec:r}))),oh(o)}function oh(t){return[].concat(t).sort(function(r,o){return r.line-o.line})}function Ps(t){return function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return oh(t.apply(this,r))}}Za.source=Ps(hc),Za.light=Ps(fc),Za.layer=Ps(nh),Za.filter=Ps(uc),Za.paintProperty=Ps(pc),Za.layoutProperty=Ps(rh);var ol=Za,ah=ol.light,_n=ol.paintProperty,mc=ol.layoutProperty;function yc(t,r){var o=!1;if(r&&r.length)for(var p=0,d=r;p<d.length;p+=1){var y=d[p];t.fire(new fn(new Error(y.message))),o=!0}return o}var qa=gr;function gr(t,r,o){var p=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var d=new Int32Array(this.arrayBuffer);t=d[0],r=d[1],o=d[2],this.d=r+2*o;for(var y=0;y<this.d*this.d;y++){var v=d[3+y],w=d[3+y+1];p.push(v===w?null:d.subarray(v,w))}var E=d[3+p.length],A=d[3+p.length+1];this.keys=d.subarray(E,A),this.bboxes=d.subarray(A),this.insert=this._insertReadonly}else{this.d=r+2*o;for(var R=0;R<this.d*this.d;R++)p.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=t,this.padding=o,this.scale=r/t,this.uid=0;var B=o/r*t;this.min=-B,this.max=t+B}gr.prototype.insert=function(t,r,o,p,d){this._forEachCell(r,o,p,d,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(r),this.bboxes.push(o),this.bboxes.push(p),this.bboxes.push(d)},gr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},gr.prototype._insertCell=function(t,r,o,p,d,y){this.cells[d].push(y)},gr.prototype.query=function(t,r,o,p,d){var y=this.min,v=this.max;if(t<=y&&r<=y&&v<=o&&v<=p&&!d)return Array.prototype.slice.call(this.keys);var w=[];return this._forEachCell(t,r,o,p,this._queryCell,w,{},d),w},gr.prototype._queryCell=function(t,r,o,p,d,y,v,w){var E=this.cells[d];if(E!==null)for(var A=this.keys,R=this.bboxes,B=0;B<E.length;B++){var q=E[B];if(v[q]===void 0){var j=4*q;(w?w(R[j+0],R[j+1],R[j+2],R[j+3]):t<=R[j+2]&&r<=R[j+3]&&o>=R[j+0]&&p>=R[j+1])?(v[q]=!0,y.push(A[q])):v[q]=!1}}},gr.prototype._forEachCell=function(t,r,o,p,d,y,v,w){for(var E=this._convertToCellCoord(t),A=this._convertToCellCoord(r),R=this._convertToCellCoord(o),B=this._convertToCellCoord(p),q=E;q<=R;q++)for(var j=A;j<=B;j++){var W=this.d*j+q;if((!w||w(this._convertFromCellCoord(q),this._convertFromCellCoord(j),this._convertFromCellCoord(q+1),this._convertFromCellCoord(j+1)))&&d.call(this,t,r,o,p,W,y,v,w))return}},gr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},gr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},gr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,r=3+this.cells.length+1+1,o=0,p=0;p<this.cells.length;p++)o+=this.cells[p].length;var d=new Int32Array(r+o+this.keys.length+this.bboxes.length);d[0]=this.extent,d[1]=this.n,d[2]=this.padding;for(var y=r,v=0;v<t.length;v++){var w=t[v];d[3+v]=y,d.set(w,y),y+=w.length}return d[3+t.length]=y,d.set(this.keys,y),y+=this.keys.length,d[3+t.length+1]=y,d.set(this.bboxes,y),y+=this.bboxes.length,d.buffer};var sn=self.ImageData,ha=self.ImageBitmap,yi={};function me(t,r,o){o===void 0&&(o={}),Object.defineProperty(r,"_classRegistryKey",{value:t,writeable:!1}),yi[t]={klass:r,omit:o.omit||[],shallow:o.shallow||[]}}for(var gc in me("Object",Object),qa.serialize=function(t,r){var o=t.toArrayBuffer();return r&&r.push(o),{buffer:o}},qa.deserialize=function(t){return new qa(t.buffer)},me("Grid",qa),me("Color",Wt),me("Error",Error),me("ResolvedImage",Ie),me("StylePropertyFunction",Ss),me("StyleExpression",nl,{omit:["_evaluator"]}),me("ZoomDependentExpression",Cs),me("ZoomConstantExpression",ws),me("CompoundExpression",Dn,{omit:["_evaluate"]}),vs)vs[gc]._classRegistryKey||me("Expression_"+gc,vs[gc]);function Ri(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}function no(t){return ha&&t instanceof ha}function Is(t,r){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Ri(t)||no(t))return r&&r.push(t),t;if(ArrayBuffer.isView(t)){var o=t;return r&&r.push(o.buffer),o}if(t instanceof sn)return r&&r.push(t.data.buffer),t;if(Array.isArray(t)){for(var p=[],d=0,y=t;d<y.length;d+=1){var v=y[d];p.push(Is(v,r))}return p}if(typeof t=="object"){var w=t.constructor,E=w._classRegistryKey;if(!E)throw new Error("can't serialize object of unregistered class");var A=w.serialize?w.serialize(t,r):{};if(!w.serialize){for(var R in t)if(t.hasOwnProperty(R)&&!(yi[E].omit.indexOf(R)>=0)){var B=t[R];A[R]=yi[E].shallow.indexOf(R)>=0?B:Is(B,r)}t instanceof Error&&(A.message=t.message)}if(A.$name)throw new Error("$name property is reserved for worker serialization logic.");return E!=="Object"&&(A.$name=E),A}throw new Error("can't serialize object of type "+typeof t)}function Bn(t){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Ri(t)||no(t)||ArrayBuffer.isView(t)||t instanceof sn)return t;if(Array.isArray(t))return t.map(Bn);if(typeof t=="object"){var r=t.$name||"Object",o=yi[r].klass;if(!o)throw new Error("can't deserialize unregistered class "+r);if(o.deserialize)return o.deserialize(t);for(var p=Object.create(o.prototype),d=0,y=Object.keys(t);d<y.length;d+=1){var v=y[d];if(v!=="$name"){var w=t[v];p[v]=yi[r].shallow.indexOf(v)>=0?w:Bn(w)}}return p}throw new Error("can't deserialize object of type "+typeof t)}var Gl=function(){this.first=!0};Gl.prototype.update=function(t,r){var o=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=o,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=o,!0):(this.lastFloorZoom>o?(this.lastIntegerZoom=o+1,this.lastIntegerZoomTime=r):this.lastFloorZoom<o&&(this.lastIntegerZoom=o,this.lastIntegerZoomTime=r),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=o,!0))};var Yt={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Wa(t){for(var r=0,o=t;r<o.length;r+=1)if(io(o[r].charCodeAt(0)))return!0;return!1}function Nd(t){return!Yt.Arabic(t)&&!Yt["Arabic Supplement"](t)&&!Yt["Arabic Extended-A"](t)&&!Yt["Arabic Presentation Forms-A"](t)&&!Yt["Arabic Presentation Forms-B"](t)}function io(t){return t===746||t===747||!(t<4352)&&(!!Yt["Bopomofo Extended"](t)||!!Yt.Bopomofo(t)||!(!Yt["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||!!Yt["CJK Compatibility Ideographs"](t)||!!Yt["CJK Compatibility"](t)||!!Yt["CJK Radicals Supplement"](t)||!!Yt["CJK Strokes"](t)||!(!Yt["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||t===12336)||!!Yt["CJK Unified Ideographs Extension A"](t)||!!Yt["CJK Unified Ideographs"](t)||!!Yt["Enclosed CJK Letters and Months"](t)||!!Yt["Hangul Compatibility Jamo"](t)||!!Yt["Hangul Jamo Extended-A"](t)||!!Yt["Hangul Jamo Extended-B"](t)||!!Yt["Hangul Jamo"](t)||!!Yt["Hangul Syllables"](t)||!!Yt.Hiragana(t)||!!Yt["Ideographic Description Characters"](t)||!!Yt.Kanbun(t)||!!Yt["Kangxi Radicals"](t)||!!Yt["Katakana Phonetic Extensions"](t)||!(!Yt.Katakana(t)||t===12540)||!(!Yt["Halfwidth and Fullwidth Forms"](t)||t===65288||t===65289||t===65293||t>=65306&&t<=65310||t===65339||t===65341||t===65343||t>=65371&&t<=65503||t===65507||t>=65512&&t<=65519)||!(!Yt["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||!!Yt["Unified Canadian Aboriginal Syllabics"](t)||!!Yt["Unified Canadian Aboriginal Syllabics Extended"](t)||!!Yt["Vertical Forms"](t)||!!Yt["Yijing Hexagram Symbols"](t)||!!Yt["Yi Syllables"](t)||!!Yt["Yi Radicals"](t))}function sh(t){return!(io(t)||function(r){return!(!Yt["Latin-1 Supplement"](r)||r!==167&&r!==169&&r!==174&&r!==177&&r!==188&&r!==189&&r!==190&&r!==215&&r!==247)||!(!Yt["General Punctuation"](r)||r!==8214&&r!==8224&&r!==8225&&r!==8240&&r!==8241&&r!==8251&&r!==8252&&r!==8258&&r!==8263&&r!==8264&&r!==8265&&r!==8273)||!!Yt["Letterlike Symbols"](r)||!!Yt["Number Forms"](r)||!(!Yt["Miscellaneous Technical"](r)||!(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215))||!(!Yt["Control Pictures"](r)||r===9251)||!!Yt["Optical Character Recognition"](r)||!!Yt["Enclosed Alphanumerics"](r)||!!Yt["Geometric Shapes"](r)||!(!Yt["Miscellaneous Symbols"](r)||r>=9754&&r<=9759)||!(!Yt["Miscellaneous Symbols and Arrows"](r)||!(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243))||!!Yt["CJK Symbols and Punctuation"](r)||!!Yt.Katakana(r)||!!Yt["Private Use Area"](r)||!!Yt["CJK Compatibility Forms"](r)||!!Yt["Small Form Variants"](r)||!!Yt["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533}(t))}function zi(t){return t>=1424&&t<=2303||Yt["Arabic Presentation Forms-A"](t)||Yt["Arabic Presentation Forms-B"](t)}function lh(t,r){return!(!r&&zi(t))&&!(t>=2304&&t<=3583||t>=3840&&t<=4255||Yt.Khmer(t))}function Ud(t){for(var r=0,o=t;r<o.length;r+=1)if(zi(o[r].charCodeAt(0)))return!0;return!1}var mo="deferred",qo="loading",Ha="loaded",vc=null,Pi="unavailable",fa=null,Ga=function(t){vc&&vc(t)};function _c(){bc.fire(new yr("pluginStateChange",{pluginStatus:Pi,pluginURL:fa}))}var bc=new Lr,al=function(){return Pi},uh=function(){if(Pi!==mo||!fa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Pi=qo,_c(),fa&&po({url:fa},function(t){t?Ga(t):(Pi=Ha,_c())})},Gn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Pi===Ha||Gn.applyArabicShaping!=null},isLoading:function(){return Pi===qo},setState:function(t){Pi=t.pluginStatus,fa=t.pluginURL},isParsed:function(){return Gn.applyArabicShaping!=null&&Gn.processBidirectionalText!=null&&Gn.processStyledBidirectionalText!=null},getPluginURL:function(){return fa}},Wr=function(t,r){this.zoom=t,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.zoomHistory=r.zoomHistory,this.transition=r.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Gl,this.transition={})};Wr.prototype.isSupportedScript=function(t){return function(r,o){for(var p=0,d=r;p<d.length;p+=1)if(!lh(d[p].charCodeAt(0),o))return!1;return!0}(t,Gn.isLoaded())},Wr.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Wr.prototype.getCrossfadeParameters=function(){var t=this.zoom,r=t-Math.floor(t),o=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:r+(1-r)*o}:{fromScale:.5,toScale:1,t:1-(1-o)*r}};var da=function(t,r){this.property=t,this.value=r,this.expression=function(o,p){if($a(o))return new Ss(o,p);if(Nl(o)){var d=Vl(o,p);if(d.result==="error")throw new Error(d.value.map(function(v){return v.key+": "+v.message}).join(", "));return d.value}var y=o;return typeof o=="string"&&p.type==="color"&&(y=Wt.parse(o)),{kind:"constant",evaluate:function(){return y}}}(r===void 0?t.specification.default:r,t.specification)};da.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},da.prototype.possiblyEvaluate=function(t,r){return this.property.possiblyEvaluate(this,t,r)};var Ms=function(t){this.property=t,this.value=new da(t,void 0)};Ms.prototype.transitioned=function(t,r){return new Xl(this.property,this.value,r,it({},t.transition,this.transition),t.now)},Ms.prototype.untransitioned=function(){return new Xl(this.property,this.value,null,{},0)};var Di=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Di.prototype.getValue=function(t){return Dt(this._values[t].value.value)},Di.prototype.setValue=function(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new Ms(this._values[t].property)),this._values[t].value=new da(this._values[t].property,r===null?void 0:Dt(r))},Di.prototype.getTransition=function(t){return Dt(this._values[t].transition)},Di.prototype.setTransition=function(t,r){this._values.hasOwnProperty(t)||(this._values[t]=new Ms(this._values[t].property)),this._values[t].transition=Dt(r)||void 0},Di.prototype.serialize=function(){for(var t={},r=0,o=Object.keys(this._values);r<o.length;r+=1){var p=o[r],d=this.getValue(p);d!==void 0&&(t[p]=d);var y=this.getTransition(p);y!==void 0&&(t[p+"-transition"]=y)}return t},Di.prototype.transitioned=function(t,r){for(var o=new Kl(this._properties),p=0,d=Object.keys(this._values);p<d.length;p+=1){var y=d[p];o._values[y]=this._values[y].transitioned(t,r._values[y])}return o},Di.prototype.untransitioned=function(){for(var t=new Kl(this._properties),r=0,o=Object.keys(this._values);r<o.length;r+=1){var p=o[r];t._values[p]=this._values[p].untransitioned()}return t};var Xl=function(t,r,o,p,d){this.property=t,this.value=r,this.begin=d+p.delay||0,this.end=this.begin+p.duration||0,t.specification.transition&&(p.delay||p.duration)&&(this.prior=o)};Xl.prototype.possiblyEvaluate=function(t,r){var o=t.now||0,p=this.value.possiblyEvaluate(t,r),d=this.prior;if(d){if(o>this.end)return this.prior=null,p;if(this.value.isDataDriven())return this.prior=null,p;if(o<this.begin)return d.possiblyEvaluate(t,r);var y=(o-this.begin)/(this.end-this.begin);return this.property.interpolate(d.possiblyEvaluate(t,r),p,function(v){if(v<=0)return 0;if(v>=1)return 1;var w=v*v,E=w*v;return 4*(v<.5?E:3*(v-w)+E-.75)}(y))}return p};var Kl=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Kl.prototype.possiblyEvaluate=function(t,r){for(var o=new ma(this._properties),p=0,d=Object.keys(this._values);p<d.length;p+=1){var y=d[p];o._values[y]=this._values[y].possiblyEvaluate(t,r)}return o},Kl.prototype.hasTransition=function(){for(var t=0,r=Object.keys(this._values);t<r.length;t+=1){var o=r[t];if(this._values[o].prior)return!0}return!1};var sl=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};sl.prototype.getValue=function(t){return Dt(this._values[t].value)},sl.prototype.setValue=function(t,r){this._values[t]=new da(this._values[t].property,r===null?void 0:Dt(r))},sl.prototype.serialize=function(){for(var t={},r=0,o=Object.keys(this._values);r<o.length;r+=1){var p=o[r],d=this.getValue(p);d!==void 0&&(t[p]=d)}return t},sl.prototype.possiblyEvaluate=function(t,r){for(var o=new ma(this._properties),p=0,d=Object.keys(this._values);p<d.length;p+=1){var y=d[p];o._values[y]=this._values[y].possiblyEvaluate(t,r)}return o};var Li=function(t,r,o){this.property=t,this.value=r,this.parameters=o};Li.prototype.isConstant=function(){return this.value.kind==="constant"},Li.prototype.constantOr=function(t){return this.value.kind==="constant"?this.value.value:t},Li.prototype.evaluate=function(t,r,o){return this.property.evaluate(this.value,this.parameters,t,r,o)};var ma=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};ma.prototype.get=function(t){return this._values[t]};var _e=function(t){this.specification=t};_e.prototype.possiblyEvaluate=function(t,r){return t.expression.evaluate(r)},_e.prototype.interpolate=function(t,r,o){var p=Sn[this.specification.type];return p?p(t,r,o):t};var Ce=function(t,r){this.specification=t,this.overrides=r};Ce.prototype.possiblyEvaluate=function(t,r,o){return t.expression.kind==="constant"||t.expression.kind==="camera"?new Li(this,{kind:"constant",value:t.expression.evaluate(r,null,{},o)},r):new Li(this,t.expression,r)},Ce.prototype.interpolate=function(t,r,o){if(t.value.kind!=="constant"||r.value.kind!=="constant")return t;if(t.value.value===void 0||r.value.value===void 0)return new Li(this,{kind:"constant",value:void 0},t.parameters);var p=Sn[this.specification.type];return p?new Li(this,{kind:"constant",value:p(t.value.value,r.value.value,o)},t.parameters):t},Ce.prototype.evaluate=function(t,r,o,p,d){return t.kind==="constant"?t.value:t.evaluate(r,o,p,d)};var Gi=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.possiblyEvaluate=function(o,p,d){if(o.value===void 0)return new Li(this,{kind:"constant",value:void 0},p);if(o.expression.kind==="constant"){var y=o.expression.evaluate(p,null,{},d),v=o.property.specification.type==="resolvedImage"&&typeof y!="string"?y.name:y,w=this._calculate(v,v,v,p);return new Li(this,{kind:"constant",value:w},p)}if(o.expression.kind==="camera"){var E=this._calculate(o.expression.evaluate({zoom:p.zoom-1}),o.expression.evaluate({zoom:p.zoom}),o.expression.evaluate({zoom:p.zoom+1}),p);return new Li(this,{kind:"constant",value:E},p)}return new Li(this,o.expression,p)},r.prototype.evaluate=function(o,p,d,y,v){if(o.kind==="source"){var w=o.evaluate(p,d,y,v);return this._calculate(w,w,w,p)}return o.kind==="composite"?this._calculate(o.evaluate({zoom:Math.floor(p.zoom)-1},d,y),o.evaluate({zoom:Math.floor(p.zoom)},d,y),o.evaluate({zoom:Math.floor(p.zoom)+1},d,y),p):o.value},r.prototype._calculate=function(o,p,d,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:o,to:p}:{from:d,to:p}},r.prototype.interpolate=function(o){return o},r}(Ce),As=function(t){this.specification=t};As.prototype.possiblyEvaluate=function(t,r,o){if(t.value!==void 0){if(t.expression.kind==="constant"){var p=t.expression.evaluate(r,null,{},o);return this._calculate(p,p,p,r)}return this._calculate(t.expression.evaluate(new Wr(Math.floor(r.zoom-1),r)),t.expression.evaluate(new Wr(Math.floor(r.zoom),r)),t.expression.evaluate(new Wr(Math.floor(r.zoom+1),r)),r)}},As.prototype._calculate=function(t,r,o,p){return p.zoom>p.zoomHistory.lastIntegerZoom?{from:t,to:r}:{from:o,to:r}},As.prototype.interpolate=function(t){return t};var ll=function(t){this.specification=t};ll.prototype.possiblyEvaluate=function(t,r,o){return!!t.expression.evaluate(r,null,{},o)},ll.prototype.interpolate=function(){return!1};var Bi=function(t){for(var r in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var o=t[r];o.specification.overridable&&this.overridableProperties.push(r);var p=this.defaultPropertyValues[r]=new da(o,void 0),d=this.defaultTransitionablePropertyValues[r]=new Ms(o);this.defaultTransitioningPropertyValues[r]=d.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=p.possiblyEvaluate({})}};me("DataDrivenProperty",Ce),me("DataConstantProperty",_e),me("CrossFadedDataDrivenProperty",Gi),me("CrossFadedProperty",As),me("ColorRampProperty",ll);var yo=function(t){function r(o,p){if(t.call(this),this.id=o.id,this.type=o.type,this._featureFilter=function(){return!0},o.type!=="custom"&&(o=o,this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),p.layout&&(this._unevaluatedLayout=new sl(p.layout)),p.paint)){for(var d in this._transitionablePaint=new Di(p.paint),o.paint)this.setPaintProperty(d,o.paint[d],{validate:!1});for(var y in o.layout)this.setLayoutProperty(y,o.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},r.prototype.getLayoutProperty=function(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)},r.prototype.setLayoutProperty=function(o,p,d){if(d===void 0&&(d={}),p!=null){var y="layers."+this.id+".layout."+o;if(this._validate(mc,y,o,p,d))return}o!=="visibility"?this._unevaluatedLayout.setValue(o,p):this.visibility=p},r.prototype.getPaintProperty=function(o){return Ct(o,"-transition")?this._transitionablePaint.getTransition(o.slice(0,-11)):this._transitionablePaint.getValue(o)},r.prototype.setPaintProperty=function(o,p,d){if(d===void 0&&(d={}),p!=null){var y="layers."+this.id+".paint."+o;if(this._validate(_n,y,o,p,d))return!1}if(Ct(o,"-transition"))return this._transitionablePaint.setTransition(o.slice(0,-11),p||void 0),!1;var v=this._transitionablePaint._values[o],w=v.property.specification["property-type"]==="cross-faded-data-driven",E=v.value.isDataDriven(),A=v.value;this._transitionablePaint.setValue(o,p),this._handleSpecialPaintPropertyUpdate(o);var R=this._transitionablePaint._values[o].value;return R.isDataDriven()||E||w||this._handleOverridablePaintPropertyUpdate(o,A,R)},r.prototype._handleSpecialPaintPropertyUpdate=function(o){},r.prototype._handleOverridablePaintPropertyUpdate=function(o,p,d){return!1},r.prototype.isHidden=function(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"},r.prototype.updateTransitions=function(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)},r.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},r.prototype.recalculate=function(o,p){o.getCrossfadeParameters&&(this._crossfadeParameters=o.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,p)),this.paint=this._transitioningPaint.possiblyEvaluate(o,p)},r.prototype.serialize=function(){var o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),Vt(o,function(p,d){return!(p===void 0||d==="layout"&&!Object.keys(p).length||d==="paint"&&!Object.keys(p).length)})},r.prototype._validate=function(o,p,d,y,v){return v===void 0&&(v={}),(!v||v.validate!==!1)&&yc(this,o.call(ol,{key:p,layerType:this.type,objectKey:d,value:y,styleSpec:At,style:{glyphs:!0,sprite:!0}}))},r.prototype.is3D=function(){return!1},r.prototype.isTileClipped=function(){return!1},r.prototype.hasOffscreenPass=function(){return!1},r.prototype.resize=function(){},r.prototype.isStateDependent=function(){for(var o in this.paint._values){var p=this.paint.get(o);if(p instanceof Li&&bs(p.property.specification)&&(p.value.kind==="source"||p.value.kind==="composite")&&p.value.isStateDependent)return!0}return!1},r}(Lr),s={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},c=function(t,r){this._structArray=t,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},u=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function h(t,r){r===void 0&&(r=1);var o=0,p=0;return{members:t.map(function(d){var y,v=(y=d.type,s[y].BYTES_PER_ELEMENT),w=o=g(o,Math.max(r,v)),E=d.components||1;return p=Math.max(p,v),o+=v*E,{name:d.name,type:d.type,components:E,offset:w}}),size:g(o,Math.max(p,r)),alignment:r}}function g(t,r){return Math.ceil(t/r)*r}u.serialize=function(t,r){return t._trim(),r&&(t.isTransferred=!0,r.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},u.deserialize=function(t){var r=Object.create(this.prototype);return r.arrayBuffer=t.arrayBuffer,r.length=t.length,r.capacity=t.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r},u.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},u.prototype.clear=function(){this.length=0},u.prototype.resize=function(t){this.reserve(t),this.length=t},u.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}},u.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var _=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p){var d=this.length;return this.resize(d+1),this.emplace(d,o,p)},r.prototype.emplace=function(o,p,d){var y=2*o;return this.int16[y+0]=p,this.int16[y+1]=d,o},r}(u);_.prototype.bytesPerElement=4,me("StructArrayLayout2i4",_);var C=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y){var v=this.length;return this.resize(v+1),this.emplace(v,o,p,d,y)},r.prototype.emplace=function(o,p,d,y,v){var w=4*o;return this.int16[w+0]=p,this.int16[w+1]=d,this.int16[w+2]=y,this.int16[w+3]=v,o},r}(u);C.prototype.bytesPerElement=8,me("StructArrayLayout4i8",C);var S=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y,v,w){var E=this.length;return this.resize(E+1),this.emplace(E,o,p,d,y,v,w)},r.prototype.emplace=function(o,p,d,y,v,w,E){var A=6*o;return this.int16[A+0]=p,this.int16[A+1]=d,this.int16[A+2]=y,this.int16[A+3]=v,this.int16[A+4]=w,this.int16[A+5]=E,o},r}(u);S.prototype.bytesPerElement=12,me("StructArrayLayout2i4i12",S);var I=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y,v,w){var E=this.length;return this.resize(E+1),this.emplace(E,o,p,d,y,v,w)},r.prototype.emplace=function(o,p,d,y,v,w,E){var A=4*o,R=8*o;return this.int16[A+0]=p,this.int16[A+1]=d,this.uint8[R+4]=y,this.uint8[R+5]=v,this.uint8[R+6]=w,this.uint8[R+7]=E,o},r}(u);I.prototype.bytesPerElement=8,me("StructArrayLayout2i4ub8",I);var z=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y,v,w,E,A){var R=this.length;return this.resize(R+1),this.emplace(R,o,p,d,y,v,w,E,A)},r.prototype.emplace=function(o,p,d,y,v,w,E,A,R){var B=8*o;return this.uint16[B+0]=p,this.uint16[B+1]=d,this.uint16[B+2]=y,this.uint16[B+3]=v,this.uint16[B+4]=w,this.uint16[B+5]=E,this.uint16[B+6]=A,this.uint16[B+7]=R,o},r}(u);z.prototype.bytesPerElement=16,me("StructArrayLayout8ui16",z);var L=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y,v,w,E,A,R,B,q,j){var W=this.length;return this.resize(W+1),this.emplace(W,o,p,d,y,v,w,E,A,R,B,q,j)},r.prototype.emplace=function(o,p,d,y,v,w,E,A,R,B,q,j,W){var nt=12*o;return this.int16[nt+0]=p,this.int16[nt+1]=d,this.int16[nt+2]=y,this.int16[nt+3]=v,this.uint16[nt+4]=w,this.uint16[nt+5]=E,this.uint16[nt+6]=A,this.uint16[nt+7]=R,this.int16[nt+8]=B,this.int16[nt+9]=q,this.int16[nt+10]=j,this.int16[nt+11]=W,o},r}(u);L.prototype.bytesPerElement=24,me("StructArrayLayout4i4ui4i24",L);var Z=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d){var y=this.length;return this.resize(y+1),this.emplace(y,o,p,d)},r.prototype.emplace=function(o,p,d,y){var v=3*o;return this.float32[v+0]=p,this.float32[v+1]=d,this.float32[v+2]=y,o},r}(u);Z.prototype.bytesPerElement=12,me("StructArrayLayout3f12",Z);var Y=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o){var p=this.length;return this.resize(p+1),this.emplace(p,o)},r.prototype.emplace=function(o,p){var d=1*o;return this.uint32[d+0]=p,o},r}(u);Y.prototype.bytesPerElement=4,me("StructArrayLayout1ul4",Y);var K=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y,v,w,E,A,R,B,q){var j=this.length;return this.resize(j+1),this.emplace(j,o,p,d,y,v,w,E,A,R,B,q)},r.prototype.emplace=function(o,p,d,y,v,w,E,A,R,B,q,j){var W=12*o,nt=6*o;return this.int16[W+0]=p,this.int16[W+1]=d,this.int16[W+2]=y,this.int16[W+3]=v,this.int16[W+4]=w,this.int16[W+5]=E,this.uint32[nt+3]=A,this.uint16[W+8]=R,this.uint16[W+9]=B,this.int16[W+10]=q,this.int16[W+11]=j,o},r}(u);K.prototype.bytesPerElement=24,me("StructArrayLayout6i1ul2ui2i24",K);var tt=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y,v,w){var E=this.length;return this.resize(E+1),this.emplace(E,o,p,d,y,v,w)},r.prototype.emplace=function(o,p,d,y,v,w,E){var A=6*o;return this.int16[A+0]=p,this.int16[A+1]=d,this.int16[A+2]=y,this.int16[A+3]=v,this.int16[A+4]=w,this.int16[A+5]=E,o},r}(u);tt.prototype.bytesPerElement=12,me("StructArrayLayout2i2i2i12",tt);var J=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y){var v=this.length;return this.resize(v+1),this.emplace(v,o,p,d,y)},r.prototype.emplace=function(o,p,d,y,v){var w=12*o,E=3*o;return this.uint8[w+0]=p,this.uint8[w+1]=d,this.float32[E+1]=y,this.float32[E+2]=v,o},r}(u);J.prototype.bytesPerElement=12,me("StructArrayLayout2ub2f12",J);var ft=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y,v,w,E,A,R,B,q,j,W,nt,ot,pt,wt){var St=this.length;return this.resize(St+1),this.emplace(St,o,p,d,y,v,w,E,A,R,B,q,j,W,nt,ot,pt,wt)},r.prototype.emplace=function(o,p,d,y,v,w,E,A,R,B,q,j,W,nt,ot,pt,wt,St){var Et=24*o,Rt=12*o,Ft=48*o;return this.int16[Et+0]=p,this.int16[Et+1]=d,this.uint16[Et+2]=y,this.uint16[Et+3]=v,this.uint32[Rt+2]=w,this.uint32[Rt+3]=E,this.uint32[Rt+4]=A,this.uint16[Et+10]=R,this.uint16[Et+11]=B,this.uint16[Et+12]=q,this.float32[Rt+7]=j,this.float32[Rt+8]=W,this.uint8[Ft+36]=nt,this.uint8[Ft+37]=ot,this.uint8[Ft+38]=pt,this.uint32[Rt+10]=wt,this.int16[Et+22]=St,o},r}(u);ft.prototype.bytesPerElement=48,me("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ft);var ht=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y,v,w,E,A,R,B,q,j,W,nt,ot,pt,wt,St,Et,Rt,Ft,Lt,ie,ye,ce,ge){var pe=this.length;return this.resize(pe+1),this.emplace(pe,o,p,d,y,v,w,E,A,R,B,q,j,W,nt,ot,pt,wt,St,Et,Rt,Ft,Lt,ie,ye,ce,ge)},r.prototype.emplace=function(o,p,d,y,v,w,E,A,R,B,q,j,W,nt,ot,pt,wt,St,Et,Rt,Ft,Lt,ie,ye,ce,ge,pe){var ae=30*o,Xt=15*o;return this.int16[ae+0]=p,this.int16[ae+1]=d,this.int16[ae+2]=y,this.int16[ae+3]=v,this.int16[ae+4]=w,this.int16[ae+5]=E,this.int16[ae+6]=A,this.int16[ae+7]=R,this.uint16[ae+8]=B,this.uint16[ae+9]=q,this.uint16[ae+10]=j,this.uint16[ae+11]=W,this.uint16[ae+12]=nt,this.uint16[ae+13]=ot,this.uint16[ae+14]=pt,this.uint16[ae+15]=wt,this.uint16[ae+16]=St,this.uint16[ae+17]=Et,this.uint16[ae+18]=Rt,this.uint16[ae+19]=Ft,this.uint16[ae+20]=Lt,this.uint16[ae+21]=ie,this.uint32[Xt+11]=ye,this.float32[Xt+12]=ce,this.float32[Xt+13]=ge,this.float32[Xt+14]=pe,o},r}(u);ht.prototype.bytesPerElement=60,me("StructArrayLayout8i14ui1ul3f60",ht);var _t=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o){var p=this.length;return this.resize(p+1),this.emplace(p,o)},r.prototype.emplace=function(o,p){var d=1*o;return this.float32[d+0]=p,o},r}(u);_t.prototype.bytesPerElement=4,me("StructArrayLayout1f4",_t);var gt=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d){var y=this.length;return this.resize(y+1),this.emplace(y,o,p,d)},r.prototype.emplace=function(o,p,d,y){var v=3*o;return this.int16[v+0]=p,this.int16[v+1]=d,this.int16[v+2]=y,o},r}(u);gt.prototype.bytesPerElement=6,me("StructArrayLayout3i6",gt);var bt=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d){var y=this.length;return this.resize(y+1),this.emplace(y,o,p,d)},r.prototype.emplace=function(o,p,d,y){var v=2*o,w=4*o;return this.uint32[v+0]=p,this.uint16[w+2]=d,this.uint16[w+3]=y,o},r}(u);bt.prototype.bytesPerElement=8,me("StructArrayLayout1ul2ui8",bt);var Mt=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d){var y=this.length;return this.resize(y+1),this.emplace(y,o,p,d)},r.prototype.emplace=function(o,p,d,y){var v=3*o;return this.uint16[v+0]=p,this.uint16[v+1]=d,this.uint16[v+2]=y,o},r}(u);Mt.prototype.bytesPerElement=6,me("StructArrayLayout3ui6",Mt);var zt=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p){var d=this.length;return this.resize(d+1),this.emplace(d,o,p)},r.prototype.emplace=function(o,p,d){var y=2*o;return this.uint16[y+0]=p,this.uint16[y+1]=d,o},r}(u);zt.prototype.bytesPerElement=4,me("StructArrayLayout2ui4",zt);var Ut=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o){var p=this.length;return this.resize(p+1),this.emplace(p,o)},r.prototype.emplace=function(o,p){var d=1*o;return this.uint16[d+0]=p,o},r}(u);Ut.prototype.bytesPerElement=2,me("StructArrayLayout1ui2",Ut);var se=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p){var d=this.length;return this.resize(d+1),this.emplace(d,o,p)},r.prototype.emplace=function(o,p,d){var y=2*o;return this.float32[y+0]=p,this.float32[y+1]=d,o},r}(u);se.prototype.bytesPerElement=8,me("StructArrayLayout2f8",se);var re=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(o,p,d,y){var v=this.length;return this.resize(v+1),this.emplace(v,o,p,d,y)},r.prototype.emplace=function(o,p,d,y,v){var w=4*o;return this.float32[w+0]=p,this.float32[w+1]=d,this.float32[w+2]=y,this.float32[w+3]=v,o},r}(u);re.prototype.bytesPerElement=16,me("StructArrayLayout4f16",re);var fe=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return o.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},o.anchorPointX.set=function(p){this._structArray.int16[this._pos2+0]=p},o.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},o.anchorPointY.set=function(p){this._structArray.int16[this._pos2+1]=p},o.x1.get=function(){return this._structArray.int16[this._pos2+2]},o.x1.set=function(p){this._structArray.int16[this._pos2+2]=p},o.y1.get=function(){return this._structArray.int16[this._pos2+3]},o.y1.set=function(p){this._structArray.int16[this._pos2+3]=p},o.x2.get=function(){return this._structArray.int16[this._pos2+4]},o.x2.set=function(p){this._structArray.int16[this._pos2+4]=p},o.y2.get=function(){return this._structArray.int16[this._pos2+5]},o.y2.set=function(p){this._structArray.int16[this._pos2+5]=p},o.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},o.featureIndex.set=function(p){this._structArray.uint32[this._pos4+3]=p},o.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},o.sourceLayerIndex.set=function(p){this._structArray.uint16[this._pos2+8]=p},o.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},o.bucketIndex.set=function(p){this._structArray.uint16[this._pos2+9]=p},o.radius.get=function(){return this._structArray.int16[this._pos2+10]},o.radius.set=function(p){this._structArray.int16[this._pos2+10]=p},o.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},o.signedDistanceFromAnchor.set=function(p){this._structArray.int16[this._pos2+11]=p},o.anchorPoint.get=function(){return new M(this.anchorPointX,this.anchorPointY)},Object.defineProperties(r.prototype,o),r}(c);fe.prototype.size=24;var ee=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.get=function(o){return new fe(this,o)},r}(K);me("CollisionBoxArray",ee);var Te=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return o.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},o.anchorX.set=function(p){this._structArray.int16[this._pos2+0]=p},o.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},o.anchorY.set=function(p){this._structArray.int16[this._pos2+1]=p},o.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},o.glyphStartIndex.set=function(p){this._structArray.uint16[this._pos2+2]=p},o.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},o.numGlyphs.set=function(p){this._structArray.uint16[this._pos2+3]=p},o.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},o.vertexStartIndex.set=function(p){this._structArray.uint32[this._pos4+2]=p},o.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},o.lineStartIndex.set=function(p){this._structArray.uint32[this._pos4+3]=p},o.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},o.lineLength.set=function(p){this._structArray.uint32[this._pos4+4]=p},o.segment.get=function(){return this._structArray.uint16[this._pos2+10]},o.segment.set=function(p){this._structArray.uint16[this._pos2+10]=p},o.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},o.lowerSize.set=function(p){this._structArray.uint16[this._pos2+11]=p},o.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},o.upperSize.set=function(p){this._structArray.uint16[this._pos2+12]=p},o.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},o.lineOffsetX.set=function(p){this._structArray.float32[this._pos4+7]=p},o.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},o.lineOffsetY.set=function(p){this._structArray.float32[this._pos4+8]=p},o.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},o.writingMode.set=function(p){this._structArray.uint8[this._pos1+36]=p},o.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},o.placedOrientation.set=function(p){this._structArray.uint8[this._pos1+37]=p},o.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},o.hidden.set=function(p){this._structArray.uint8[this._pos1+38]=p},o.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},o.crossTileID.set=function(p){this._structArray.uint32[this._pos4+10]=p},o.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},o.associatedIconIndex.set=function(p){this._structArray.int16[this._pos2+22]=p},Object.defineProperties(r.prototype,o),r}(c);Te.prototype.size=48;var le=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.get=function(o){return new Te(this,o)},r}(ft);me("PlacedSymbolArray",le);var Be=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return o.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},o.anchorX.set=function(p){this._structArray.int16[this._pos2+0]=p},o.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},o.anchorY.set=function(p){this._structArray.int16[this._pos2+1]=p},o.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},o.rightJustifiedTextSymbolIndex.set=function(p){this._structArray.int16[this._pos2+2]=p},o.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},o.centerJustifiedTextSymbolIndex.set=function(p){this._structArray.int16[this._pos2+3]=p},o.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},o.leftJustifiedTextSymbolIndex.set=function(p){this._structArray.int16[this._pos2+4]=p},o.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},o.verticalPlacedTextSymbolIndex.set=function(p){this._structArray.int16[this._pos2+5]=p},o.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},o.placedIconSymbolIndex.set=function(p){this._structArray.int16[this._pos2+6]=p},o.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},o.verticalPlacedIconSymbolIndex.set=function(p){this._structArray.int16[this._pos2+7]=p},o.key.get=function(){return this._structArray.uint16[this._pos2+8]},o.key.set=function(p){this._structArray.uint16[this._pos2+8]=p},o.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},o.textBoxStartIndex.set=function(p){this._structArray.uint16[this._pos2+9]=p},o.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},o.textBoxEndIndex.set=function(p){this._structArray.uint16[this._pos2+10]=p},o.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},o.verticalTextBoxStartIndex.set=function(p){this._structArray.uint16[this._pos2+11]=p},o.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},o.verticalTextBoxEndIndex.set=function(p){this._structArray.uint16[this._pos2+12]=p},o.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},o.iconBoxStartIndex.set=function(p){this._structArray.uint16[this._pos2+13]=p},o.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},o.iconBoxEndIndex.set=function(p){this._structArray.uint16[this._pos2+14]=p},o.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},o.verticalIconBoxStartIndex.set=function(p){this._structArray.uint16[this._pos2+15]=p},o.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},o.verticalIconBoxEndIndex.set=function(p){this._structArray.uint16[this._pos2+16]=p},o.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},o.featureIndex.set=function(p){this._structArray.uint16[this._pos2+17]=p},o.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},o.numHorizontalGlyphVertices.set=function(p){this._structArray.uint16[this._pos2+18]=p},o.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},o.numVerticalGlyphVertices.set=function(p){this._structArray.uint16[this._pos2+19]=p},o.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},o.numIconVertices.set=function(p){this._structArray.uint16[this._pos2+20]=p},o.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},o.numVerticalIconVertices.set=function(p){this._structArray.uint16[this._pos2+21]=p},o.crossTileID.get=function(){return this._structArray.uint32[this._pos4+11]},o.crossTileID.set=function(p){this._structArray.uint32[this._pos4+11]=p},o.textBoxScale.get=function(){return this._structArray.float32[this._pos4+12]},o.textBoxScale.set=function(p){this._structArray.float32[this._pos4+12]=p},o.textOffset0.get=function(){return this._structArray.float32[this._pos4+13]},o.textOffset0.set=function(p){this._structArray.float32[this._pos4+13]=p},o.textOffset1.get=function(){return this._structArray.float32[this._pos4+14]},o.textOffset1.set=function(p){this._structArray.float32[this._pos4+14]=p},Object.defineProperties(r.prototype,o),r}(c);Be.prototype.size=60;var je=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.get=function(o){return new Be(this,o)},r}(ht);me("SymbolInstanceArray",je);var Re=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={offsetX:{configurable:!0}};return o.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},o.offsetX.set=function(p){this._structArray.float32[this._pos4+0]=p},Object.defineProperties(r.prototype,o),r}(c);Re.prototype.size=4;var Fe=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getoffsetX=function(o){return this.float32[1*o+0]},r.prototype.get=function(o){return new Re(this,o)},r}(_t);me("GlyphOffsetArray",Fe);var kr=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return o.x.get=function(){return this._structArray.int16[this._pos2+0]},o.x.set=function(p){this._structArray.int16[this._pos2+0]=p},o.y.get=function(){return this._structArray.int16[this._pos2+1]},o.y.set=function(p){this._structArray.int16[this._pos2+1]=p},o.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},o.tileUnitDistanceFromAnchor.set=function(p){this._structArray.int16[this._pos2+2]=p},Object.defineProperties(r.prototype,o),r}(c);kr.prototype.size=6;var Ye=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getx=function(o){return this.int16[3*o+0]},r.prototype.gety=function(o){return this.int16[3*o+1]},r.prototype.gettileUnitDistanceFromAnchor=function(o){return this.int16[3*o+2]},r.prototype.get=function(o){return new kr(this,o)},r}(gt);me("SymbolLineVertexArray",Ye);var Ke=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return o.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},o.featureIndex.set=function(p){this._structArray.uint32[this._pos4+0]=p},o.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},o.sourceLayerIndex.set=function(p){this._structArray.uint16[this._pos2+2]=p},o.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},o.bucketIndex.set=function(p){this._structArray.uint16[this._pos2+3]=p},Object.defineProperties(r.prototype,o),r}(c);Ke.prototype.size=8;var wn=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.get=function(o){return new Ke(this,o)},r}(bt);me("FeatureIndexArray",wn);var br=h([{name:"a_pos",components:2,type:"Int16"}],4).members,He=function(t){t===void 0&&(t=[]),this.segments=t};function Vn(t,r){return 256*(t=U(Math.floor(t),0,255))+(r=U(Math.floor(r),0,255))}He.prototype.prepareSegment=function(t,r,o,p){var d=this.segments[this.segments.length-1];return t>He.MAX_VERTEX_ARRAY_LENGTH&&Zt("Max vertices per segment is "+He.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!d||d.vertexLength+t>He.MAX_VERTEX_ARRAY_LENGTH||d.sortKey!==p)&&(d={vertexOffset:r.length,primitiveOffset:o.length,vertexLength:0,primitiveLength:0},p!==void 0&&(d.sortKey=p),this.segments.push(d)),d},He.prototype.get=function(){return this.segments},He.prototype.destroy=function(){for(var t=0,r=this.segments;t<r.length;t+=1){var o=r[t];for(var p in o.vaos)o.vaos[p].destroy()}},He.simpleSegment=function(t,r,o,p){return new He([{vertexOffset:t,primitiveOffset:r,vertexLength:o,primitiveLength:p,vaos:{},sortKey:0}])},He.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,me("SegmentVector",He);var Tn=x(function(t){t.exports=function(r,o){var p,d,y,v,w,E,A,R;for(p=3&r.length,d=r.length-p,y=o,w=3432918353,E=461845907,R=0;R<d;)A=255&r.charCodeAt(R)|(255&r.charCodeAt(++R))<<8|(255&r.charCodeAt(++R))<<16|(255&r.charCodeAt(++R))<<24,++R,y=27492+(65535&(v=5*(65535&(y=(y^=A=(65535&(A=(A=(65535&A)*w+(((A>>>16)*w&65535)<<16)&4294967295)<<15|A>>>17))*E+(((A>>>16)*E&65535)<<16)&4294967295)<<13|y>>>19))+((5*(y>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(A=0,p){case 3:A^=(255&r.charCodeAt(R+2))<<16;case 2:A^=(255&r.charCodeAt(R+1))<<8;case 1:y^=A=(65535&(A=(A=(65535&(A^=255&r.charCodeAt(R)))*w+(((A>>>16)*w&65535)<<16)&4294967295)<<15|A>>>17))*E+(((A>>>16)*E&65535)<<16)&4294967295}return y^=r.length,y=2246822507*(65535&(y^=y>>>16))+((2246822507*(y>>>16)&65535)<<16)&4294967295,y=3266489909*(65535&(y^=y>>>13))+((3266489909*(y>>>16)&65535)<<16)&4294967295,(y^=y>>>16)>>>0}}),Ro=x(function(t){t.exports=function(r,o){for(var p,d=r.length,y=o^d,v=0;d>=4;)p=1540483477*(65535&(p=255&r.charCodeAt(v)|(255&r.charCodeAt(++v))<<8|(255&r.charCodeAt(++v))<<16|(255&r.charCodeAt(++v))<<24))+((1540483477*(p>>>16)&65535)<<16),y=1540483477*(65535&y)+((1540483477*(y>>>16)&65535)<<16)^(p=1540483477*(65535&(p^=p>>>24))+((1540483477*(p>>>16)&65535)<<16)),d-=4,++v;switch(d){case 3:y^=(255&r.charCodeAt(v+2))<<16;case 2:y^=(255&r.charCodeAt(v+1))<<8;case 1:y=1540483477*(65535&(y^=255&r.charCodeAt(v)))+((1540483477*(y>>>16)&65535)<<16)}return y=1540483477*(65535&(y^=y>>>13))+((1540483477*(y>>>16)&65535)<<16),(y^=y>>>15)>>>0}}),Fi=Tn,Wo=Tn,Xa=Ro;Fi.murmur3=Wo,Fi.murmur2=Xa;var Xn=function(){this.ids=[],this.positions=[],this.indexed=!1};Xn.prototype.add=function(t,r,o,p){this.ids.push(Ka(t)),this.positions.push(r,o,p)},Xn.prototype.getPositions=function(t){for(var r=Ka(t),o=0,p=this.ids.length-1;o<p;){var d=o+p>>1;this.ids[d]>=r?p=d:o=d+1}for(var y=[];this.ids[o]===r;){var v=this.positions[3*o],w=this.positions[3*o+1],E=this.positions[3*o+2];y.push({index:v,start:w,end:E}),o++}return y},Xn.serialize=function(t,r){var o=new Float64Array(t.ids),p=new Uint32Array(t.positions);return function d(y,v,w,E){if(!(w>=E)){for(var A=y[w+E>>1],R=w-1,B=E+1;;){do R++;while(y[R]<A);do B--;while(y[B]>A);if(R>=B)break;ya(y,R,B),ya(v,3*R,3*B),ya(v,3*R+1,3*B+1),ya(v,3*R+2,3*B+2)}d(y,v,w,B),d(y,v,B+1,E)}}(o,p,0,o.length-1),r&&r.push(o.buffer,p.buffer),{ids:o,positions:p}},Xn.deserialize=function(t){var r=new Xn;return r.ids=t.ids,r.positions=t.positions,r.indexed=!0,r};var ul=Math.pow(2,53)-1;function Ka(t){var r=+t;return!isNaN(r)&&r<=ul?r:Fi(String(t))}function ya(t,r,o){var p=t[r];t[r]=t[o],t[o]=p}me("FeaturePositionMap",Xn);var Xi=function(t,r){this.gl=t.gl,this.location=r},Yl=function(t){function r(o,p){t.call(this,o,p),this.current=0}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.set=function(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))},r}(Xi),Ho=function(t){function r(o,p){t.call(this,o,p),this.current=0}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.set=function(o){this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))},r}(Xi),ks=function(t){function r(o,p){t.call(this,o,p),this.current=[0,0]}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.set=function(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))},r}(Xi),Jl=function(t){function r(o,p){t.call(this,o,p),this.current=[0,0,0]}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.set=function(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))},r}(Xi),Os=function(t){function r(o,p){t.call(this,o,p),this.current=[0,0,0,0]}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.set=function(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3]))},r}(Xi),Ya=function(t){function r(o,p){t.call(this,o,p),this.current=Wt.transparent}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.set=function(o){o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a))},r}(Xi),cl=new Float32Array(16),ln=function(t){function r(o,p){t.call(this,o,p),this.current=cl}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.set=function(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(var p=1;p<16;p++)if(o[p]!==this.current[p]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}},r}(Xi);function Pr(t){return[Vn(255*t.r,255*t.g),Vn(255*t.b,255*t.a)]}var Vr=function(t,r,o){this.value=t,this.names=r,this.uniformNames=this.names.map(function(p){return"u_"+p}),this.type=o,this.maxValue=-1/0};Vr.prototype.defines=function(){return this.names.map(function(t){return"#define HAS_UNIFORM_u_"+t})},Vr.prototype.setConstantPatternPositions=function(){},Vr.prototype.populatePaintArray=function(){},Vr.prototype.updatePaintArray=function(){},Vr.prototype.upload=function(){},Vr.prototype.destroy=function(){},Vr.prototype.setUniforms=function(t,r,o,p){r.set(p.constantOr(this.value))},Vr.prototype.getBinding=function(t,r){return this.type==="color"?new Ya(t,r):new Ho(t,r)},Vr.serialize=function(t){var r=t.value,o=t.names,p=t.type;return{value:Is(r),names:o,type:p}},Vr.deserialize=function(t){var r=t.value,o=t.names,p=t.type;return new Vr(Bn(r),o,p)};var gi=function(t,r,o){this.value=t,this.names=r,this.uniformNames=this.names.map(function(p){return"u_"+p}),this.type=o,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};gi.prototype.defines=function(){return this.names.map(function(t){return"#define HAS_UNIFORM_u_"+t})},gi.prototype.populatePaintArray=function(){},gi.prototype.updatePaintArray=function(){},gi.prototype.upload=function(){},gi.prototype.destroy=function(){},gi.prototype.setConstantPatternPositions=function(t,r){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=r.tlbr},gi.prototype.setUniforms=function(t,r,o,p,d){var y=this.patternPositions;d==="u_pattern_to"&&y.patternTo&&r.set(y.patternTo),d==="u_pattern_from"&&y.patternFrom&&r.set(y.patternFrom)},gi.prototype.getBinding=function(t,r){return new Os(t,r)};var Ni=function(t,r,o,p){this.expression=t,this.names=r,this.type=o,this.uniformNames=this.names.map(function(d){return"a_"+d}),this.maxValue=-1/0,this.paintVertexAttributes=r.map(function(d){return{name:"a_"+d,type:"Float32",components:o==="color"?2:1,offset:0}}),this.paintVertexArray=new p};Ni.prototype.defines=function(){return[]},Ni.prototype.setConstantPatternPositions=function(){},Ni.prototype.populatePaintArray=function(t,r,o,p){var d=this.paintVertexArray,y=d.length;d.reserve(t);var v=this.expression.evaluate(new Wr(0),r,{},[],p);if(this.type==="color")for(var w=Pr(v),E=y;E<t;E++)d.emplaceBack(w[0],w[1]);else{for(var A=y;A<t;A++)d.emplaceBack(v);this.maxValue=Math.max(this.maxValue,v)}},Ni.prototype.updatePaintArray=function(t,r,o,p){var d=this.paintVertexArray,y=this.expression.evaluate({zoom:0},o,p);if(this.type==="color")for(var v=Pr(y),w=t;w<r;w++)d.emplace(w,v[0],v[1]);else{for(var E=t;E<r;E++)d.emplace(E,y);this.maxValue=Math.max(this.maxValue,y)}},Ni.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ni.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ni.prototype.setUniforms=function(t,r){r.set(0)},Ni.prototype.getBinding=function(t,r){return new Ho(t,r)};var Ki=function(t,r,o,p,d,y){this.expression=t,this.names=r,this.uniformNames=this.names.map(function(w){return"u_"+w+"_t"}),this.type=o,this.useIntegerZoom=p,this.zoom=d,this.maxValue=-1/0;var v=y;this.paintVertexAttributes=r.map(function(w){return{name:"a_"+w,type:"Float32",components:o==="color"?4:2,offset:0}}),this.paintVertexArray=new v};Ki.prototype.defines=function(){return[]},Ki.prototype.setConstantPatternPositions=function(){},Ki.prototype.populatePaintArray=function(t,r,o,p){var d=this.paintVertexArray,y=d.length;d.reserve(t);var v=this.expression.evaluate(new Wr(this.zoom),r,{},[],p),w=this.expression.evaluate(new Wr(this.zoom+1),r,{},[],p);if(this.type==="color")for(var E=Pr(v),A=Pr(w),R=y;R<t;R++)d.emplaceBack(E[0],E[1],A[0],A[1]);else{for(var B=y;B<t;B++)d.emplaceBack(v,w);this.maxValue=Math.max(this.maxValue,v,w)}},Ki.prototype.updatePaintArray=function(t,r,o,p){var d=this.paintVertexArray,y=this.expression.evaluate({zoom:this.zoom},o,p),v=this.expression.evaluate({zoom:this.zoom+1},o,p);if(this.type==="color")for(var w=Pr(y),E=Pr(v),A=t;A<r;A++)d.emplace(A,w[0],w[1],E[0],E[1]);else{for(var R=t;R<r;R++)d.emplace(R,y,v);this.maxValue=Math.max(this.maxValue,y,v)}},Ki.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ki.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ki.prototype.interpolationFactor=function(t){return this.useIntegerZoom&&(t=Math.floor(t)),U(this.expression.interpolationFactor(t,this.zoom,this.zoom+1),0,1)},Ki.prototype.setUniforms=function(t,r,o){r.set(this.interpolationFactor(o.zoom))},Ki.prototype.getBinding=function(t,r){return new Ho(t,r)};var go=function(t,r,o,p,d,y,v){this.expression=t,this.names=r,this.type=o,this.uniformNames=this.names.map(function(w){return"u_"+w+"_t"}),this.useIntegerZoom=p,this.zoom=d,this.maxValue=-1/0,this.layerId=v,this.paintVertexAttributes=r.map(function(w){return{name:"a_"+w,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new y,this.zoomOutPaintVertexArray=new y};go.prototype.defines=function(){return[]},go.prototype.setConstantPatternPositions=function(){},go.prototype.populatePaintArray=function(t,r,o){var p=this.zoomInPaintVertexArray,d=this.zoomOutPaintVertexArray,y=this.layerId,v=p.length;if(p.reserve(t),d.reserve(t),o&&r.patterns&&r.patterns[y]){var w=r.patterns[y],E=w.min,A=w.mid,R=w.max,B=o[E],q=o[A],j=o[R];if(!B||!q||!j)return;for(var W=v;W<t;W++)p.emplaceBack(q.tl[0],q.tl[1],q.br[0],q.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1]),d.emplaceBack(q.tl[0],q.tl[1],q.br[0],q.br[1],j.tl[0],j.tl[1],j.br[0],j.br[1])}},go.prototype.updatePaintArray=function(t,r,o,p,d){var y=this.zoomInPaintVertexArray,v=this.zoomOutPaintVertexArray,w=this.layerId;if(d&&o.patterns&&o.patterns[w]){var E=o.patterns[w],A=E.min,R=E.mid,B=E.max,q=d[A],j=d[R],W=d[B];if(!q||!j||!W)return;for(var nt=t;nt<r;nt++)y.emplace(nt,j.tl[0],j.tl[1],j.br[0],j.br[1],q.tl[0],q.tl[1],q.br[0],q.br[1]),v.emplace(nt,j.tl[0],j.tl[1],j.br[0],j.br[1],W.tl[0],W.tl[1],W.br[0],W.br[1])}},go.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},go.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},go.prototype.setUniforms=function(t,r){r.set(0)},go.prototype.getBinding=function(t,r){return new Ho(t,r)};var ei=function(){this.binders={},this.cacheKey="",this._buffers=[]};ei.createDynamic=function(t,r,o){var p=new ei,d=[];for(var y in t.paint._values)if(o(y)){var v=t.paint.get(y);if(v instanceof Li&&bs(v.property.specification)){var w=Ql(y,t.type),E=v.property.specification.type,A=v.property.useIntegerZoom;if(v.property.specification["property-type"]==="cross-faded"||v.property.specification["property-type"]==="cross-faded-data-driven")if(v.value.kind==="constant")p.binders[y]=new gi(v.value.value,w,E),d.push("/u_"+y);else{var R=xc(y,E,"source");p.binders[y]=new go(v.value,w,E,A,r,R,t.id),d.push("/a_"+y)}else if(v.value.kind==="constant")p.binders[y]=new Vr(v.value.value,w,E),d.push("/u_"+y);else if(v.value.kind==="source"){var B=xc(y,E,"source");p.binders[y]=new Ni(v.value,w,E,B),d.push("/a_"+y)}else{var q=xc(y,E,"composite");p.binders[y]=new Ki(v.value,w,E,A,r,q),d.push("/z_"+y)}}}return p.cacheKey=d.sort().join(""),p},ei.prototype.populatePaintArrays=function(t,r,o,p,d){for(var y in this.binders)this.binders[y].populatePaintArray(t,r,p,d)},ei.prototype.setConstantPatternPositions=function(t,r){for(var o in this.binders)this.binders[o].setConstantPatternPositions(t,r)},ei.prototype.updatePaintArrays=function(t,r,o,p,d){var y=!1;for(var v in t)for(var w=0,E=r.getPositions(v);w<E.length;w+=1){var A=E[w],R=o.feature(A.index);for(var B in this.binders){var q=this.binders[B];if(!(q instanceof Vr||q instanceof gi)&&q.expression.isStateDependent===!0){var j=p.paint.get(B);q.expression=j.value,q.updatePaintArray(A.start,A.end,R,t[v],d),y=!0}}}return y},ei.prototype.defines=function(){var t=[];for(var r in this.binders)t.push.apply(t,this.binders[r].defines());return t},ei.prototype.getPaintVertexBuffers=function(){return this._buffers},ei.prototype.getUniforms=function(t,r){var o=[];for(var p in this.binders)for(var d=this.binders[p],y=0,v=d.uniformNames;y<v.length;y+=1){var w=v[y];if(r[w]){var E=d.getBinding(t,r[w]);o.push({name:w,property:p,binding:E})}}return o},ei.prototype.setUniforms=function(t,r,o,p){for(var d=0,y=r;d<y.length;d+=1){var v=y[d],w=v.name,E=v.property,A=v.binding;this.binders[E].setUniforms(t,A,p,o.get(E),w)}},ei.prototype.updatePatternPaintBuffers=function(t){var r=[];for(var o in this.binders){var p=this.binders[o];if(p instanceof go){var d=t.fromScale===2?p.zoomInPaintVertexBuffer:p.zoomOutPaintVertexBuffer;d&&r.push(d)}else(p instanceof Ni||p instanceof Ki)&&p.paintVertexBuffer&&r.push(p.paintVertexBuffer)}this._buffers=r},ei.prototype.upload=function(t){for(var r in this.binders)this.binders[r].upload(t);var o=[];for(var p in this.binders){var d=this.binders[p];(d instanceof Ni||d instanceof Ki)&&d.paintVertexBuffer&&o.push(d.paintVertexBuffer)}this._buffers=o},ei.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var oo=function(t,r,o,p){p===void 0&&(p=function(){return!0}),this.programConfigurations={};for(var d=0,y=r;d<y.length;d+=1){var v=y[d];this.programConfigurations[v.id]=ei.createDynamic(v,o,p),this.programConfigurations[v.id].layoutAttributes=t}this.needsUpload=!1,this._featureMap=new Xn,this._bufferOffset=0};function Ql(t,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(r+"-","").replace(/-/g,"_")]}function xc(t,r,o){var p={color:{source:se,composite:re},number:{source:_t,composite:se}},d=function(y){return{"line-pattern":{source:z,composite:z},"fill-pattern":{source:z,composite:z},"fill-extrusion-pattern":{source:z,composite:z}}[y]}(t);return d&&d[o]||p[r][o]}oo.prototype.populatePaintArrays=function(t,r,o,p,d){for(var y in this.programConfigurations)this.programConfigurations[y].populatePaintArrays(t,r,o,p,d);r.id!==void 0&&this._featureMap.add(r.id,o,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},oo.prototype.updatePaintArrays=function(t,r,o,p){for(var d=0,y=o;d<y.length;d+=1){var v=y[d];this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(t,this._featureMap,r,v,p)||this.needsUpload}},oo.prototype.get=function(t){return this.programConfigurations[t]},oo.prototype.upload=function(t){if(this.needsUpload){for(var r in this.programConfigurations)this.programConfigurations[r].upload(t);this.needsUpload=!1}},oo.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},me("ConstantBinder",Vr),me("CrossFadedConstantBinder",gi),me("SourceExpressionBinder",Ni),me("CrossFadedCompositeBinder",go),me("CompositeExpressionBinder",Ki),me("ProgramConfiguration",ei,{omit:["_buffers"]}),me("ProgramConfigurationSet",oo);var wc,zo=(wc=15,{min:-1*Math.pow(2,wc-1),max:Math.pow(2,wc-1)-1});function tu(t){for(var r=8192/t.extent,o=t.loadGeometry(),p=0;p<o.length;p++)for(var d=o[p],y=0;y<d.length;y++){var v=d[y];v.x=Math.round(v.x*r),v.y=Math.round(v.y*r),(v.x<zo.min||v.x>zo.max||v.y<zo.min||v.y>zo.max)&&(Zt("Geometry exceeds allowed extent, reduce your vector tile buffer size"),v.x=U(v.x,zo.min,zo.max),v.y=U(v.y,zo.min,zo.max))}return o}function ch(t,r,o,p,d){t.emplaceBack(2*r+(p+1)/2,2*o+(d+1)/2)}var ga=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new _,this.indexArray=new Mt,this.segments=new He,this.programConfigurations=new oo(br,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function Gy(t,r){for(var o=0;o<t.length;o++)if(eu(r,t[o]))return!0;for(var p=0;p<r.length;p++)if(eu(t,r[p]))return!0;return!!Vd(t,r)}function ax(t,r,o){return!!eu(t,r)||!!jd(r,t,o)}function Xy(t,r){if(t.length===1)return Yy(r,t[0]);for(var o=0;o<r.length;o++)for(var p=r[o],d=0;d<p.length;d++)if(eu(t,p[d]))return!0;for(var y=0;y<t.length;y++)if(Yy(r,t[y]))return!0;for(var v=0;v<r.length;v++)if(Vd(t,r[v]))return!0;return!1}function sx(t,r,o){if(t.length>1){if(Vd(t,r))return!0;for(var p=0;p<r.length;p++)if(jd(r[p],t,o))return!0}for(var d=0;d<t.length;d++)if(jd(t[d],r,o))return!0;return!1}function Vd(t,r){if(t.length===0||r.length===0)return!1;for(var o=0;o<t.length-1;o++)for(var p=t[o],d=t[o+1],y=0;y<r.length-1;y++)if(lx(p,d,r[y],r[y+1]))return!0;return!1}function lx(t,r,o,p){return Jt(t,o,p)!==Jt(r,o,p)&&Jt(t,r,o)!==Jt(t,r,p)}function jd(t,r,o){var p=o*o;if(r.length===1)return t.distSqr(r[0])<p;for(var d=1;d<r.length;d++)if(Ky(t,r[d-1],r[d])<p)return!0;return!1}function Ky(t,r,o){var p=r.distSqr(o);if(p===0)return t.distSqr(r);var d=((t.x-r.x)*(o.x-r.x)+(t.y-r.y)*(o.y-r.y))/p;return d<0?t.distSqr(r):d>1?t.distSqr(o):t.distSqr(o.sub(r)._mult(d)._add(r))}function Yy(t,r){for(var o,p,d,y=!1,v=0;v<t.length;v++)for(var w=0,E=(o=t[v]).length-1;w<o.length;E=w++)p=o[w],d=o[E],p.y>r.y!=d.y>r.y&&r.x<(d.x-p.x)*(r.y-p.y)/(d.y-p.y)+p.x&&(y=!y);return y}function eu(t,r){for(var o=!1,p=0,d=t.length-1;p<t.length;d=p++){var y=t[p],v=t[d];y.y>r.y!=v.y>r.y&&r.x<(v.x-y.x)*(r.y-y.y)/(v.y-y.y)+y.x&&(o=!o)}return o}function ux(t,r,o){var p=o[0],d=o[2];if(t.x<p.x&&r.x<p.x||t.x>d.x&&r.x>d.x||t.y<p.y&&r.y<p.y||t.y>d.y&&r.y>d.y)return!1;var y=Jt(t,r,o[0]);return y!==Jt(t,r,o[1])||y!==Jt(t,r,o[2])||y!==Jt(t,r,o[3])}function Cc(t,r,o){var p=r.paint.get(t).value;return p.kind==="constant"?p.value:o.programConfigurations.get(r.id).binders[t].maxValue}function ph(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function hh(t,r,o,p,d){if(!r[0]&&!r[1])return t;var y=M.convert(r)._mult(d);o==="viewport"&&y._rotate(-p);for(var v=[],w=0;w<t.length;w++){var E=t[w];v.push(E.sub(y))}return v}ga.prototype.populate=function(t,r){var o=this.layers[0],p=[],d=null;o.type==="circle"&&(d=o.layout.get("circle-sort-key"));for(var y=0,v=t;y<v.length;y+=1){var w=v[y],E=w.feature,A=w.id,R=w.index,B=w.sourceLayerIndex;if(this.layers[0]._featureFilter(new Wr(this.zoom),E)){var q=tu(E),j=d?d.evaluate(E,{}):void 0,W={id:A,properties:E.properties,type:E.type,sourceLayerIndex:B,index:R,geometry:q,patterns:{},sortKey:j};p.push(W)}}d&&p.sort(function(Lt,ie){return Lt.sortKey-ie.sortKey});for(var nt=0,ot=p;nt<ot.length;nt+=1){var pt=ot[nt],wt=pt,St=wt.geometry,Et=wt.index,Rt=wt.sourceLayerIndex,Ft=t[Et].feature;this.addFeature(pt,St,Et),r.featureIndex.insert(Ft,St,Et,Rt,this.index)}},ga.prototype.update=function(t,r,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,o)},ga.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ga.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ga.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,br),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},ga.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ga.prototype.addFeature=function(t,r,o){for(var p=0,d=r;p<d.length;p+=1)for(var y=0,v=d[p];y<v.length;y+=1){var w=v[y],E=w.x,A=w.y;if(!(E<0||E>=8192||A<0||A>=8192)){var R=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),B=R.vertexLength;ch(this.layoutVertexArray,E,A,-1,-1),ch(this.layoutVertexArray,E,A,1,-1),ch(this.layoutVertexArray,E,A,1,1),ch(this.layoutVertexArray,E,A,-1,1),this.indexArray.emplaceBack(B,B+1,B+2),this.indexArray.emplaceBack(B,B+3,B+2),R.vertexLength+=4,R.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,{})},me("CircleBucket",ga,{omit:["layers"]});var cx=new Bi({"circle-sort-key":new Ce(At.layout_circle["circle-sort-key"])}),px={paint:new Bi({"circle-radius":new Ce(At.paint_circle["circle-radius"]),"circle-color":new Ce(At.paint_circle["circle-color"]),"circle-blur":new Ce(At.paint_circle["circle-blur"]),"circle-opacity":new Ce(At.paint_circle["circle-opacity"]),"circle-translate":new _e(At.paint_circle["circle-translate"]),"circle-translate-anchor":new _e(At.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new _e(At.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new _e(At.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ce(At.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ce(At.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ce(At.paint_circle["circle-stroke-opacity"])}),layout:cx},Go=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=arguments,r=0,o=arguments.length;o--;)r+=t[o]*t[o];return Math.sqrt(r)});var fh;fh=new Go(3),Go!=Float32Array&&(fh[0]=0,fh[1]=0,fh[2]=0);function dh(t,r,o){var p=r[0],d=r[1],y=r[2],v=r[3];return t[0]=o[0]*p+o[4]*d+o[8]*y+o[12]*v,t[1]=o[1]*p+o[5]*d+o[9]*y+o[13]*v,t[2]=o[2]*p+o[6]*d+o[10]*y+o[14]*v,t[3]=o[3]*p+o[7]*d+o[11]*y+o[15]*v,t}(function(){(function(){var t=new Go(4);return Go!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t})()})();var hx=function(t){function r(o){t.call(this,o,px)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.createBucket=function(o){return new ga(o)},r.prototype.queryRadius=function(o){var p=o;return Cc("circle-radius",this,p)+Cc("circle-stroke-width",this,p)+ph(this.paint.get("circle-translate"))},r.prototype.queryIntersectsFeature=function(o,p,d,y,v,w,E,A){for(var R=hh(o,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),w.angle,E),B=this.paint.get("circle-radius").evaluate(p,d)+this.paint.get("circle-stroke-width").evaluate(p,d),q=this.paint.get("circle-pitch-alignment")==="map",j=q?R:function(Lt,ie){return Lt.map(function(ye){return Jy(ye,ie)})}(R,A),W=q?B*E:B,nt=0,ot=y;nt<ot.length;nt+=1)for(var pt=0,wt=ot[nt];pt<wt.length;pt+=1){var St=wt[pt],Et=q?St:Jy(St,A),Rt=W,Ft=dh([],[St.x,St.y,0,1],A);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Rt*=Ft[3]/w.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Rt*=w.cameraToCenterDistance/Ft[3]),ax(j,Et,Rt))return!0}return!1},r}(yo);function Jy(t,r){var o=dh([],[t.x,t.y,0,1],r);return new M(o[0]/o[3],o[1]/o[3])}var Qy=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(ga);function $d(t,r,o,p){var d=r.width,y=r.height;if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==d*y*o)throw new RangeError("mismatched image size")}else p=new Uint8Array(d*y*o);return t.width=d,t.height=y,t.data=p,t}function t0(t,r,o){var p=r.width,d=r.height;if(p!==t.width||d!==t.height){var y=$d({},{width:p,height:d},o);Zd(t,y,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,p),height:Math.min(t.height,d)},o),t.width=p,t.height=d,t.data=y.data}}function Zd(t,r,o,p,d,y){if(d.width===0||d.height===0)return r;if(d.width>t.width||d.height>t.height||o.x>t.width-d.width||o.y>t.height-d.height)throw new RangeError("out of range source coordinates for image copy");if(d.width>r.width||d.height>r.height||p.x>r.width-d.width||p.y>r.height-d.height)throw new RangeError("out of range destination coordinates for image copy");for(var v=t.data,w=r.data,E=0;E<d.height;E++)for(var A=((o.y+E)*t.width+o.x)*y,R=((p.y+E)*r.width+p.x)*y,B=0;B<d.width*y;B++)w[R+B]=v[A+B];return r}me("HeatmapBucket",Qy,{omit:["layers"]});var pl=function(t,r){$d(this,t,1,r)};pl.prototype.resize=function(t){t0(this,t,1)},pl.prototype.clone=function(){return new pl({width:this.width,height:this.height},new Uint8Array(this.data))},pl.copy=function(t,r,o,p,d){Zd(t,r,o,p,d,1)};var Ui=function(t,r){$d(this,t,4,r)};Ui.prototype.resize=function(t){t0(this,t,4)},Ui.prototype.replace=function(t,r){r?this.data.set(t):t instanceof Uint8ClampedArray?this.data=new Uint8Array(t.buffer):this.data=t},Ui.prototype.clone=function(){return new Ui({width:this.width,height:this.height},new Uint8Array(this.data))},Ui.copy=function(t,r,o,p,d){Zd(t,r,o,p,d,4)},me("AlphaImage",pl),me("RGBAImage",Ui);var fx={paint:new Bi({"heatmap-radius":new Ce(At.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ce(At.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new _e(At.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ll(At.paint_heatmap["heatmap-color"]),"heatmap-opacity":new _e(At.paint_heatmap["heatmap-opacity"])})};function e0(t,r){for(var o=new Uint8Array(1024),p={},d=0,y=0;d<256;d++,y+=4){p[r]=d/255;var v=t.evaluate(p);o[y+0]=Math.floor(255*v.r/v.a),o[y+1]=Math.floor(255*v.g/v.a),o[y+2]=Math.floor(255*v.b/v.a),o[y+3]=Math.floor(255*v.a)}return new Ui({width:256,height:1},o)}var dx=function(t){function r(o){t.call(this,o,fx),this._updateColorRamp()}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.createBucket=function(o){return new Qy(o)},r.prototype._handleSpecialPaintPropertyUpdate=function(o){o==="heatmap-color"&&this._updateColorRamp()},r.prototype._updateColorRamp=function(){var o=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=e0(o,"heatmapDensity"),this.colorRampTexture=null},r.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},r}(yo),mx={paint:new Bi({"hillshade-illumination-direction":new _e(At.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new _e(At.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new _e(At.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new _e(At.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new _e(At.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new _e(At.paint_hillshade["hillshade-accent-color"])})},yx=function(t){function r(o){t.call(this,o,mx)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},r}(yo),r0=h([{name:"a_pos",components:2,type:"Int16"}],4).members,qd=mh,gx=mh;function mh(t,r,o){o=o||2;var p,d,y,v,w,E,A,R=r&&r.length,B=R?r[0]*o:t.length,q=n0(t,0,B,o,!0),j=[];if(!q||q.next===q.prev)return j;if(R&&(q=function(nt,ot,pt,wt){var St,Et,Rt,Ft,Lt,ie=[];for(St=0,Et=ot.length;St<Et;St++)Rt=ot[St]*wt,Ft=St<Et-1?ot[St+1]*wt:nt.length,(Lt=n0(nt,Rt,Ft,wt,!1))===Lt.next&&(Lt.steiner=!0),ie.push(Ex(Lt));for(ie.sort(wx),St=0;St<ie.length;St++)pt=Rs(pt=Cx(ie[St],pt),pt.next);return pt}(t,r,q,o)),t.length>80*o){p=y=t[0],d=v=t[1];for(var W=o;W<B;W+=o)(w=t[W])<p&&(p=w),(E=t[W+1])<d&&(d=E),w>y&&(y=w),E>v&&(v=E);A=(A=Math.max(y-p,v-d))!==0?1/A:0}return Sc(q,j,o,p,d,A),j}function n0(t,r,o,p,d){var y,v;if(d===Gd(t,r,o,p)>0)for(y=r;y<o;y+=p)v=a0(y,t[y],t[y+1],v);else for(y=o-p;y>=r;y-=p)v=a0(y,t[y],t[y+1],v);return v&&yh(v,v.next)&&(Tc(v),v=v.next),v}function Rs(t,r){if(!t)return t;r||(r=t);var o,p=t;do if(o=!1,p.steiner||!yh(p,p.next)&&Fn(p.prev,p,p.next)!==0)p=p.next;else{if(Tc(p),(p=r=p.prev)===p.next)break;o=!0}while(o||p!==r);return r}function Sc(t,r,o,p,d,y,v){if(t){!v&&y&&function(R,B,q,j){var W=R;do W.z===null&&(W.z=Wd(W.x,W.y,B,q,j)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==R);W.prevZ.nextZ=null,W.prevZ=null,function(nt){var ot,pt,wt,St,Et,Rt,Ft,Lt,ie=1;do{for(pt=nt,nt=null,Et=null,Rt=0;pt;){for(Rt++,wt=pt,Ft=0,ot=0;ot<ie&&(Ft++,wt=wt.nextZ);ot++);for(Lt=ie;Ft>0||Lt>0&&wt;)Ft!==0&&(Lt===0||!wt||pt.z<=wt.z)?(St=pt,pt=pt.nextZ,Ft--):(St=wt,wt=wt.nextZ,Lt--),Et?Et.nextZ=St:nt=St,St.prevZ=Et,Et=St;pt=wt}Et.nextZ=null,ie*=2}while(Rt>1)}(W)}(t,p,d,y);for(var w,E,A=t;t.prev!==t.next;)if(w=t.prev,E=t.next,y?_x(t,p,d,y):vx(t))r.push(w.i/o),r.push(t.i/o),r.push(E.i/o),Tc(t),t=E.next,A=E.next;else if((t=E)===A){v?v===1?Sc(t=bx(Rs(t),r,o),r,o,p,d,y,2):v===2&&xx(t,r,o,p,d,y):Sc(Rs(t),r,o,p,d,y,1);break}}}function vx(t){var r=t.prev,o=t,p=t.next;if(Fn(r,o,p)>=0)return!1;for(var d=t.next.next;d!==t.prev;){if(ru(r.x,r.y,o.x,o.y,p.x,p.y,d.x,d.y)&&Fn(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function _x(t,r,o,p){var d=t.prev,y=t,v=t.next;if(Fn(d,y,v)>=0)return!1;for(var w=d.x<y.x?d.x<v.x?d.x:v.x:y.x<v.x?y.x:v.x,E=d.y<y.y?d.y<v.y?d.y:v.y:y.y<v.y?y.y:v.y,A=d.x>y.x?d.x>v.x?d.x:v.x:y.x>v.x?y.x:v.x,R=d.y>y.y?d.y>v.y?d.y:v.y:y.y>v.y?y.y:v.y,B=Wd(w,E,r,o,p),q=Wd(A,R,r,o,p),j=t.prevZ,W=t.nextZ;j&&j.z>=B&&W&&W.z<=q;){if(j!==t.prev&&j!==t.next&&ru(d.x,d.y,y.x,y.y,v.x,v.y,j.x,j.y)&&Fn(j.prev,j,j.next)>=0||(j=j.prevZ,W!==t.prev&&W!==t.next&&ru(d.x,d.y,y.x,y.y,v.x,v.y,W.x,W.y)&&Fn(W.prev,W,W.next)>=0))return!1;W=W.nextZ}for(;j&&j.z>=B;){if(j!==t.prev&&j!==t.next&&ru(d.x,d.y,y.x,y.y,v.x,v.y,j.x,j.y)&&Fn(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;W&&W.z<=q;){if(W!==t.prev&&W!==t.next&&ru(d.x,d.y,y.x,y.y,v.x,v.y,W.x,W.y)&&Fn(W.prev,W,W.next)>=0)return!1;W=W.nextZ}return!0}function bx(t,r,o){var p=t;do{var d=p.prev,y=p.next.next;!yh(d,y)&&i0(d,p,p.next,y)&&Ec(d,y)&&Ec(y,d)&&(r.push(d.i/o),r.push(p.i/o),r.push(y.i/o),Tc(p),Tc(p.next),p=t=y),p=p.next}while(p!==t);return Rs(p)}function xx(t,r,o,p,d,y){var v=t;do{for(var w=v.next.next;w!==v.prev;){if(v.i!==w.i&&Tx(v,w)){var E=o0(v,w);return v=Rs(v,v.next),E=Rs(E,E.next),Sc(v,r,o,p,d,y),void Sc(E,r,o,p,d,y)}w=w.next}v=v.next}while(v!==t)}function wx(t,r){return t.x-r.x}function Cx(t,r){var o=function(y,v){var w,E=v,A=y.x,R=y.y,B=-1/0;do{if(R<=E.y&&R>=E.next.y&&E.next.y!==E.y){var q=E.x+(R-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(q<=A&&q>B){if(B=q,q===A){if(R===E.y)return E;if(R===E.next.y)return E.next}w=E.x<E.next.x?E:E.next}}E=E.next}while(E!==v);if(!w)return null;if(A===B)return w;var j,W=w,nt=w.x,ot=w.y,pt=1/0;E=w;do A>=E.x&&E.x>=nt&&A!==E.x&&ru(R<ot?A:B,R,nt,ot,R<ot?B:A,R,E.x,E.y)&&(j=Math.abs(R-E.y)/(A-E.x),Ec(E,y)&&(j<pt||j===pt&&(E.x>w.x||E.x===w.x&&Sx(w,E)))&&(w=E,pt=j)),E=E.next;while(E!==W);return w}(t,r);if(!o)return r;var p=o0(o,t),d=Rs(o,o.next);return Rs(p,p.next),r===o?d:r}function Sx(t,r){return Fn(t.prev,t,r.prev)<0&&Fn(r.next,t,t.next)<0}function Wd(t,r,o,p,d){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-o)*d)|t<<8))|t<<4))|t<<2))|t<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-p)*d)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function Ex(t){var r=t,o=t;do(r.x<o.x||r.x===o.x&&r.y<o.y)&&(o=r),r=r.next;while(r!==t);return o}function ru(t,r,o,p,d,y,v,w){return(d-v)*(r-w)-(t-v)*(y-w)>=0&&(t-v)*(p-w)-(o-v)*(r-w)>=0&&(o-v)*(y-w)-(d-v)*(p-w)>=0}function Tx(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!function(o,p){var d=o;do{if(d.i!==o.i&&d.next.i!==o.i&&d.i!==p.i&&d.next.i!==p.i&&i0(d,d.next,o,p))return!0;d=d.next}while(d!==o);return!1}(t,r)&&(Ec(t,r)&&Ec(r,t)&&function(o,p){var d=o,y=!1,v=(o.x+p.x)/2,w=(o.y+p.y)/2;do d.y>w!=d.next.y>w&&d.next.y!==d.y&&v<(d.next.x-d.x)*(w-d.y)/(d.next.y-d.y)+d.x&&(y=!y),d=d.next;while(d!==o);return y}(t,r)&&(Fn(t.prev,t,r.prev)||Fn(t,r.prev,r))||yh(t,r)&&Fn(t.prev,t,t.next)>0&&Fn(r.prev,r,r.next)>0)}function Fn(t,r,o){return(r.y-t.y)*(o.x-r.x)-(r.x-t.x)*(o.y-r.y)}function yh(t,r){return t.x===r.x&&t.y===r.y}function i0(t,r,o,p){var d=vh(Fn(t,r,o)),y=vh(Fn(t,r,p)),v=vh(Fn(o,p,t)),w=vh(Fn(o,p,r));return d!==y&&v!==w||!(d!==0||!gh(t,o,r))||!(y!==0||!gh(t,p,r))||!(v!==0||!gh(o,t,p))||!(w!==0||!gh(o,r,p))}function gh(t,r,o){return r.x<=Math.max(t.x,o.x)&&r.x>=Math.min(t.x,o.x)&&r.y<=Math.max(t.y,o.y)&&r.y>=Math.min(t.y,o.y)}function vh(t){return t>0?1:t<0?-1:0}function Ec(t,r){return Fn(t.prev,t,t.next)<0?Fn(t,r,t.next)>=0&&Fn(t,t.prev,r)>=0:Fn(t,r,t.prev)<0||Fn(t,t.next,r)<0}function o0(t,r){var o=new Hd(t.i,t.x,t.y),p=new Hd(r.i,r.x,r.y),d=t.next,y=r.prev;return t.next=r,r.prev=t,o.next=d,d.prev=o,p.next=o,o.prev=p,y.next=p,p.prev=y,p}function a0(t,r,o,p){var d=new Hd(t,r,o);return p?(d.next=p.next,d.prev=p,p.next.prev=d,p.next=d):(d.prev=d,d.next=d),d}function Tc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Hd(t,r,o){this.i=t,this.x=r,this.y=o,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Gd(t,r,o,p){for(var d=0,y=r,v=o-p;y<o;y+=p)d+=(t[v]-t[y])*(t[y+1]+t[v+1]),v=y;return d}function Px(t,r,o,p,d){(function y(v,w,E,A,R){for(;A>E;){if(A-E>600){var B=A-E+1,q=w-E+1,j=Math.log(B),W=.5*Math.exp(2*j/3),nt=.5*Math.sqrt(j*W*(B-W)/B)*(q-B/2<0?-1:1),ot=Math.max(E,Math.floor(w-q*W/B+nt)),pt=Math.min(A,Math.floor(w+(B-q)*W/B+nt));y(v,w,ot,pt,R)}var wt=v[w],St=E,Et=A;for(Pc(v,E,w),R(v[A],wt)>0&&Pc(v,E,A);St<Et;){for(Pc(v,St,Et),St++,Et--;R(v[St],wt)<0;)St++;for(;R(v[Et],wt)>0;)Et--}R(v[E],wt)===0?Pc(v,E,Et):(Et++,Pc(v,Et,A)),Et<=w&&(E=Et+1),w<=Et&&(A=Et-1)}})(t,r,o||0,p||t.length-1,d||Ix)}function Pc(t,r,o){var p=t[r];t[r]=t[o],t[o]=p}function Ix(t,r){return t<r?-1:t>r?1:0}function Xd(t,r){var o=t.length;if(o<=1)return[t];for(var p,d,y=[],v=0;v<o;v++){var w=te(t[v]);w!==0&&(t[v].area=Math.abs(w),d===void 0&&(d=w<0),d===w<0?(p&&y.push(p),p=[t[v]]):p.push(t[v]))}if(p&&y.push(p),r>1)for(var E=0;E<y.length;E++)y[E].length<=r||(Px(y[E],r,1,y[E].length-1,Mx),y[E]=y[E].slice(0,r));return y}function Mx(t,r){return r.area-t.area}function Kd(t,r,o){for(var p=o.patternDependencies,d=!1,y=0,v=r;y<v.length;y+=1){var w=v[y].paint.get(t+"-pattern");w.isConstant()||(d=!0);var E=w.constantOr(null);E&&(d=!0,p[E.to]=!0,p[E.from]=!0)}return d}function Yd(t,r,o,p,d){for(var y=d.patternDependencies,v=0,w=r;v<w.length;v+=1){var E=w[v],A=E.paint.get(t+"-pattern").value;if(A.kind!=="constant"){var R=A.evaluate({zoom:p-1},o,{},d.availableImages),B=A.evaluate({zoom:p},o,{},d.availableImages),q=A.evaluate({zoom:p+1},o,{},d.availableImages);R=R&&R.name?R.name:R,B=B&&B.name?B.name:B,q=q&&q.name?q.name:q,y[R]=!0,y[B]=!0,y[q]=!0,o.patterns[E.id]={min:R,mid:B,max:q}}}return o}mh.deviation=function(t,r,o,p){var d=r&&r.length,y=d?r[0]*o:t.length,v=Math.abs(Gd(t,0,y,o));if(d)for(var w=0,E=r.length;w<E;w++){var A=r[w]*o,R=w<E-1?r[w+1]*o:t.length;v-=Math.abs(Gd(t,A,R,o))}var B=0;for(w=0;w<p.length;w+=3){var q=p[w]*o,j=p[w+1]*o,W=p[w+2]*o;B+=Math.abs((t[q]-t[W])*(t[j+1]-t[q+1])-(t[q]-t[j])*(t[W+1]-t[q+1]))}return v===0&&B===0?0:Math.abs((B-v)/v)},mh.flatten=function(t){for(var r=t[0][0].length,o={vertices:[],holes:[],dimensions:r},p=0,d=0;d<t.length;d++){for(var y=0;y<t[d].length;y++)for(var v=0;v<r;v++)o.vertices.push(t[d][y][v]);d>0&&(p+=t[d-1].length,o.holes.push(p))}return o},qd.default=gx;var Xo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _,this.indexArray=new Mt,this.indexArray2=new zt,this.programConfigurations=new oo(r0,t.layers,t.zoom),this.segments=new He,this.segments2=new He,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};Xo.prototype.populate=function(t,r){this.hasPattern=Kd("fill",this.layers,r);for(var o=this.layers[0].layout.get("fill-sort-key"),p=[],d=0,y=t;d<y.length;d+=1){var v=y[d],w=v.feature,E=v.id,A=v.index,R=v.sourceLayerIndex;if(this.layers[0]._featureFilter(new Wr(this.zoom),w)){var B=tu(w),q=o?o.evaluate(w,{},r.availableImages):void 0,j={id:E,properties:w.properties,type:w.type,sourceLayerIndex:R,index:A,geometry:B,patterns:{},sortKey:q};p.push(j)}}o&&p.sort(function(Lt,ie){return Lt.sortKey-ie.sortKey});for(var W=0,nt=p;W<nt.length;W+=1){var ot=nt[W],pt=ot,wt=pt.geometry,St=pt.index,Et=pt.sourceLayerIndex;if(this.hasPattern){var Rt=Yd("fill",this.layers,ot,this.zoom,r);this.patternFeatures.push(Rt)}else this.addFeature(ot,wt,St,{});var Ft=t[St].feature;r.featureIndex.insert(Ft,wt,St,Et,this.index)}},Xo.prototype.update=function(t,r,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,o)},Xo.prototype.addFeatures=function(t,r){for(var o=0,p=this.patternFeatures;o<p.length;o+=1){var d=p[o];this.addFeature(d,d.geometry,d.index,r)}},Xo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Xo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Xo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,r0),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},Xo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Xo.prototype.addFeature=function(t,r,o,p){for(var d=0,y=Xd(r,500);d<y.length;d+=1){for(var v=y[d],w=0,E=0,A=v;E<A.length;E+=1)w+=A[E].length;for(var R=this.segments.prepareSegment(w,this.layoutVertexArray,this.indexArray),B=R.vertexLength,q=[],j=[],W=0,nt=v;W<nt.length;W+=1){var ot=nt[W];if(ot.length!==0){ot!==v[0]&&j.push(q.length/2);var pt=this.segments2.prepareSegment(ot.length,this.layoutVertexArray,this.indexArray2),wt=pt.vertexLength;this.layoutVertexArray.emplaceBack(ot[0].x,ot[0].y),this.indexArray2.emplaceBack(wt+ot.length-1,wt),q.push(ot[0].x),q.push(ot[0].y);for(var St=1;St<ot.length;St++)this.layoutVertexArray.emplaceBack(ot[St].x,ot[St].y),this.indexArray2.emplaceBack(wt+St-1,wt+St),q.push(ot[St].x),q.push(ot[St].y);pt.vertexLength+=ot.length,pt.primitiveLength+=ot.length}}for(var Et=qd(q,j),Rt=0;Rt<Et.length;Rt+=3)this.indexArray.emplaceBack(B+Et[Rt],B+Et[Rt+1],B+Et[Rt+2]);R.vertexLength+=w,R.primitiveLength+=Et.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,p)},me("FillBucket",Xo,{omit:["layers","patternFeatures"]});var Ax=new Bi({"fill-sort-key":new Ce(At.layout_fill["fill-sort-key"])}),kx={paint:new Bi({"fill-antialias":new _e(At.paint_fill["fill-antialias"]),"fill-opacity":new Ce(At.paint_fill["fill-opacity"]),"fill-color":new Ce(At.paint_fill["fill-color"]),"fill-outline-color":new Ce(At.paint_fill["fill-outline-color"]),"fill-translate":new _e(At.paint_fill["fill-translate"]),"fill-translate-anchor":new _e(At.paint_fill["fill-translate-anchor"]),"fill-pattern":new Gi(At.paint_fill["fill-pattern"])}),layout:Ax},Ox=function(t){function r(o){t.call(this,o,kx)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.recalculate=function(o,p){t.prototype.recalculate.call(this,o,p);var d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},r.prototype.createBucket=function(o){return new Xo(o)},r.prototype.queryRadius=function(){return ph(this.paint.get("fill-translate"))},r.prototype.queryIntersectsFeature=function(o,p,d,y,v,w,E){return Xy(hh(o,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),w.angle,E),y)},r.prototype.isTileClipped=function(){return!0},r}(yo),s0=h([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,l0=nu;function nu(t,r,o,p,d){this.properties={},this.extent=o,this.type=0,this._pbf=t,this._geometry=-1,this._keys=p,this._values=d,t.readFields(Rx,this,r)}function Rx(t,r,o){t==1?r.id=o.readVarint():t==2?function(p,d){for(var y=p.readVarint()+p.pos;p.pos<y;){var v=d._keys[p.readVarint()],w=d._values[p.readVarint()];d.properties[v]=w}}(o,r):t==3?r.type=o.readVarint():t==4&&(r._geometry=o.pos)}function zx(t){for(var r,o,p=0,d=0,y=t.length,v=y-1;d<y;v=d++)r=t[d],p+=((o=t[v]).x-r.x)*(r.y+o.y);return p}nu.types=["Unknown","Point","LineString","Polygon"],nu.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var r,o=t.readVarint()+t.pos,p=1,d=0,y=0,v=0,w=[];t.pos<o;){if(d<=0){var E=t.readVarint();p=7&E,d=E>>3}if(d--,p===1||p===2)y+=t.readSVarint(),v+=t.readSVarint(),p===1&&(r&&w.push(r),r=[]),r.push(new M(y,v));else{if(p!==7)throw new Error("unknown command "+p);r&&r.push(r[0].clone())}}return r&&w.push(r),w},nu.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var r=t.readVarint()+t.pos,o=1,p=0,d=0,y=0,v=1/0,w=-1/0,E=1/0,A=-1/0;t.pos<r;){if(p<=0){var R=t.readVarint();o=7&R,p=R>>3}if(p--,o===1||o===2)(d+=t.readSVarint())<v&&(v=d),d>w&&(w=d),(y+=t.readSVarint())<E&&(E=y),y>A&&(A=y);else if(o!==7)throw new Error("unknown command "+o)}return[v,E,w,A]},nu.prototype.toGeoJSON=function(t,r,o){var p,d,y=this.extent*Math.pow(2,o),v=this.extent*t,w=this.extent*r,E=this.loadGeometry(),A=nu.types[this.type];function R(j){for(var W=0;W<j.length;W++){var nt=j[W],ot=180-360*(nt.y+w)/y;j[W]=[360*(nt.x+v)/y-180,360/Math.PI*Math.atan(Math.exp(ot*Math.PI/180))-90]}}switch(this.type){case 1:var B=[];for(p=0;p<E.length;p++)B[p]=E[p][0];R(E=B);break;case 2:for(p=0;p<E.length;p++)R(E[p]);break;case 3:for(E=function(j){var W=j.length;if(W<=1)return[j];for(var nt,ot,pt=[],wt=0;wt<W;wt++){var St=zx(j[wt]);St!==0&&(ot===void 0&&(ot=St<0),ot===St<0?(nt&&pt.push(nt),nt=[j[wt]]):nt.push(j[wt]))}return nt&&pt.push(nt),pt}(E),p=0;p<E.length;p++)for(d=0;d<E[p].length;d++)R(E[p][d])}E.length===1?E=E[0]:A="Multi"+A;var q={type:"Feature",geometry:{type:A,coordinates:E},properties:this.properties};return"id"in this&&(q.id=this.id),q};var u0=c0;function c0(t,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Dx,this,r),this.length=this._features.length}function Dx(t,r,o){t===15?r.version=o.readVarint():t===1?r.name=o.readString():t===5?r.extent=o.readVarint():t===2?r._features.push(o.pos):t===3?r._keys.push(o.readString()):t===4&&r._values.push(function(p){for(var d=null,y=p.readVarint()+p.pos;p.pos<y;){var v=p.readVarint()>>3;d=v===1?p.readString():v===2?p.readFloat():v===3?p.readDouble():v===4?p.readVarint64():v===5?p.readVarint():v===6?p.readSVarint():v===7?p.readBoolean():null}return d}(o))}function Lx(t,r,o){if(t===3){var p=new u0(o,o.readVarint()+o.pos);p.length&&(r[p.name]=p)}}c0.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var r=this._pbf.readVarint()+this._pbf.pos;return new l0(this._pbf,r,this.extent,this._keys,this._values)};var iu={VectorTile:function(t,r){this.layers=t.readFields(Lx,{},r)},VectorTileFeature:l0,VectorTileLayer:u0},Bx=iu.VectorTileFeature.types,Jd=Math.pow(2,13);function Ic(t,r,o,p,d,y,v,w){t.emplaceBack(r,o,2*Math.floor(p*Jd)+v,d*Jd*2,y*Jd*2,Math.round(w))}var Ko=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new S,this.indexArray=new Mt,this.programConfigurations=new oo(s0,t.layers,t.zoom),this.segments=new He,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};function Fx(t,r){return t.x===r.x&&(t.x<0||t.x>8192)||t.y===r.y&&(t.y<0||t.y>8192)}function Nx(t){return t.every(function(r){return r.x<0})||t.every(function(r){return r.x>8192})||t.every(function(r){return r.y<0})||t.every(function(r){return r.y>8192})}Ko.prototype.populate=function(t,r){this.features=[],this.hasPattern=Kd("fill-extrusion",this.layers,r);for(var o=0,p=t;o<p.length;o+=1){var d=p[o],y=d.feature,v=d.id,w=d.index,E=d.sourceLayerIndex;if(this.layers[0]._featureFilter(new Wr(this.zoom),y)){var A=tu(y),R={id:v,sourceLayerIndex:E,index:w,geometry:A,properties:y.properties,type:y.type,patterns:{}};y.id!==void 0&&(R.id=y.id),this.hasPattern?this.features.push(Yd("fill-extrusion",this.layers,R,this.zoom,r)):this.addFeature(R,A,w,{}),r.featureIndex.insert(y,A,w,E,this.index,!0)}}},Ko.prototype.addFeatures=function(t,r){for(var o=0,p=this.features;o<p.length;o+=1){var d=p[o],y=d.geometry;this.addFeature(d,y,d.index,r)}},Ko.prototype.update=function(t,r,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,o)},Ko.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ko.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ko.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,s0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ko.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ko.prototype.addFeature=function(t,r,o,p){for(var d=0,y=Xd(r,500);d<y.length;d+=1){for(var v=y[d],w=0,E=0,A=v;E<A.length;E+=1)w+=A[E].length;for(var R=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),B=0,q=v;B<q.length;B+=1){var j=q[B];if(j.length!==0&&!Nx(j))for(var W=0,nt=0;nt<j.length;nt++){var ot=j[nt];if(nt>=1){var pt=j[nt-1];if(!Fx(ot,pt)){R.vertexLength+4>He.MAX_VERTEX_ARRAY_LENGTH&&(R=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var wt=ot.sub(pt)._perp()._unit(),St=pt.dist(ot);W+St>32768&&(W=0),Ic(this.layoutVertexArray,ot.x,ot.y,wt.x,wt.y,0,0,W),Ic(this.layoutVertexArray,ot.x,ot.y,wt.x,wt.y,0,1,W),W+=St,Ic(this.layoutVertexArray,pt.x,pt.y,wt.x,wt.y,0,0,W),Ic(this.layoutVertexArray,pt.x,pt.y,wt.x,wt.y,0,1,W);var Et=R.vertexLength;this.indexArray.emplaceBack(Et,Et+2,Et+1),this.indexArray.emplaceBack(Et+1,Et+2,Et+3),R.vertexLength+=4,R.primitiveLength+=2}}}}if(R.vertexLength+w>He.MAX_VERTEX_ARRAY_LENGTH&&(R=this.segments.prepareSegment(w,this.layoutVertexArray,this.indexArray)),Bx[t.type]==="Polygon"){for(var Rt=[],Ft=[],Lt=R.vertexLength,ie=0,ye=v;ie<ye.length;ie+=1){var ce=ye[ie];if(ce.length!==0){ce!==v[0]&&Ft.push(Rt.length/2);for(var ge=0;ge<ce.length;ge++){var pe=ce[ge];Ic(this.layoutVertexArray,pe.x,pe.y,0,0,1,1,0),Rt.push(pe.x),Rt.push(pe.y)}}}for(var ae=qd(Rt,Ft),Xt=0;Xt<ae.length;Xt+=3)this.indexArray.emplaceBack(Lt+ae[Xt],Lt+ae[Xt+2],Lt+ae[Xt+1]);R.primitiveLength+=ae.length/3,R.vertexLength+=w}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,p)},me("FillExtrusionBucket",Ko,{omit:["layers","features"]});var Ux={paint:new Bi({"fill-extrusion-opacity":new _e(At["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ce(At["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new _e(At["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new _e(At["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Gi(At["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ce(At["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ce(At["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new _e(At["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Vx=function(t){function r(o){t.call(this,o,Ux)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.createBucket=function(o){return new Ko(o)},r.prototype.queryRadius=function(){return ph(this.paint.get("fill-extrusion-translate"))},r.prototype.is3D=function(){return!0},r.prototype.queryIntersectsFeature=function(o,p,d,y,v,w,E,A){var R=hh(o,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),w.angle,E),B=this.paint.get("fill-extrusion-height").evaluate(p,d),q=this.paint.get("fill-extrusion-base").evaluate(p,d),j=function(nt,ot,pt,wt){for(var St=[],Et=0,Rt=nt;Et<Rt.length;Et+=1){var Ft=Rt[Et],Lt=[Ft.x,Ft.y,wt,1];dh(Lt,Lt,ot),St.push(new M(Lt[0]/Lt[3],Lt[1]/Lt[3]))}return St}(R,A,0,0),W=function(nt,ot,pt,wt){for(var St=[],Et=[],Rt=wt[8]*ot,Ft=wt[9]*ot,Lt=wt[10]*ot,ie=wt[11]*ot,ye=wt[8]*pt,ce=wt[9]*pt,ge=wt[10]*pt,pe=wt[11]*pt,ae=0,Xt=nt;ae<Xt.length;ae+=1){for(var er=Xt[ae],Br=[],xr=[],Ne=0,rr=er;Ne<rr.length;Ne+=1){var ur=rr[Ne],Ze=ur.x,sr=ur.y,wr=wt[0]*Ze+wt[4]*sr+wt[12],un=wt[1]*Ze+wt[5]*sr+wt[13],yn=wt[2]*Ze+wt[6]*sr+wt[14],ci=wt[3]*Ze+wt[7]*sr+wt[15],pi=yn+Lt,kn=ci+ie,Yn=wr+ye,ri=un+ce,hi=yn+ge,jn=ci+pe,cn=new M((wr+Rt)/kn,(un+Ft)/kn);cn.z=pi/kn,Br.push(cn);var Pn=new M(Yn/jn,ri/jn);Pn.z=hi/jn,xr.push(Pn)}St.push(Br),Et.push(xr)}return[St,Et]}(y,q,B,A);return function(nt,ot,pt){var wt=1/0;Xy(pt,ot)&&(wt=p0(pt,ot[0]));for(var St=0;St<ot.length;St++)for(var Et=ot[St],Rt=nt[St],Ft=0;Ft<Et.length-1;Ft++){var Lt=Et[Ft],ie=Et[Ft+1],ye=Rt[Ft],ce=Rt[Ft+1],ge=[Lt,ie,ce,ye,Lt];Gy(pt,ge)&&(wt=Math.min(wt,p0(pt,ge)))}return wt!==1/0&&wt}(W[0],W[1],j)},r}(yo);function Mc(t,r){return t.x*r.x+t.y*r.y}function p0(t,r){if(t.length===1){var o=r[0],p=r[1],d=r[3],y=t[0],v=p.sub(o),w=d.sub(o),E=y.sub(o),A=Mc(v,v),R=Mc(v,w),B=Mc(w,w),q=Mc(E,v),j=Mc(E,w),W=A*B-R*R,nt=(B*q-R*j)/W,ot=(A*j-R*q)/W,pt=1-nt-ot;return o.z*pt+p.z*nt+d.z*ot}for(var wt=1/0,St=0,Et=r;St<Et.length;St+=1){var Rt=Et[St];wt=Math.min(wt,Rt.z)}return wt}var h0=h([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,jx=iu.VectorTileFeature.types,$x=Math.cos(Math.PI/180*37.5),f0=Math.pow(2,14)/.5,Yi=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(r){return r.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new I,this.indexArray=new Mt,this.programConfigurations=new oo(h0,t.layers,t.zoom),this.segments=new He,this.stateDependentLayerIds=this.layers.filter(function(r){return r.isStateDependent()}).map(function(r){return r.id})};Yi.prototype.populate=function(t,r){this.hasPattern=Kd("line",this.layers,r);for(var o=this.layers[0].layout.get("line-sort-key"),p=[],d=0,y=t;d<y.length;d+=1){var v=y[d],w=v.feature,E=v.index,A=v.sourceLayerIndex;if(this.layers[0]._featureFilter(new Wr(this.zoom),w)){var R=tu(w),B=o?o.evaluate(w,{}):void 0,q={id:w.id,properties:w.properties,type:w.type,sourceLayerIndex:A,index:E,geometry:R,patterns:{},sortKey:B};p.push(q)}}o&&p.sort(function(Ft,Lt){return Ft.sortKey-Lt.sortKey});for(var j=0,W=p;j<W.length;j+=1){var nt=W[j],ot=nt,pt=ot.geometry,wt=ot.index,St=ot.sourceLayerIndex;if(this.hasPattern){var Et=Yd("line",this.layers,nt,this.zoom,r);this.patternFeatures.push(Et)}else this.addFeature(nt,pt,wt,{});var Rt=t[wt].feature;r.featureIndex.insert(Rt,pt,wt,St,this.index)}},Yi.prototype.update=function(t,r,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,o)},Yi.prototype.addFeatures=function(t,r){for(var o=0,p=this.patternFeatures;o<p.length;o+=1){var d=p[o];this.addFeature(d,d.geometry,d.index,r)}},Yi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Yi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Yi.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,h0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Yi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Yi.prototype.addFeature=function(t,r,o,p){for(var d=this.layers[0].layout,y=d.get("line-join").evaluate(t,{}),v=d.get("line-cap"),w=d.get("line-miter-limit"),E=d.get("line-round-limit"),A=0,R=r;A<R.length;A+=1){var B=R[A];this.addLine(B,t,y,v,w,E,o,p)}},Yi.prototype.addLine=function(t,r,o,p,d,y,v,w){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,r.properties&&r.properties.hasOwnProperty("mapbox_clip_start")&&r.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+r.properties.mapbox_clip_start,this.clipEnd=+r.properties.mapbox_clip_end;for(var E=0;E<t.length-1;E++)this.totalDistance+=t[E].dist(t[E+1])}for(var A=jx[r.type]==="Polygon",R=t.length;R>=2&&t[R-1].equals(t[R-2]);)R--;for(var B=0;B<R-1&&t[B].equals(t[B+1]);)B++;if(!(R<(A?3:2))){o==="bevel"&&(d=1.05);var q,j=this.overscaling<=16?122880/(512*this.overscaling):0,W=this.segments.prepareSegment(10*R,this.layoutVertexArray,this.indexArray),nt=void 0,ot=void 0,pt=void 0,wt=void 0;this.e1=this.e2=-1,A&&(q=t[R-2],wt=t[B].sub(q)._unit()._perp());for(var St=B;St<R;St++)if(!(ot=A&&St===R-1?t[B+1]:t[St+1])||!t[St].equals(ot)){wt&&(pt=wt),q&&(nt=q),q=t[St],wt=ot?ot.sub(q)._unit()._perp():pt;var Et=(pt=pt||wt).add(wt);Et.x===0&&Et.y===0||Et._unit();var Rt=pt.x*wt.x+pt.y*wt.y,Ft=Et.x*wt.x+Et.y*wt.y,Lt=Ft!==0?1/Ft:1/0,ie=2*Math.sqrt(2-2*Ft),ye=Ft<$x&&nt&&ot,ce=pt.x*wt.y-pt.y*wt.x>0;if(ye&&St>B){var ge=q.dist(nt);if(ge>2*j){var pe=q.sub(q.sub(nt)._mult(j/ge)._round());this.updateDistance(nt,pe),this.addCurrentVertex(pe,pt,0,0,W),nt=pe}}var ae=nt&&ot,Xt=ae?o:A?"butt":p;if(ae&&Xt==="round"&&(Lt<y?Xt="miter":Lt<=2&&(Xt="fakeround")),Xt==="miter"&&Lt>d&&(Xt="bevel"),Xt==="bevel"&&(Lt>2&&(Xt="flipbevel"),Lt<d&&(Xt="miter")),nt&&this.updateDistance(nt,q),Xt==="miter")Et._mult(Lt),this.addCurrentVertex(q,Et,0,0,W);else if(Xt==="flipbevel"){if(Lt>100)Et=wt.mult(-1);else{var er=Lt*pt.add(wt).mag()/pt.sub(wt).mag();Et._perp()._mult(er*(ce?-1:1))}this.addCurrentVertex(q,Et,0,0,W),this.addCurrentVertex(q,Et.mult(-1),0,0,W)}else if(Xt==="bevel"||Xt==="fakeround"){var Br=-Math.sqrt(Lt*Lt-1),xr=ce?Br:0,Ne=ce?0:Br;if(nt&&this.addCurrentVertex(q,pt,xr,Ne,W),Xt==="fakeround")for(var rr=Math.round(180*ie/Math.PI/20),ur=1;ur<rr;ur++){var Ze=ur/rr;if(Ze!==.5){var sr=Ze-.5;Ze+=Ze*sr*(Ze-1)*((1.0904+Rt*(Rt*(3.55645-1.43519*Rt)-3.2452))*sr*sr+(.848013+Rt*(.215638*Rt-1.06021)))}var wr=wt.sub(pt)._mult(Ze)._add(pt)._unit()._mult(ce?-1:1);this.addHalfVertex(q,wr.x,wr.y,!1,ce,0,W)}ot&&this.addCurrentVertex(q,wt,-xr,-Ne,W)}else if(Xt==="butt")this.addCurrentVertex(q,Et,0,0,W);else if(Xt==="square"){var un=nt?1:-1;this.addCurrentVertex(q,Et,un,un,W)}else Xt==="round"&&(nt&&(this.addCurrentVertex(q,pt,0,0,W),this.addCurrentVertex(q,pt,1,1,W,!0)),ot&&(this.addCurrentVertex(q,wt,-1,-1,W,!0),this.addCurrentVertex(q,wt,0,0,W)));if(ye&&St<R-1){var yn=q.dist(ot);if(yn>2*j){var ci=q.add(ot.sub(q)._mult(j/yn)._round());this.updateDistance(q,ci),this.addCurrentVertex(ci,wt,0,0,W),q=ci}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,v,w)}},Yi.prototype.addCurrentVertex=function(t,r,o,p,d,y){y===void 0&&(y=!1);var v=r.x+r.y*o,w=r.y-r.x*o,E=-r.x+r.y*p,A=-r.y-r.x*p;this.addHalfVertex(t,v,w,y,!1,o,d),this.addHalfVertex(t,E,A,y,!0,-p,d),this.distance>f0/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(t,r,o,p,d,y))},Yi.prototype.addHalfVertex=function(t,r,o,p,d,y,v){var w=t.x,E=t.y,A=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((w<<1)+(p?1:0),(E<<1)+(d?1:0),Math.round(63*r)+128,Math.round(63*o)+128,1+(y===0?0:y<0?-1:1)|(63&A)<<2,A>>6);var R=v.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,R),v.primitiveLength++),d?this.e2=R:this.e1=R},Yi.prototype.updateDistance=function(t,r){this.distance+=t.dist(r),this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(f0-1):this.distance},me("LineBucket",Yi,{omit:["layers","patternFeatures"]});var Zx=new Bi({"line-cap":new _e(At.layout_line["line-cap"]),"line-join":new Ce(At.layout_line["line-join"]),"line-miter-limit":new _e(At.layout_line["line-miter-limit"]),"line-round-limit":new _e(At.layout_line["line-round-limit"]),"line-sort-key":new Ce(At.layout_line["line-sort-key"])}),d0={paint:new Bi({"line-opacity":new Ce(At.paint_line["line-opacity"]),"line-color":new Ce(At.paint_line["line-color"]),"line-translate":new _e(At.paint_line["line-translate"]),"line-translate-anchor":new _e(At.paint_line["line-translate-anchor"]),"line-width":new Ce(At.paint_line["line-width"]),"line-gap-width":new Ce(At.paint_line["line-gap-width"]),"line-offset":new Ce(At.paint_line["line-offset"]),"line-blur":new Ce(At.paint_line["line-blur"]),"line-dasharray":new As(At.paint_line["line-dasharray"]),"line-pattern":new Gi(At.paint_line["line-pattern"]),"line-gradient":new ll(At.paint_line["line-gradient"])}),layout:Zx},m0=new(function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.possiblyEvaluate=function(o,p){return p=new Wr(Math.floor(p.zoom),{now:p.now,fadeDuration:p.fadeDuration,zoomHistory:p.zoomHistory,transition:p.transition}),t.prototype.possiblyEvaluate.call(this,o,p)},r.prototype.evaluate=function(o,p,d,y){return p=it({},p,{zoom:Math.floor(p.zoom)}),t.prototype.evaluate.call(this,o,p,d,y)},r}(Ce))(d0.paint.properties["line-width"].specification);m0.useIntegerZoom=!0;var qx=function(t){function r(o){t.call(this,o,d0)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._handleSpecialPaintPropertyUpdate=function(o){o==="line-gradient"&&this._updateGradient()},r.prototype._updateGradient=function(){var o=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=e0(o,"lineProgress"),this.gradientTexture=null},r.prototype.recalculate=function(o,p){t.prototype.recalculate.call(this,o,p),this.paint._values["line-floorwidth"]=m0.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)},r.prototype.createBucket=function(o){return new Yi(o)},r.prototype.queryRadius=function(o){var p=o,d=y0(Cc("line-width",this,p),Cc("line-gap-width",this,p)),y=Cc("line-offset",this,p);return d/2+Math.abs(y)+ph(this.paint.get("line-translate"))},r.prototype.queryIntersectsFeature=function(o,p,d,y,v,w,E){var A=hh(o,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),w.angle,E),R=E/2*y0(this.paint.get("line-width").evaluate(p,d),this.paint.get("line-gap-width").evaluate(p,d)),B=this.paint.get("line-offset").evaluate(p,d);return B&&(y=function(q,j){for(var W=[],nt=new M(0,0),ot=0;ot<q.length;ot++){for(var pt=q[ot],wt=[],St=0;St<pt.length;St++){var Et=pt[St-1],Rt=pt[St],Ft=pt[St+1],Lt=St===0?nt:Rt.sub(Et)._unit()._perp(),ie=St===pt.length-1?nt:Ft.sub(Rt)._unit()._perp(),ye=Lt._add(ie)._unit(),ce=ye.x*ie.x+ye.y*ie.y;ye._mult(1/ce),wt.push(ye._mult(j)._add(Rt))}W.push(wt)}return W}(y,B*E)),function(q,j,W){for(var nt=0;nt<j.length;nt++){var ot=j[nt];if(q.length>=3){for(var pt=0;pt<ot.length;pt++)if(eu(q,ot[pt]))return!0}if(sx(q,ot,W))return!0}return!1}(A,y,R)},r.prototype.isTileClipped=function(){return!0},r}(yo);function y0(t,r){return r>0?r+2*t:t}var Qd=h([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Wx=h([{name:"a_projected_pos",components:3,type:"Float32"}],4),Hx=(h([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),h([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),g0=(h([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),h([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),v0=h([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);h([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),h([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),h([{type:"Float32",name:"offsetX"}]),h([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function Gx(t,r,o){return t.sections.forEach(function(p){p.text=function(d,y,v){var w=y.layout.get("text-transform").evaluate(v,{});return w==="uppercase"?d=d.toLocaleUpperCase():w==="lowercase"&&(d=d.toLocaleLowerCase()),Gn.applyArabicShaping&&(d=Gn.applyArabicShaping(d)),d}(p.text,r,o)}),t}var Ac={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},_0=function(t,r,o,p,d){var y,v,w=8*d-p-1,E=(1<<w)-1,A=E>>1,R=-7,B=o?d-1:0,q=o?-1:1,j=t[r+B];for(B+=q,y=j&(1<<-R)-1,j>>=-R,R+=w;R>0;y=256*y+t[r+B],B+=q,R-=8);for(v=y&(1<<-R)-1,y>>=-R,R+=p;R>0;v=256*v+t[r+B],B+=q,R-=8);if(y===0)y=1-A;else{if(y===E)return v?NaN:1/0*(j?-1:1);v+=Math.pow(2,p),y-=A}return(j?-1:1)*v*Math.pow(2,y-p)},b0=function(t,r,o,p,d,y){var v,w,E,A=8*y-d-1,R=(1<<A)-1,B=R>>1,q=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,j=p?0:y-1,W=p?1:-1,nt=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(w=isNaN(r)?1:0,v=R):(v=Math.floor(Math.log(r)/Math.LN2),r*(E=Math.pow(2,-v))<1&&(v--,E*=2),(r+=v+B>=1?q/E:q*Math.pow(2,1-B))*E>=2&&(v++,E/=2),v+B>=R?(w=0,v=R):v+B>=1?(w=(r*E-1)*Math.pow(2,d),v+=B):(w=r*Math.pow(2,B-1)*Math.pow(2,d),v=0));d>=8;t[o+j]=255&w,j+=W,w/=256,d-=8);for(v=v<<d|w,A+=d;A>0;t[o+j]=255&v,j+=W,v/=256,A-=8);t[o+j-W]|=128*nt},_h=Hr;function Hr(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Hr.Varint=0,Hr.Fixed64=1,Hr.Bytes=2,Hr.Fixed32=5;var x0=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ja(t){return t.type===Hr.Bytes?t.readVarint()+t.pos:t.pos+1}function ou(t,r,o){return o?4294967296*r+(t>>>0):4294967296*(r>>>0)+(t>>>0)}function w0(t,r,o){var p=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));o.realloc(p);for(var d=o.pos-1;d>=t;d--)o.buf[d+p]=o.buf[d]}function Xx(t,r){for(var o=0;o<t.length;o++)r.writeVarint(t[o])}function Kx(t,r){for(var o=0;o<t.length;o++)r.writeSVarint(t[o])}function Yx(t,r){for(var o=0;o<t.length;o++)r.writeFloat(t[o])}function Jx(t,r){for(var o=0;o<t.length;o++)r.writeDouble(t[o])}function Qx(t,r){for(var o=0;o<t.length;o++)r.writeBoolean(t[o])}function t3(t,r){for(var o=0;o<t.length;o++)r.writeFixed32(t[o])}function e3(t,r){for(var o=0;o<t.length;o++)r.writeSFixed32(t[o])}function r3(t,r){for(var o=0;o<t.length;o++)r.writeFixed64(t[o])}function n3(t,r){for(var o=0;o<t.length;o++)r.writeSFixed64(t[o])}function bh(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+16777216*t[r+3]}function au(t,r,o){t[o]=r,t[o+1]=r>>>8,t[o+2]=r>>>16,t[o+3]=r>>>24}function C0(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16)+(t[r+3]<<24)}Hr.prototype={destroy:function(){this.buf=null},readFields:function(t,r,o){for(o=o||this.length;this.pos<o;){var p=this.readVarint(),d=p>>3,y=this.pos;this.type=7&p,t(d,r,this),this.pos===y&&this.skip(p)}return r},readMessage:function(t,r){return this.readFields(t,r,this.readVarint()+this.pos)},readFixed32:function(){var t=bh(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=C0(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=bh(this.buf,this.pos)+4294967296*bh(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=bh(this.buf,this.pos)+4294967296*C0(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=_0(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=_0(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var r,o,p=this.buf;return r=127&(o=p[this.pos++]),o<128?r:(r|=(127&(o=p[this.pos++]))<<7,o<128?r:(r|=(127&(o=p[this.pos++]))<<14,o<128?r:(r|=(127&(o=p[this.pos++]))<<21,o<128?r:function(d,y,v){var w,E,A=v.buf;if(E=A[v.pos++],w=(112&E)>>4,E<128||(E=A[v.pos++],w|=(127&E)<<3,E<128)||(E=A[v.pos++],w|=(127&E)<<10,E<128)||(E=A[v.pos++],w|=(127&E)<<17,E<128)||(E=A[v.pos++],w|=(127&E)<<24,E<128)||(E=A[v.pos++],w|=(1&E)<<31,E<128))return ou(d,w,y);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(o=p[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var t=this.readVarint()+this.pos,r=this.pos;return this.pos=t,t-r>=12&&x0?function(o,p,d){return x0.decode(o.subarray(p,d))}(this.buf,r,t):function(o,p,d){for(var y="",v=p;v<d;){var w,E,A,R=o[v],B=null,q=R>239?4:R>223?3:R>191?2:1;if(v+q>d)break;q===1?R<128&&(B=R):q===2?(192&(w=o[v+1]))==128&&(B=(31&R)<<6|63&w)<=127&&(B=null):q===3?(w=o[v+1],E=o[v+2],(192&w)==128&&(192&E)==128&&((B=(15&R)<<12|(63&w)<<6|63&E)<=2047||B>=55296&&B<=57343)&&(B=null)):q===4&&(w=o[v+1],E=o[v+2],A=o[v+3],(192&w)==128&&(192&E)==128&&(192&A)==128&&((B=(15&R)<<18|(63&w)<<12|(63&E)<<6|63&A)<=65535||B>=1114112)&&(B=null)),B===null?(B=65533,q=1):B>65535&&(B-=65536,y+=String.fromCharCode(B>>>10&1023|55296),B=56320|1023&B),y+=String.fromCharCode(B),v+=q}return y}(this.buf,r,t)},readBytes:function(){var t=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,t);return this.pos=t,r},readPackedVarint:function(t,r){if(this.type!==Hr.Bytes)return t.push(this.readVarint(r));var o=Ja(this);for(t=t||[];this.pos<o;)t.push(this.readVarint(r));return t},readPackedSVarint:function(t){if(this.type!==Hr.Bytes)return t.push(this.readSVarint());var r=Ja(this);for(t=t||[];this.pos<r;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Hr.Bytes)return t.push(this.readBoolean());var r=Ja(this);for(t=t||[];this.pos<r;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Hr.Bytes)return t.push(this.readFloat());var r=Ja(this);for(t=t||[];this.pos<r;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Hr.Bytes)return t.push(this.readDouble());var r=Ja(this);for(t=t||[];this.pos<r;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Hr.Bytes)return t.push(this.readFixed32());var r=Ja(this);for(t=t||[];this.pos<r;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Hr.Bytes)return t.push(this.readSFixed32());var r=Ja(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Hr.Bytes)return t.push(this.readFixed64());var r=Ja(this);for(t=t||[];this.pos<r;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Hr.Bytes)return t.push(this.readSFixed64());var r=Ja(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed64());return t},skip:function(t){var r=7&t;if(r===Hr.Varint)for(;this.buf[this.pos++]>127;);else if(r===Hr.Bytes)this.pos=this.readVarint()+this.pos;else if(r===Hr.Fixed32)this.pos+=4;else{if(r!==Hr.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(t,r){this.writeVarint(t<<3|r)},realloc:function(t){for(var r=this.length||16;r<this.pos+t;)r*=2;if(r!==this.length){var o=new Uint8Array(r);o.set(this.buf),this.buf=o,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),au(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),au(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),au(this.buf,-1&t,this.pos),au(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),au(this.buf,-1&t,this.pos),au(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(r,o){var p,d;if(r>=0?(p=r%4294967296|0,d=r/4294967296|0):(d=~(-r/4294967296),4294967295^(p=~(-r%4294967296))?p=p+1|0:(p=0,d=d+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),function(y,v,w){w.buf[w.pos++]=127&y|128,y>>>=7,w.buf[w.pos++]=127&y|128,y>>>=7,w.buf[w.pos++]=127&y|128,y>>>=7,w.buf[w.pos++]=127&y|128,y>>>=7,w.buf[w.pos]=127&y}(p,0,o),function(y,v){var w=(7&y)<<4;v.buf[v.pos++]|=w|((y>>>=3)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y)))))}(d,o)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(!!t)},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var r=this.pos;this.pos=function(p,d,y){for(var v,w,E=0;E<d.length;E++){if((v=d.charCodeAt(E))>55295&&v<57344){if(!w){v>56319||E+1===d.length?(p[y++]=239,p[y++]=191,p[y++]=189):w=v;continue}if(v<56320){p[y++]=239,p[y++]=191,p[y++]=189,w=v;continue}v=w-55296<<10|v-56320|65536,w=null}else w&&(p[y++]=239,p[y++]=191,p[y++]=189,w=null);v<128?p[y++]=v:(v<2048?p[y++]=v>>6|192:(v<65536?p[y++]=v>>12|224:(p[y++]=v>>18|240,p[y++]=v>>12&63|128),p[y++]=v>>6&63|128),p[y++]=63&v|128)}return y}(this.buf,t,this.pos);var o=this.pos-r;o>=128&&w0(r,o,this),this.pos=r-1,this.writeVarint(o),this.pos+=o},writeFloat:function(t){this.realloc(4),b0(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),b0(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var r=t.length;this.writeVarint(r),this.realloc(r);for(var o=0;o<r;o++)this.buf[this.pos++]=t[o]},writeRawMessage:function(t,r){this.pos++;var o=this.pos;t(r,this);var p=this.pos-o;p>=128&&w0(o,p,this),this.pos=o-1,this.writeVarint(p),this.pos+=p},writeMessage:function(t,r,o){this.writeTag(t,Hr.Bytes),this.writeRawMessage(r,o)},writePackedVarint:function(t,r){r.length&&this.writeMessage(t,Xx,r)},writePackedSVarint:function(t,r){r.length&&this.writeMessage(t,Kx,r)},writePackedBoolean:function(t,r){r.length&&this.writeMessage(t,Qx,r)},writePackedFloat:function(t,r){r.length&&this.writeMessage(t,Yx,r)},writePackedDouble:function(t,r){r.length&&this.writeMessage(t,Jx,r)},writePackedFixed32:function(t,r){r.length&&this.writeMessage(t,t3,r)},writePackedSFixed32:function(t,r){r.length&&this.writeMessage(t,e3,r)},writePackedFixed64:function(t,r){r.length&&this.writeMessage(t,r3,r)},writePackedSFixed64:function(t,r){r.length&&this.writeMessage(t,n3,r)},writeBytesField:function(t,r){this.writeTag(t,Hr.Bytes),this.writeBytes(r)},writeFixed32Field:function(t,r){this.writeTag(t,Hr.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(t,r){this.writeTag(t,Hr.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(t,r){this.writeTag(t,Hr.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(t,r){this.writeTag(t,Hr.Fixed64),this.writeSFixed64(r)},writeVarintField:function(t,r){this.writeTag(t,Hr.Varint),this.writeVarint(r)},writeSVarintField:function(t,r){this.writeTag(t,Hr.Varint),this.writeSVarint(r)},writeStringField:function(t,r){this.writeTag(t,Hr.Bytes),this.writeString(r)},writeFloatField:function(t,r){this.writeTag(t,Hr.Fixed32),this.writeFloat(r)},writeDoubleField:function(t,r){this.writeTag(t,Hr.Fixed64),this.writeDouble(r)},writeBooleanField:function(t,r){this.writeVarintField(t,!!r)}};function i3(t,r,o){t===1&&o.readMessage(o3,r)}function o3(t,r,o){if(t===3){var p=o.readMessage(a3,{}),d=p.id,y=p.bitmap,v=p.width,w=p.height,E=p.left,A=p.top,R=p.advance;r.push({id:d,bitmap:new pl({width:v+6,height:w+6},y),metrics:{width:v,height:w,left:E,top:A,advance:R}})}}function a3(t,r,o){t===1?r.id=o.readVarint():t===2?r.bitmap=o.readBytes():t===3?r.width=o.readVarint():t===4?r.height=o.readVarint():t===5?r.left=o.readSVarint():t===6?r.top=o.readSVarint():t===7&&(r.advance=o.readVarint())}function S0(t){for(var r=0,o=0,p=0,d=t;p<d.length;p+=1){var y=d[p];r+=y.w*y.h,o=Math.max(o,y.w)}t.sort(function(nt,ot){return ot.h-nt.h});for(var v=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),o),h:1/0}],w=0,E=0,A=0,R=t;A<R.length;A+=1)for(var B=R[A],q=v.length-1;q>=0;q--){var j=v[q];if(!(B.w>j.w||B.h>j.h)){if(B.x=j.x,B.y=j.y,E=Math.max(E,B.y+B.h),w=Math.max(w,B.x+B.w),B.w===j.w&&B.h===j.h){var W=v.pop();q<v.length&&(v[q]=W)}else B.h===j.h?(j.x+=B.w,j.w-=B.w):B.w===j.w?(j.y+=B.h,j.h-=B.h):(v.push({x:j.x+B.w,y:j.y,w:j.w-B.w,h:B.h}),j.y+=B.h,j.h-=B.h);break}}return{w,h:E,fill:r/(w*E)||0}}var xh=function(t,r){var o=r.pixelRatio,p=r.version,d=r.stretchX,y=r.stretchY,v=r.content;this.paddedRect=t,this.pixelRatio=o,this.stretchX=d,this.stretchY=y,this.content=v,this.version=p},kc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};kc.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},kc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},kc.tlbr.get=function(){return this.tl.concat(this.br)},kc.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(xh.prototype,kc);var Oc=function(t,r){var o={},p={};this.haveRenderCallbacks=[];var d=[];this.addImages(t,o,d),this.addImages(r,p,d);var y=S0(d),v=y.w,w=y.h,E=new Ui({width:v||1,height:w||1});for(var A in t){var R=t[A],B=o[A].paddedRect;Ui.copy(R.data,E,{x:0,y:0},{x:B.x+1,y:B.y+1},R.data)}for(var q in r){var j=r[q],W=p[q].paddedRect,nt=W.x+1,ot=W.y+1,pt=j.data.width,wt=j.data.height;Ui.copy(j.data,E,{x:0,y:0},{x:nt,y:ot},j.data),Ui.copy(j.data,E,{x:0,y:wt-1},{x:nt,y:ot-1},{width:pt,height:1}),Ui.copy(j.data,E,{x:0,y:0},{x:nt,y:ot+wt},{width:pt,height:1}),Ui.copy(j.data,E,{x:pt-1,y:0},{x:nt-1,y:ot},{width:1,height:wt}),Ui.copy(j.data,E,{x:0,y:0},{x:nt+pt,y:ot},{width:1,height:wt})}this.image=E,this.iconPositions=o,this.patternPositions=p};Oc.prototype.addImages=function(t,r,o){for(var p in t){var d=t[p],y={x:0,y:0,w:d.data.width+2,h:d.data.height+2};o.push(y),r[p]=new xh(y,d),d.hasRenderCallback&&this.haveRenderCallbacks.push(p)}},Oc.prototype.patchUpdatedImages=function(t,r){for(var o in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[o],t.getImage(o),r),this.patchUpdatedImage(this.patternPositions[o],t.getImage(o),r)},Oc.prototype.patchUpdatedImage=function(t,r,o){if(t&&r&&t.version!==r.version){t.version=r.version;var p=t.tl,d=p[0],y=p[1];o.update(r.data,void 0,{x:d,y})}},me("ImagePosition",xh),me("ImageAtlas",Oc);var ao={horizontal:1,vertical:2,horizontalOnly:3},su=function(){this.scale=1,this.fontStack="",this.imageName=null};su.forText=function(t,r){var o=new su;return o.scale=t||1,o.fontStack=r,o},su.forImage=function(t){var r=new su;return r.imageName=t,r};var vi=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function wh(t,r,o,p,d,y,v,w,E,A,R,B,q,j,W,nt){var ot,pt=vi.fromFeature(t,d);B===ao.vertical&&pt.verticalizePunctuation();var wt=Gn.processBidirectionalText,St=Gn.processStyledBidirectionalText;if(wt&&pt.sections.length===1){ot=[];for(var Et=0,Rt=wt(pt.toString(),t1(pt,A,y,r,p,j,W));Et<Rt.length;Et+=1){var Ft=Rt[Et],Lt=new vi;Lt.text=Ft,Lt.sections=pt.sections;for(var ie=0;ie<Ft.length;ie++)Lt.sectionIndex.push(0);ot.push(Lt)}}else if(St){ot=[];for(var ye=0,ce=St(pt.text,pt.sectionIndex,t1(pt,A,y,r,p,j,W));ye<ce.length;ye+=1){var ge=ce[ye],pe=new vi;pe.text=ge[0],pe.sectionIndex=ge[1],pe.sections=pt.sections,ot.push(pe)}}else ot=function(er,Br){for(var xr=[],Ne=er.text,rr=0,ur=0,Ze=Br;ur<Ze.length;ur+=1){var sr=Ze[ur];xr.push(er.substring(rr,sr)),rr=sr}return rr<Ne.length&&xr.push(er.substring(rr,Ne.length)),xr}(pt,t1(pt,A,y,r,p,j,W));var ae=[],Xt={positionedLines:ae,text:pt.toString(),top:R[1],bottom:R[1],left:R[0],right:R[0],writingMode:B,iconsInText:!1,verticalizable:!1};return function(er,Br,xr,Ne,rr,ur,Ze,sr,wr,un,yn,ci){for(var pi=0,kn=-17,Yn=0,ri=0,hi=sr==="right"?1:sr==="left"?0:.5,jn=0,cn=0,Pn=rr;cn<Pn.length;cn+=1){var hr=Pn[cn];hr.trim();var Or=hr.getMaxScale(),Gr=24*(Or-1),Xr={positionedGlyphs:[],lineOffset:0};er.positionedLines[jn]=Xr;var $n=Xr.positionedGlyphs,$r=0;if(hr.length()){for(var ni=0;ni<hr.length();ni++){var bn=hr.getSection(ni),Yo=hr.getSectionIndex(ni),fi=hr.getCharCode(ni),_i=0,vo=null,Jn=null,Do=null,va=24,Jo=!(wr===ao.horizontal||!yn&&!io(fi)||yn&&(Ch[fi]||(Ds=fi,Yt.Arabic(Ds)||Yt["Arabic Supplement"](Ds)||Yt["Arabic Extended-A"](Ds)||Yt["Arabic Presentation Forms-A"](Ds)||Yt["Arabic Presentation Forms-B"](Ds))));if(bn.imageName){var Lc=Ne[bn.imageName];if(!Lc)continue;Do=bn.imageName,er.iconsInText=er.iconsInText||!0,Jn=Lc.paddedRect;var _a=Lc.displaySize;bn.scale=24*bn.scale/ci,vo={width:_a[0],height:_a[1],left:1,top:-3,advance:Jo?_a[1]:_a[0]};var u1=24-_a[1]*bn.scale;_i=Gr+u1,va=vo.advance;var du=Jo?_a[0]*bn.scale-24*Or:_a[1]*bn.scale-24*Or;du>0&&du>$r&&($r=du)}else{var Oh=xr[bn.fontStack],mu=Oh&&Oh[fi];if(mu&&mu.rect)Jn=mu.rect,vo=mu.metrics;else{var Bc=Br[bn.fontStack],Rh=Bc&&Bc[fi];if(!Rh)continue;vo=Rh.metrics}_i=24*(Or-bn.scale)}Jo?(er.verticalizable=!0,$n.push({glyph:fi,imageName:Do,x:pi,y:kn+_i,vertical:Jo,scale:bn.scale,fontStack:bn.fontStack,sectionIndex:Yo,metrics:vo,rect:Jn}),pi+=va*bn.scale+un):($n.push({glyph:fi,imageName:Do,x:pi,y:kn+_i,vertical:Jo,scale:bn.scale,fontStack:bn.fontStack,sectionIndex:Yo,metrics:vo,rect:Jn}),pi+=vo.advance*bn.scale+un)}if($n.length!==0){var c1=pi-un;Yn=Math.max(c1,Yn),l3($n,0,$n.length-1,hi,$r)}pi=0;var Fc=ur*Or+$r;Xr.lineOffset=Math.max($r,Gr),kn+=Fc,ri=Math.max(Fc,ri),++jn}else kn+=ur,++jn}var Ds,yl=kn- -17,Ls=e1(Ze),yu=Ls.horizontalAlign,Nc=Ls.verticalAlign;(function(zh,p1,Uc,Vc,Dh,Lh,gu,Bh,jc){var Fh=(p1-Uc)*Dh,vu=0;vu=Lh!==gu?-Bh*Vc- -17:(-Vc*jc+.5)*gu;for(var _u=0,$c=zh;_u<$c.length;_u+=1)for(var Nh=$c[_u],gl=0,Zc=Nh.positionedGlyphs;gl<Zc.length;gl+=1){var bu=Zc[gl];bu.x+=Fh,bu.y+=vu}})(er.positionedLines,hi,yu,Nc,Yn,ri,ur,yl,rr.length),er.top+=-Nc*yl,er.bottom=er.top+yl,er.left+=-yu*Yn,er.right=er.left+Yn}(Xt,r,o,p,ot,v,w,E,B,A,q,nt),!function(er){for(var Br=0,xr=er;Br<xr.length;Br+=1)if(xr[Br].positionedGlyphs.length!==0)return!1;return!0}(ae)&&Xt}vi.fromFeature=function(t,r){for(var o=new vi,p=0;p<t.sections.length;p++){var d=t.sections[p];d.image?o.addImageSection(d):o.addTextSection(d,r)}return o},vi.prototype.length=function(){return this.text.length},vi.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},vi.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},vi.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},vi.prototype.verticalizePunctuation=function(){this.text=function(t){for(var r="",o=0;o<t.length;o++){var p=t.charCodeAt(o+1)||null,d=t.charCodeAt(o-1)||null;(!p||!sh(p)||Ac[t[o+1]])&&(!d||!sh(d)||Ac[t[o-1]])&&Ac[t[o]]?r+=Ac[t[o]]:r+=t[o]}return r}(this.text)},vi.prototype.trim=function(){for(var t=0,r=0;r<this.text.length&&Ch[this.text.charCodeAt(r)];r++)t++;for(var o=this.text.length,p=this.text.length-1;p>=0&&p>=t&&Ch[this.text.charCodeAt(p)];p--)o--;this.text=this.text.substring(t,o),this.sectionIndex=this.sectionIndex.slice(t,o)},vi.prototype.substring=function(t,r){var o=new vi;return o.text=this.text.substring(t,r),o.sectionIndex=this.sectionIndex.slice(t,r),o.sections=this.sections,o},vi.prototype.toString=function(){return this.text},vi.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(r,o){return Math.max(r,t.sections[o].scale)},0)},vi.prototype.addTextSection=function(t,r){this.text+=t.text,this.sections.push(su.forText(t.scale,t.fontStack||r));for(var o=this.sections.length-1,p=0;p<t.text.length;++p)this.sectionIndex.push(o)},vi.prototype.addImageSection=function(t){var r=t.image?t.image.name:"";if(r.length!==0){var o=this.getNextImageSectionCharCode();o?(this.text+=String.fromCharCode(o),this.sections.push(su.forImage(r)),this.sectionIndex.push(this.sections.length-1)):Zt("Reached maximum number of images 6401")}else Zt("Can't add FormattedSection with an empty image.")},vi.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Ch={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ji={};function E0(t,r,o,p,d,y){if(r.imageName){var v=p[r.imageName];return v?v.displaySize[0]*r.scale*24/y+d:0}var w=o[r.fontStack],E=w&&w[t];return E?E.metrics.advance*r.scale+d:0}function T0(t,r,o,p){var d=Math.pow(t-r,2);return p?t<r?d/2:2*d:d+Math.abs(o)*o}function s3(t,r,o){var p=0;return t===10&&(p-=1e4),o&&(p+=150),t!==40&&t!==65288||(p+=50),r!==41&&r!==65289||(p+=50),p}function P0(t,r,o,p,d,y){for(var v=null,w=T0(r,o,d,y),E=0,A=p;E<A.length;E+=1){var R=A[E],B=T0(r-R.x,o,d,y)+R.badness;B<=w&&(v=R,w=B)}return{index:t,x:r,priorBreak:v,badness:w}}function t1(t,r,o,p,d,y,v){if(y!=="point")return[];if(!t)return[];for(var w,E=[],A=function(ot,pt,wt,St,Et,Rt){for(var Ft=0,Lt=0;Lt<ot.length();Lt++){var ie=ot.getSection(Lt);Ft+=E0(ot.getCharCode(Lt),ie,St,Et,pt,Rt)}return Ft/Math.max(1,Math.ceil(Ft/wt))}(t,r,o,p,d,v),R=t.text.indexOf("​")>=0,B=0,q=0;q<t.length();q++){var j=t.getSection(q),W=t.getCharCode(q);if(Ch[W]||(B+=E0(W,j,p,d,r,v)),q<t.length()-1){var nt=!!(!((w=W)<11904)&&(Yt["Bopomofo Extended"](w)||Yt.Bopomofo(w)||Yt["CJK Compatibility Forms"](w)||Yt["CJK Compatibility Ideographs"](w)||Yt["CJK Compatibility"](w)||Yt["CJK Radicals Supplement"](w)||Yt["CJK Strokes"](w)||Yt["CJK Symbols and Punctuation"](w)||Yt["CJK Unified Ideographs Extension A"](w)||Yt["CJK Unified Ideographs"](w)||Yt["Enclosed CJK Letters and Months"](w)||Yt["Halfwidth and Fullwidth Forms"](w)||Yt.Hiragana(w)||Yt["Ideographic Description Characters"](w)||Yt["Kangxi Radicals"](w)||Yt["Katakana Phonetic Extensions"](w)||Yt.Katakana(w)||Yt["Vertical Forms"](w)||Yt["Yi Radicals"](w)||Yt["Yi Syllables"](w)));(Ji[W]||nt||j.imageName)&&E.push(P0(q+1,B,A,E,s3(W,t.getCharCode(q+1),nt&&R),!1))}}return function ot(pt){return pt?ot(pt.priorBreak).concat(pt.index):[]}(P0(t.length(),B,A,E,0,!0))}function e1(t){var r=.5,o=.5;switch(t){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:r,verticalAlign:o}}function l3(t,r,o,p,d){if(p||d)for(var y=t[o],v=y.metrics.advance*y.scale,w=(t[o].x+v)*p,E=r;E<=o;E++)t[E].x-=w,t[E].y+=d}function I0(t,r,o,p,d,y){var v,w=t.image;if(w.content){var E=w.content,A=w.pixelRatio||1;v=[E[0]/A,E[1]/A,w.displaySize[0]-E[2]/A,w.displaySize[1]-E[3]/A]}var R,B,q,j,W=r.left*y,nt=r.right*y;o==="width"||o==="both"?(j=d[0]+W-p[3],B=d[0]+nt+p[1]):B=(j=d[0]+(W+nt-w.displaySize[0])/2)+w.displaySize[0];var ot=r.top*y,pt=r.bottom*y;return o==="height"||o==="both"?(R=d[1]+ot-p[0],q=d[1]+pt+p[2]):q=(R=d[1]+(ot+pt-w.displaySize[1])/2)+w.displaySize[1],{image:w,top:R,right:B,bottom:q,left:j,collisionPadding:v}}Ji[10]=!0,Ji[32]=!0,Ji[38]=!0,Ji[40]=!0,Ji[41]=!0,Ji[43]=!0,Ji[45]=!0,Ji[47]=!0,Ji[173]=!0,Ji[183]=!0,Ji[8203]=!0,Ji[8208]=!0,Ji[8211]=!0,Ji[8231]=!0;var lu=function(t){function r(o,p,d,y){t.call(this,o,p),this.angle=d,y!==void 0&&(this.segment=y)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.clone=function(){return new r(this.x,this.y,this.angle,this.segment)},r}(M);me("Anchor",lu);function r1(t,r){var o=r.expression;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new Wr(t+1))};if(o.kind==="source")return{kind:"source"};for(var p=o.zoomStops,d=o.interpolationType,y=0;y<p.length&&p[y]<=t;)y++;for(var v=y=Math.max(0,y-1);v<p.length&&p[v]<t+1;)v++;v=Math.min(p.length-1,v);var w=p[y],E=p[v];return o.kind==="composite"?{kind:"composite",minZoom:w,maxZoom:E,interpolationType:d}:{kind:"camera",minZoom:w,maxZoom:E,minSize:o.evaluate(new Wr(w)),maxSize:o.evaluate(new Wr(E)),interpolationType:d}}function M0(t,r,o){var p=r.uSize,d=r.uSizeT,y=o.lowerSize,v=o.upperSize;return t.kind==="source"?y/128:t.kind==="composite"?Pe(y/128,v/128,d):p}function A0(t,r){var o=0,p=0;if(t.kind==="constant")p=t.layoutSize;else if(t.kind!=="source"){var d=t.interpolationType,y=t.minZoom,v=t.maxZoom,w=d?U(En.interpolationFactor(d,r,y,v),0,1):0;t.kind==="camera"?p=Pe(t.minSize,t.maxSize,w):o=w}return{uSizeT:o,uSize:p}}var u3=Object.freeze({__proto__:null,getSizeData:r1,evaluateSizeForFeature:M0,evaluateSizeForZoom:A0,SIZE_PACK_FACTOR:128});function k0(t,r,o,p,d){if(r.segment===void 0)return!0;for(var y=r,v=r.segment+1,w=0;w>-o/2;){if(--v<0)return!1;w-=t[v].dist(y),y=t[v]}w+=t[v].dist(t[v+1]),v++;for(var E=[],A=0;w<o/2;){var R=t[v-1],B=t[v],q=t[v+1];if(!q)return!1;var j=R.angleTo(B)-B.angleTo(q);for(j=Math.abs((j+3*Math.PI)%(2*Math.PI)-Math.PI),E.push({distance:w,angleDelta:j}),A+=j;w-E[0].distance>p;)A-=E.shift().angleDelta;if(A>d)return!1;v++,w+=B.dist(q)}return!0}function O0(t){for(var r=0,o=0;o<t.length-1;o++)r+=t[o].dist(t[o+1]);return r}function R0(t,r,o){return t?.6*r*o:0}function z0(t,r){return Math.max(t?t.right-t.left:0,r?r.right-r.left:0)}function c3(t,r,o,p,d,y){for(var v=R0(o,d,y),w=z0(o,p)*y,E=0,A=O0(t)/2,R=0;R<t.length-1;R++){var B=t[R],q=t[R+1],j=B.dist(q);if(E+j>A){var W=(A-E)/j,nt=Pe(B.x,q.x,W),ot=Pe(B.y,q.y,W),pt=new lu(nt,ot,q.angleTo(B),R);return pt._round(),!v||k0(t,pt,w,v,r)?pt:void 0}E+=j}}function p3(t,r,o,p,d,y,v,w,E){var A=R0(p,y,v),R=z0(p,d),B=R*v,q=t[0].x===0||t[0].x===E||t[0].y===0||t[0].y===E;return r-B<r/4&&(r=B+r/4),function j(W,nt,ot,pt,wt,St,Et,Rt,Ft){for(var Lt=St/2,ie=O0(W),ye=0,ce=nt-ot,ge=[],pe=0;pe<W.length-1;pe++){for(var ae=W[pe],Xt=W[pe+1],er=ae.dist(Xt),Br=Xt.angleTo(ae);ce+ot<ye+er;){var xr=((ce+=ot)-ye)/er,Ne=Pe(ae.x,Xt.x,xr),rr=Pe(ae.y,Xt.y,xr);if(Ne>=0&&Ne<Ft&&rr>=0&&rr<Ft&&ce-Lt>=0&&ce+Lt<=ie){var ur=new lu(Ne,rr,Br,pe);ur._round(),pt&&!k0(W,ur,St,pt,wt)||ge.push(ur)}}ye+=er}return Rt||ge.length||Et||(ge=j(W,ye/2,ot,pt,wt,St,Et,!0,Ft)),ge}(t,q?r/2*w%r:(R/2+2*y)*v*w%r,r,A,o,B,q,!1,E)}function D0(t,r,o,p){var d=[],y=t.image,v=y.pixelRatio,w=y.paddedRect.w-2,E=y.paddedRect.h-2,A=t.right-t.left,R=t.bottom-t.top,B=y.stretchX||[[0,w]],q=y.stretchY||[[0,E]],j=function(ur,Ze){return ur+Ze[1]-Ze[0]},W=B.reduce(j,0),nt=q.reduce(j,0),ot=w-W,pt=E-nt,wt=0,St=W,Et=0,Rt=nt,Ft=0,Lt=ot,ie=0,ye=pt;if(y.content&&p){var ce=y.content;wt=Sh(B,0,ce[0]),Et=Sh(q,0,ce[1]),St=Sh(B,ce[0],ce[2]),Rt=Sh(q,ce[1],ce[3]),Ft=ce[0]-wt,ie=ce[1]-Et,Lt=ce[2]-ce[0]-St,ye=ce[3]-ce[1]-Rt}var ge=function(ur,Ze,sr,wr){var un=Eh(ur.stretch-wt,St,A,t.left),yn=Th(ur.fixed-Ft,Lt,ur.stretch,W),ci=Eh(Ze.stretch-Et,Rt,R,t.top),pi=Th(Ze.fixed-ie,ye,Ze.stretch,nt),kn=Eh(sr.stretch-wt,St,A,t.left),Yn=Th(sr.fixed-Ft,Lt,sr.stretch,W),ri=Eh(wr.stretch-Et,Rt,R,t.top),hi=Th(wr.fixed-ie,ye,wr.stretch,nt),jn=new M(un,ci),cn=new M(kn,ci),Pn=new M(kn,ri),hr=new M(un,ri),Or=new M(yn/v,pi/v),Gr=new M(Yn/v,hi/v),Xr=r*Math.PI/180;if(Xr){var $n=Math.sin(Xr),$r=Math.cos(Xr),ni=[$r,-$n,$n,$r];jn._matMult(ni),cn._matMult(ni),hr._matMult(ni),Pn._matMult(ni)}var bn=ur.stretch+ur.fixed,Yo=sr.stretch+sr.fixed,fi=Ze.stretch+Ze.fixed,_i=wr.stretch+wr.fixed;return{tl:jn,tr:cn,bl:hr,br:Pn,tex:{x:y.paddedRect.x+1+bn,y:y.paddedRect.y+1+fi,w:Yo-bn,h:_i-fi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Or,pixelOffsetBR:Gr,minFontScaleX:Lt/v/A,minFontScaleY:ye/v/R,isSDF:o}};if(p&&(y.stretchX||y.stretchY))for(var pe=L0(B,ot,W),ae=L0(q,pt,nt),Xt=0;Xt<pe.length-1;Xt++)for(var er=pe[Xt],Br=pe[Xt+1],xr=0;xr<ae.length-1;xr++){var Ne=ae[xr],rr=ae[xr+1];d.push(ge(er,Ne,Br,rr))}else d.push(ge({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:w+1},{fixed:0,stretch:E+1}));return d}function Sh(t,r,o){for(var p=0,d=0,y=t;d<y.length;d+=1){var v=y[d];p+=Math.max(r,Math.min(o,v[1]))-Math.max(r,Math.min(o,v[0]))}return p}function L0(t,r,o){for(var p=[{fixed:-1,stretch:0}],d=0,y=t;d<y.length;d+=1){var v=y[d],w=v[0],E=v[1],A=p[p.length-1];p.push({fixed:w-A.stretch,stretch:A.stretch}),p.push({fixed:w-A.stretch,stretch:A.stretch+(E-w)})}return p.push({fixed:r+1,stretch:o}),p}function Eh(t,r,o,p){return t/r*o+p}function Th(t,r,o,p){return t-r*o/p}var Rc=function(t,r,o,p,d,y,v,w,E,A,R,B){var q=v.top*w-E,j=v.bottom*w+E,W=v.left*w-E,nt=v.right*w+E,ot=v.collisionPadding;if(ot&&(W-=ot[0]*w,q-=ot[1]*w,nt+=ot[2]*w,j+=ot[3]*w),this.boxStartIndex=t.length,A){var pt=j-q,wt=nt-W;pt>0&&(pt=Math.max(10*w,pt),this._addLineCollisionCircles(t,r,o,o.segment,wt,pt,p,d,y,R))}else{if(B){var St=new M(W,q),Et=new M(nt,q),Rt=new M(W,j),Ft=new M(nt,j),Lt=B*Math.PI/180;St._rotate(Lt),Et._rotate(Lt),Rt._rotate(Lt),Ft._rotate(Lt),W=Math.min(St.x,Et.x,Rt.x,Ft.x),nt=Math.max(St.x,Et.x,Rt.x,Ft.x),q=Math.min(St.y,Et.y,Rt.y,Ft.y),j=Math.max(St.y,Et.y,Rt.y,Ft.y)}t.emplaceBack(o.x,o.y,W,q,nt,j,p,d,y,0,0)}this.boxEndIndex=t.length};Rc.prototype._addLineCollisionCircles=function(t,r,o,p,d,y,v,w,E,A){var R=y/2,B=Math.floor(d/R)||1,q=1+.4*Math.log(A)/Math.LN2,j=Math.floor(B*q/2),W=-y/2,nt=o,ot=p+1,pt=W,wt=-d/2,St=wt-d/4;do{if(--ot<0){if(pt>wt)return;ot=0;break}pt-=r[ot].dist(nt),nt=r[ot]}while(pt>St);for(var Et=r[ot].dist(r[ot+1]),Rt=-j;Rt<B+j;Rt++){var Ft=Rt*R,Lt=wt+Ft;if(Ft<0&&(Lt+=Ft),Ft>d&&(Lt+=Ft-d),!(Lt<pt)){for(;pt+Et<Lt;){if(pt+=Et,++ot+1>=r.length)return;Et=r[ot].dist(r[ot+1])}var ie=Lt-pt,ye=r[ot],ce=r[ot+1].sub(ye)._unit()._mult(ie)._add(ye)._round(),ge=Math.abs(Lt-W)<R?0:.8*(Lt-W);t.emplaceBack(ce.x,ce.y,-y/2,-y/2,y/2,y/2,v,w,E,y/2,ge)}}};var uu=function(t,r){if(t===void 0&&(t=[]),r===void 0&&(r=h3),this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(var o=(this.length>>1)-1;o>=0;o--)this._down(o)};function h3(t,r){return t<r?-1:t>r?1:0}function f3(t,r,o){r===void 0&&(r=1),o===void 0&&(o=!1);for(var p=1/0,d=1/0,y=-1/0,v=-1/0,w=t[0],E=0;E<w.length;E++){var A=w[E];(!E||A.x<p)&&(p=A.x),(!E||A.y<d)&&(d=A.y),(!E||A.x>y)&&(y=A.x),(!E||A.y>v)&&(v=A.y)}var R=y-p,B=v-d,q=Math.min(R,B),j=q/2,W=new uu([],d3);if(q===0)return new M(p,d);for(var nt=p;nt<y;nt+=q)for(var ot=d;ot<v;ot+=q)W.push(new cu(nt+j,ot+j,j,t));for(var pt=function(Et){for(var Rt=0,Ft=0,Lt=0,ie=Et[0],ye=0,ce=ie.length,ge=ce-1;ye<ce;ge=ye++){var pe=ie[ye],ae=ie[ge],Xt=pe.x*ae.y-ae.x*pe.y;Ft+=(pe.x+ae.x)*Xt,Lt+=(pe.y+ae.y)*Xt,Rt+=3*Xt}return new cu(Ft/Rt,Lt/Rt,0,Et)}(t),wt=W.length;W.length;){var St=W.pop();(St.d>pt.d||!pt.d)&&(pt=St,o&&console.log("found best %d after %d probes",Math.round(1e4*St.d)/1e4,wt)),St.max-pt.d<=r||(j=St.h/2,W.push(new cu(St.p.x-j,St.p.y-j,j,t)),W.push(new cu(St.p.x+j,St.p.y-j,j,t)),W.push(new cu(St.p.x-j,St.p.y+j,j,t)),W.push(new cu(St.p.x+j,St.p.y+j,j,t)),wt+=4)}return o&&(console.log("num probes: "+wt),console.log("best distance: "+pt.d)),pt.p}function d3(t,r){return r.max-t.max}function cu(t,r,o,p){this.p=new M(t,r),this.h=o,this.d=function(d,y){for(var v=!1,w=1/0,E=0;E<y.length;E++)for(var A=y[E],R=0,B=A.length,q=B-1;R<B;q=R++){var j=A[R],W=A[q];j.y>d.y!=W.y>d.y&&d.x<(W.x-j.x)*(d.y-j.y)/(W.y-j.y)+j.x&&(v=!v),w=Math.min(w,Ky(d,j,W))}return(v?1:-1)*Math.sqrt(w)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}uu.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},uu.prototype.pop=function(){if(this.length!==0){var t=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),t}},uu.prototype.peek=function(){return this.data[0]},uu.prototype._up=function(t){for(var r=this.data,o=this.compare,p=r[t];t>0;){var d=t-1>>1,y=r[d];if(o(p,y)>=0)break;r[t]=y,t=d}r[t]=p},uu.prototype._down=function(t){for(var r=this.data,o=this.compare,p=this.length>>1,d=r[t];t<p;){var y=1+(t<<1),v=r[y],w=y+1;if(w<this.length&&o(r[w],v)<0&&(y=w,v=r[w]),o(v,d)>=0)break;r[t]=v,t=y}r[t]=d};var n1=Number.POSITIVE_INFINITY;function B0(t,r){return r[1]!==n1?function(o,p,d){var y=0,v=0;switch(p=Math.abs(p),d=Math.abs(d),o){case"top-right":case"top-left":case"top":v=d-7;break;case"bottom-right":case"bottom-left":case"bottom":v=7-d}switch(o){case"top-right":case"bottom-right":case"right":y=-p;break;case"top-left":case"bottom-left":case"left":y=p}return[y,v]}(t,r[0],r[1]):function(o,p){var d=0,y=0;p<0&&(p=0);var v=p/Math.sqrt(2);switch(o){case"top-right":case"top-left":y=v-7;break;case"bottom-right":case"bottom-left":y=7-v;break;case"bottom":y=7-p;break;case"top":y=p-7}switch(o){case"top-right":case"bottom-right":d=-v;break;case"top-left":case"bottom-left":d=v;break;case"left":d=p;break;case"right":d=-p}return[d,y]}(t,r[0])}function i1(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function F0(t,r,o,p,d,y,v,w,E,A,R,B,q,j){var W=function(St,Et,Rt,Ft,Lt,ie,ye,ce){for(var ge=Ft.layout.get("text-rotate").evaluate(ie,{})*Math.PI/180,pe=[],ae=0,Xt=Et.positionedLines;ae<Xt.length;ae+=1)for(var er=Xt[ae],Br=0,xr=er.positionedGlyphs;Br<xr.length;Br+=1){var Ne=xr[Br];if(Ne.rect){var rr=Ne.rect||{},ur=4,Ze=!0,sr=1,wr=0,un=(Lt||ce)&&Ne.vertical,yn=Ne.metrics.advance*Ne.scale/2;if(ce&&Et.verticalizable){var ci=24*(Ne.scale-1),pi=(24-Ne.metrics.width*Ne.scale)/2;wr=er.lineOffset/2-(Ne.imageName?-pi:ci)}if(Ne.imageName){var kn=ye[Ne.imageName];Ze=kn.sdf,ur=1/(sr=kn.pixelRatio)}var Yn=Lt?[Ne.x+yn,Ne.y]:[0,0],ri=Lt?[0,0]:[Ne.x+yn+Rt[0],Ne.y+Rt[1]-wr],hi=[0,0];un&&(hi=ri,ri=[0,0]);var jn=(Ne.metrics.left-ur)*Ne.scale-yn+ri[0],cn=(-Ne.metrics.top-ur)*Ne.scale+ri[1],Pn=jn+rr.w*Ne.scale/sr,hr=cn+rr.h*Ne.scale/sr,Or=new M(jn,cn),Gr=new M(Pn,cn),Xr=new M(jn,hr),$n=new M(Pn,hr);if(un){var $r=new M(-yn,yn- -17),ni=-Math.PI/2,bn=12-yn,Yo=Ne.imageName?bn:0,fi=new M(22-bn,-Yo),_i=new(Function.prototype.bind.apply(M,[null].concat(hi)));Or._rotateAround(ni,$r)._add(fi)._add(_i),Gr._rotateAround(ni,$r)._add(fi)._add(_i),Xr._rotateAround(ni,$r)._add(fi)._add(_i),$n._rotateAround(ni,$r)._add(fi)._add(_i)}if(ge){var vo=Math.sin(ge),Jn=Math.cos(ge),Do=[Jn,-vo,vo,Jn];Or._matMult(Do),Gr._matMult(Do),Xr._matMult(Do),$n._matMult(Do)}var va=new M(0,0),Jo=new M(0,0);pe.push({tl:Or,tr:Gr,bl:Xr,br:$n,tex:rr,writingMode:Et.writingMode,glyphOffset:Yn,sectionIndex:Ne.sectionIndex,isSDF:Ze,pixelOffsetTL:va,pixelOffsetBR:Jo,minFontScaleX:0,minFontScaleY:0})}}return pe}(0,o,w,d,y,v,p,t.allowVerticalPlacement),nt=t.textSizeData,ot=null;nt.kind==="source"?(ot=[128*d.layout.get("text-size").evaluate(v,{})])[0]>32640&&Zt(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):nt.kind==="composite"&&((ot=[128*j.compositeTextSizes[0].evaluate(v,{}),128*j.compositeTextSizes[1].evaluate(v,{})])[0]>32640||ot[1]>32640)&&Zt(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,W,ot,w,y,v,A,r,E.lineStartIndex,E.lineLength,q);for(var pt=0,wt=R;pt<wt.length;pt+=1)B[wt[pt]]=t.text.placedSymbolArray.length-1;return 4*W.length}function N0(t){for(var r in t)return t[r];return null}function m3(t,r,o,p){var d=t.compareText;if(r in d){for(var y=d[r],v=y.length-1;v>=0;v--)if(p.dist(y[v])<o)return!0}else d[r]=[];return d[r].push(p),!1}var y3=iu.VectorTileFeature.types,g3=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ph(t,r,o,p,d,y,v,w,E,A,R,B,q){var j=w?Math.min(32640,Math.round(w[0])):0,W=w?Math.min(32640,Math.round(w[1])):0;t.emplaceBack(r,o,Math.round(32*p),Math.round(32*d),y,v,(j<<1)+(E?1:0),W,16*A,16*R,256*B,256*q)}function o1(t,r,o){t.emplaceBack(r.x,r.y,o),t.emplaceBack(r.x,r.y,o),t.emplaceBack(r.x,r.y,o),t.emplaceBack(r.x,r.y,o)}function v3(t){for(var r=0,o=t.sections;r<o.length;r+=1)if(Ud(o[r].text))return!0;return!1}var zc=function(t){this.layoutVertexArray=new L,this.indexArray=new Mt,this.programConfigurations=t,this.segments=new He,this.dynamicLayoutVertexArray=new Z,this.opacityVertexArray=new Y,this.placedSymbolArray=new le};zc.prototype.upload=function(t,r,o,p){o&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Qd.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Wx.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,g3,!0),this.opacityVertexBuffer.itemSize=1),(o||p)&&this.programConfigurations.upload(t)},zc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},me("SymbolBuffers",zc);var hl=function(t,r,o){this.layoutVertexArray=new t,this.layoutAttributes=r,this.indexArray=new o,this.segments=new He,this.collisionVertexArray=new J};hl.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Hx.members,!0)},hl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},me("CollisionBuffers",hl);var jr=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(v){return v.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasPaintOverrides=!1,this.hasRTLText=!1;var r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=r1(this.zoom,r["text-size"]),this.iconSizeData=r1(this.zoom,r["icon-size"]);var o=this.layers[0].layout,p=o.get("symbol-sort-key"),d=o.get("symbol-z-order");this.sortFeaturesByKey=d!=="viewport-y"&&p.constantOr(1)!==void 0;var y=d==="viewport-y"||d==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=y&&(o.get("text-allow-overlap")||o.get("icon-allow-overlap")||o.get("text-ignore-placement")||o.get("icon-ignore-placement")),o.get("symbol-placement")==="point"&&(this.writingModes=o.get("text-writing-mode").map(function(v){return ao[v]})),this.stateDependentLayerIds=this.layers.filter(function(v){return v.isStateDependent()}).map(function(v){return v.id}),this.sourceID=t.sourceID};jr.prototype.createArrays=function(){var t=this.layers[0].layout;this.hasPaintOverrides=U0.hasPaintOverrides(t),this.text=new zc(new oo(Qd.members,this.layers,this.zoom,function(r){return/^text/.test(r)})),this.icon=new zc(new oo(Qd.members,this.layers,this.zoom,function(r){return/^icon/.test(r)})),this.textCollisionBox=new hl(tt,g0.members,zt),this.iconCollisionBox=new hl(tt,g0.members,zt),this.textCollisionCircle=new hl(tt,v0.members,Mt),this.iconCollisionCircle=new hl(tt,v0.members,Mt),this.glyphOffsetArray=new Fe,this.lineVertexArray=new Ye,this.symbolInstances=new je},jr.prototype.calculateGlyphDependencies=function(t,r,o,p,d){for(var y=0;y<t.length;y++)if(r[t.charCodeAt(y)]=!0,(o||p)&&d){var v=Ac[t.charAt(y)];v&&(r[v.charCodeAt(0)]=!0)}},jr.prototype.populate=function(t,r){var o=this.layers[0],p=o.layout,d=p.get("text-font"),y=p.get("text-field"),v=p.get("icon-image"),w=(y.value.kind!=="constant"||y.value.value instanceof we&&!y.value.value.isEmpty()||y.value.value.toString().length>0)&&(d.value.kind!=="constant"||d.value.value.length>0),E=(v.value.kind!=="constant"||!!v.value.value)&&Object.keys(v.parameters).length>0,A=p.get("symbol-sort-key");if(this.features=[],w||E){for(var R=r.iconDependencies,B=r.glyphDependencies,q=r.availableImages,j=new Wr(this.zoom),W=0,nt=t;W<nt.length;W+=1){var ot=nt[W],pt=ot.feature,wt=ot.id,St=ot.index,Et=ot.sourceLayerIndex;if(o._featureFilter(j,pt)){var Rt=void 0;if(w){var Ft=o.getValueAndResolveTokens("text-field",pt,q),Lt=we.factory(Ft);v3(Lt)&&(this.hasRTLText=!0),(!this.hasRTLText||al()==="unavailable"||this.hasRTLText&&Gn.isParsed())&&(Rt=Gx(Lt,o,pt))}var ie=void 0;if(E){var ye=o.getValueAndResolveTokens("icon-image",pt,q);ie=ye instanceof Ie?ye:Ie.fromString(ye)}if(Rt||ie){var ce=this.sortFeaturesByKey?A.evaluate(pt,{}):void 0,ge={id:wt,text:Rt,icon:ie,index:St,sourceLayerIndex:Et,geometry:tu(pt),properties:pt.properties,type:y3[pt.type],sortKey:ce};if(this.features.push(ge),ie&&(R[ie.name]=!0),Rt){var pe=d.evaluate(pt,{}).join(","),ae=p.get("text-rotation-alignment")==="map"&&p.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ao.vertical)>=0;for(var Xt=0,er=Rt.sections;Xt<er.length;Xt+=1){var Br=er[Xt];if(Br.image)R[Br.image.name]=!0;else{var xr=Wa(Rt.toString()),Ne=Br.fontStack||pe,rr=B[Ne]=B[Ne]||{};this.calculateGlyphDependencies(Br.text,rr,ae,this.allowVerticalPlacement,xr)}}}}}}p.get("symbol-placement")==="line"&&(this.features=function(ur){var Ze={},sr={},wr=[],un=0;function yn(Gr){wr.push(ur[Gr]),un++}function ci(Gr,Xr,$n){var $r=sr[Gr];return delete sr[Gr],sr[Xr]=$r,wr[$r].geometry[0].pop(),wr[$r].geometry[0]=wr[$r].geometry[0].concat($n[0]),$r}function pi(Gr,Xr,$n){var $r=Ze[Xr];return delete Ze[Xr],Ze[Gr]=$r,wr[$r].geometry[0].shift(),wr[$r].geometry[0]=$n[0].concat(wr[$r].geometry[0]),$r}function kn(Gr,Xr,$n){var $r=$n?Xr[0][Xr[0].length-1]:Xr[0][0];return Gr+":"+$r.x+":"+$r.y}for(var Yn=0;Yn<ur.length;Yn++){var ri=ur[Yn],hi=ri.geometry,jn=ri.text?ri.text.toString():null;if(jn){var cn=kn(jn,hi),Pn=kn(jn,hi,!0);if(cn in sr&&Pn in Ze&&sr[cn]!==Ze[Pn]){var hr=pi(cn,Pn,hi),Or=ci(cn,Pn,wr[hr].geometry);delete Ze[cn],delete sr[Pn],sr[kn(jn,wr[Or].geometry,!0)]=Or,wr[hr].geometry=null}else cn in sr?ci(cn,Pn,hi):Pn in Ze?pi(cn,Pn,hi):(yn(Yn),Ze[cn]=un-1,sr[Pn]=un-1)}else yn(Yn)}return wr.filter(function(Gr){return Gr.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(ur,Ze){return ur.sortKey-Ze.sortKey})}},jr.prototype.update=function(t,r,o){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,r,this.layers,o),this.icon.programConfigurations.updatePaintArrays(t,r,this.layers,o))},jr.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},jr.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},jr.prototype.upload=function(t){this.uploaded||(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t),this.textCollisionCircle.upload(t),this.iconCollisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},jr.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},jr.prototype.addToLineVertexArray=function(t,r){var o=this.lineVertexArray.length;if(t.segment!==void 0){for(var p=t.dist(r[t.segment+1]),d=t.dist(r[t.segment]),y={},v=t.segment+1;v<r.length;v++)y[v]={x:r[v].x,y:r[v].y,tileUnitDistanceFromAnchor:p},v<r.length-1&&(p+=r[v+1].dist(r[v]));for(var w=t.segment||0;w>=0;w--)y[w]={x:r[w].x,y:r[w].y,tileUnitDistanceFromAnchor:d},w>0&&(d+=r[w-1].dist(r[w]));for(var E=0;E<r.length;E++){var A=y[E];this.lineVertexArray.emplaceBack(A.x,A.y,A.tileUnitDistanceFromAnchor)}}return{lineStartIndex:o,lineLength:this.lineVertexArray.length-o}},jr.prototype.addSymbols=function(t,r,o,p,d,y,v,w,E,A,R){var B=this,q=t.indexArray,j=t.layoutVertexArray,W=t.dynamicLayoutVertexArray,nt=t.segments.prepareSegment(4*r.length,t.layoutVertexArray,t.indexArray,y.sortKey),ot=this.glyphOffsetArray.length,pt=nt.vertexLength,wt=this.allowVerticalPlacement&&v===ao.vertical?Math.PI/2:0,St=function(Xt){var er=Xt.tl,Br=Xt.tr,xr=Xt.bl,Ne=Xt.br,rr=Xt.tex,ur=Xt.pixelOffsetTL,Ze=Xt.pixelOffsetBR,sr=Xt.minFontScaleX,wr=Xt.minFontScaleY,un=nt.vertexLength,yn=Xt.glyphOffset[1];Ph(j,w.x,w.y,er.x,yn+er.y,rr.x,rr.y,o,Xt.isSDF,ur.x,ur.y,sr,wr),Ph(j,w.x,w.y,Br.x,yn+Br.y,rr.x+rr.w,rr.y,o,Xt.isSDF,Ze.x,ur.y,sr,wr),Ph(j,w.x,w.y,xr.x,yn+xr.y,rr.x,rr.y+rr.h,o,Xt.isSDF,ur.x,Ze.y,sr,wr),Ph(j,w.x,w.y,Ne.x,yn+Ne.y,rr.x+rr.w,rr.y+rr.h,o,Xt.isSDF,Ze.x,Ze.y,sr,wr),o1(W,w,wt),q.emplaceBack(un,un+1,un+2),q.emplaceBack(un+1,un+2,un+3),nt.vertexLength+=4,nt.primitiveLength+=2,B.glyphOffsetArray.emplaceBack(Xt.glyphOffset[0])};if(y.text&&y.text.sections){var Et=y.text.sections;if(this.hasPaintOverrides){for(var Rt,Ft=function(Xt,er){Rt===void 0||Rt===Xt&&!er||t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,y,y.index,{},Et[Rt]),Rt=Xt},Lt=0,ie=r;Lt<ie.length;Lt+=1){var ye=ie[Lt];Ft(ye.sectionIndex,!1),St(ye)}Ft(Rt,!0)}else{for(var ce=0,ge=r;ce<ge.length;ce+=1)St(ge[ce]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,y,y.index,{},Et[0])}}else{for(var pe=0,ae=r;pe<ae.length;pe+=1)St(ae[pe]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,y,y.index,{})}t.placedSymbolArray.emplaceBack(w.x,w.y,ot,this.glyphOffsetArray.length-ot,pt,E,A,w.segment,o?o[0]:0,o?o[1]:0,p[0],p[1],v,0,!1,0,R)},jr.prototype._addCollisionDebugVertex=function(t,r,o,p,d,y){return r.emplaceBack(0,0),t.emplaceBack(o.x,o.y,p,d,Math.round(y.x),Math.round(y.y))},jr.prototype.addCollisionDebugVertices=function(t,r,o,p,d,y,v,w){var E=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),A=E.vertexLength,R=d.layoutVertexArray,B=d.collisionVertexArray,q=v.anchorX,j=v.anchorY;if(this._addCollisionDebugVertex(R,B,y,q,j,new M(t,r)),this._addCollisionDebugVertex(R,B,y,q,j,new M(o,r)),this._addCollisionDebugVertex(R,B,y,q,j,new M(o,p)),this._addCollisionDebugVertex(R,B,y,q,j,new M(t,p)),E.vertexLength+=4,w){var W=d.indexArray;W.emplaceBack(A,A+1,A+2),W.emplaceBack(A,A+2,A+3),E.primitiveLength+=2}else{var nt=d.indexArray;nt.emplaceBack(A,A+1),nt.emplaceBack(A+1,A+2),nt.emplaceBack(A+2,A+3),nt.emplaceBack(A+3,A),E.primitiveLength+=4}},jr.prototype.addDebugCollisionBoxes=function(t,r,o,p){for(var d=t;d<r;d++){var y=this.collisionBoxArray.get(d),v=y.x1,w=y.y1,E=y.x2,A=y.y2,R=y.radius>0;this.addCollisionDebugVertices(v,w,E,A,R?p?this.textCollisionCircle:this.iconCollisionCircle:p?this.textCollisionBox:this.iconCollisionBox,y.anchorPoint,o,R)}},jr.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.addDebugCollisionBoxes(r.textBoxStartIndex,r.textBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.iconBoxStartIndex,r.iconBoxEndIndex,r,!1),this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex,r,!1)}},jr.prototype._deserializeCollisionBoxesForSymbol=function(t,r,o,p,d,y,v,w,E){for(var A={},R=r;R<o;R++){var B=t.get(R);if(B.radius===0){A.textBox={x1:B.x1,y1:B.y1,x2:B.x2,y2:B.y2,anchorPointX:B.anchorPointX,anchorPointY:B.anchorPointY},A.textFeatureIndex=B.featureIndex;break}A.textCircles||(A.textCircles=[],A.textFeatureIndex=B.featureIndex),A.textCircles.push(B.anchorPointX,B.anchorPointY,B.radius,B.signedDistanceFromAnchor,1)}for(var q=p;q<d;q++){var j=t.get(q);if(j.radius===0){A.verticalTextBox={x1:j.x1,y1:j.y1,x2:j.x2,y2:j.y2,anchorPointX:j.anchorPointX,anchorPointY:j.anchorPointY},A.verticalTextFeatureIndex=j.featureIndex;break}}for(var W=y;W<v;W++){var nt=t.get(W);if(nt.radius===0){A.iconBox={x1:nt.x1,y1:nt.y1,x2:nt.x2,y2:nt.y2,anchorPointX:nt.anchorPointX,anchorPointY:nt.anchorPointY},A.iconFeatureIndex=nt.featureIndex;break}}for(var ot=w;ot<E;ot++){var pt=t.get(ot);if(pt.radius===0){A.verticalIconBox={x1:pt.x1,y1:pt.y1,x2:pt.x2,y2:pt.y2,anchorPointX:pt.anchorPointX,anchorPointY:pt.anchorPointY},A.verticalIconFeatureIndex=pt.featureIndex;break}}return A},jr.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var r=0;r<this.symbolInstances.length;r++){var o=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,o.textBoxStartIndex,o.textBoxEndIndex,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o.iconBoxStartIndex,o.iconBoxEndIndex,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex))}},jr.prototype.hasTextData=function(){return this.text.segments.get().length>0},jr.prototype.hasIconData=function(){return this.icon.segments.get().length>0},jr.prototype.hasTextCollisionBoxData=function(){return this.textCollisionBox.segments.get().length>0},jr.prototype.hasIconCollisionBoxData=function(){return this.iconCollisionBox.segments.get().length>0},jr.prototype.hasTextCollisionCircleData=function(){return this.textCollisionCircle.segments.get().length>0},jr.prototype.hasIconCollisionCircleData=function(){return this.iconCollisionCircle.segments.get().length>0},jr.prototype.addIndicesForPlacedSymbol=function(t,r){for(var o=t.placedSymbolArray.get(r),p=o.vertexStartIndex+4*o.numGlyphs,d=o.vertexStartIndex;d<p;d+=4)t.indexArray.emplaceBack(d,d+1,d+2),t.indexArray.emplaceBack(d+1,d+2,d+3)},jr.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var r=Math.sin(t),o=Math.cos(t),p=[],d=[],y=[],v=0;v<this.symbolInstances.length;++v){y.push(v);var w=this.symbolInstances.get(v);p.push(0|Math.round(r*w.anchorX+o*w.anchorY)),d.push(w.featureIndex)}return y.sort(function(E,A){return p[E]-p[A]||d[A]-d[E]}),y},jr.prototype.sortFeatures=function(t){var r=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var o=0,p=this.symbolInstanceIndexes;o<p.length;o+=1){var d=p[o],y=this.symbolInstances.get(d);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach(function(v,w,E){v>=0&&E.indexOf(v)===w&&r.addIndicesForPlacedSymbol(r.text,v)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},me("SymbolBucket",jr,{omit:["layers","collisionBoxArray","features","compareText"]}),jr.MAX_GLYPHS=65535,jr.addDynamicAttributes=o1;var _3=new Bi({"symbol-placement":new _e(At.layout_symbol["symbol-placement"]),"symbol-spacing":new _e(At.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new _e(At.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ce(At.layout_symbol["symbol-sort-key"]),"symbol-z-order":new _e(At.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new _e(At.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new _e(At.layout_symbol["icon-ignore-placement"]),"icon-optional":new _e(At.layout_symbol["icon-optional"]),"icon-rotation-alignment":new _e(At.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ce(At.layout_symbol["icon-size"]),"icon-text-fit":new _e(At.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new _e(At.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ce(At.layout_symbol["icon-image"]),"icon-rotate":new Ce(At.layout_symbol["icon-rotate"]),"icon-padding":new _e(At.layout_symbol["icon-padding"]),"icon-keep-upright":new _e(At.layout_symbol["icon-keep-upright"]),"icon-offset":new Ce(At.layout_symbol["icon-offset"]),"icon-anchor":new Ce(At.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new _e(At.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new _e(At.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new _e(At.layout_symbol["text-rotation-alignment"]),"text-field":new Ce(At.layout_symbol["text-field"]),"text-font":new Ce(At.layout_symbol["text-font"]),"text-size":new Ce(At.layout_symbol["text-size"]),"text-max-width":new Ce(At.layout_symbol["text-max-width"]),"text-line-height":new _e(At.layout_symbol["text-line-height"]),"text-letter-spacing":new Ce(At.layout_symbol["text-letter-spacing"]),"text-justify":new Ce(At.layout_symbol["text-justify"]),"text-radial-offset":new Ce(At.layout_symbol["text-radial-offset"]),"text-variable-anchor":new _e(At.layout_symbol["text-variable-anchor"]),"text-anchor":new Ce(At.layout_symbol["text-anchor"]),"text-max-angle":new _e(At.layout_symbol["text-max-angle"]),"text-writing-mode":new _e(At.layout_symbol["text-writing-mode"]),"text-rotate":new Ce(At.layout_symbol["text-rotate"]),"text-padding":new _e(At.layout_symbol["text-padding"]),"text-keep-upright":new _e(At.layout_symbol["text-keep-upright"]),"text-transform":new Ce(At.layout_symbol["text-transform"]),"text-offset":new Ce(At.layout_symbol["text-offset"]),"text-allow-overlap":new _e(At.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new _e(At.layout_symbol["text-ignore-placement"]),"text-optional":new _e(At.layout_symbol["text-optional"])}),Ih={paint:new Bi({"icon-opacity":new Ce(At.paint_symbol["icon-opacity"]),"icon-color":new Ce(At.paint_symbol["icon-color"]),"icon-halo-color":new Ce(At.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ce(At.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ce(At.paint_symbol["icon-halo-blur"]),"icon-translate":new _e(At.paint_symbol["icon-translate"]),"icon-translate-anchor":new _e(At.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ce(At.paint_symbol["text-opacity"]),"text-color":new Ce(At.paint_symbol["text-color"],{runtimeType:mt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new Ce(At.paint_symbol["text-halo-color"]),"text-halo-width":new Ce(At.paint_symbol["text-halo-width"]),"text-halo-blur":new Ce(At.paint_symbol["text-halo-blur"]),"text-translate":new _e(At.paint_symbol["text-translate"]),"text-translate-anchor":new _e(At.paint_symbol["text-translate-anchor"])}),layout:_3},pu=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:F,this.defaultValue=t};pu.prototype.evaluate=function(t){if(t.formattedSection){var r=this.defaultValue.property.overrides;if(r&&r.hasOverride(t.formattedSection))return r.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},pu.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},pu.prototype.possibleOutputs=function(){return[void 0]},pu.prototype.serialize=function(){return null},me("FormatSectionOverride",pu,{omit:["defaultValue"]});var U0=function(t){function r(o){t.call(this,o,Ih)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.recalculate=function(o,p){if(t.prototype.recalculate.call(this,o,p),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var d=this.layout.get("text-writing-mode");if(d){for(var y=[],v=0,w=d;v<w.length;v+=1){var E=w[v];y.indexOf(E)<0&&y.push(E)}this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},r.prototype.getValueAndResolveTokens=function(o,p,d){var y=this.layout.get(o).evaluate(p,{},d),v=this._unevaluatedLayout._values[o];return v.isDataDriven()||Nl(v.value)||!y?y:function(w,E){return E.replace(/{([^{}]+)}/g,function(A,R){return R in w?String(w[R]):""})}(p.properties,y)},r.prototype.createBucket=function(o){return new jr(o)},r.prototype.queryRadius=function(){return 0},r.prototype.queryIntersectsFeature=function(){return!1},r.prototype._setPaintOverrides=function(){for(var o=0,p=Ih.paint.overridableProperties;o<p.length;o+=1){var d=p[o];if(r.hasPaintOverride(this.layout,d)){var y=this.paint.get(d),v=new pu(y),w=new nl(v,y.property.specification),E=null;E=y.value.kind==="constant"||y.value.kind==="source"?new ws("source",w):new Cs("composite",w,y.value.zoomStops,y.value._interpolationType),this.paint._values[d]=new Li(y.property,E,y.parameters)}}},r.prototype._handleOverridablePaintPropertyUpdate=function(o,p,d){return!(!this.layout||p.isDataDriven()||d.isDataDriven())&&r.hasPaintOverride(this.layout,o)},r.hasPaintOverride=function(o,p){var d=o.get("text-field"),y=Ih.paint.properties[p],v=!1,w=function(R){for(var B=0,q=R;B<q.length;B+=1){var j=q[B];if(y.overrides&&y.overrides.hasOverride(j))return void(v=!0)}};if(d.value.kind==="constant"&&d.value.value instanceof we)w(d.value.value.sections);else if(d.value.kind==="source"){var E=function(R){if(!v)if(R instanceof Tr&&Le(R.value)===Ot){var B=R.value;w(B.sections)}else R instanceof qr?w(R.sections):R.eachChild(E)},A=d.value;A._styleExpression&&E(A._styleExpression.expression)}return v},r.hasPaintOverrides=function(o){for(var p=0,d=Ih.paint.overridableProperties;p<d.length;p+=1){var y=d[p];if(r.hasPaintOverride(o,y))return!0}return!1},r}(yo),b3={paint:new Bi({"background-color":new _e(At.paint_background["background-color"]),"background-pattern":new As(At.paint_background["background-pattern"]),"background-opacity":new _e(At.paint_background["background-opacity"])})},x3=function(t){function r(o){t.call(this,o,b3)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(yo),w3={paint:new Bi({"raster-opacity":new _e(At.paint_raster["raster-opacity"]),"raster-hue-rotate":new _e(At.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new _e(At.paint_raster["raster-brightness-min"]),"raster-brightness-max":new _e(At.paint_raster["raster-brightness-max"]),"raster-saturation":new _e(At.paint_raster["raster-saturation"]),"raster-contrast":new _e(At.paint_raster["raster-contrast"]),"raster-resampling":new _e(At.paint_raster["raster-resampling"]),"raster-fade-duration":new _e(At.paint_raster["raster-fade-duration"])})},C3=function(t){function r(o){t.call(this,o,w3)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(yo),S3=function(t){function r(o){t.call(this,o,{}),this.implementation=o}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},r.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},r.prototype.recalculate=function(){},r.prototype.updateTransitions=function(){},r.prototype.hasTransition=function(){},r.prototype.serialize=function(){},r.prototype.onAdd=function(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)},r.prototype.onRemove=function(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)},r}(yo),E3={circle:hx,heatmap:dx,hillshade:yx,fill:Ox,"fill-extrusion":Vx,line:qx,symbol:U0,background:x3,raster:C3},V0=self.HTMLImageElement,j0=self.HTMLCanvasElement,$0=self.HTMLVideoElement,Z0=self.ImageData,Mh=self.ImageBitmap,fl=function(t,r,o,p){this.context=t,this.format=o,this.texture=t.gl.createTexture(),this.update(r,p)};fl.prototype.update=function(t,r,o){var p=t.width,d=t.height,y=!(this.size&&this.size[0]===p&&this.size[1]===d||o),v=this.context,w=v.gl;if(this.useMipmap=!!(r&&r.useMipmap),w.bindTexture(w.TEXTURE_2D,this.texture),v.pixelStoreUnpackFlipY.set(!1),v.pixelStoreUnpack.set(1),v.pixelStoreUnpackPremultiplyAlpha.set(this.format===w.RGBA&&(!r||r.premultiply!==!1)),y)this.size=[p,d],t instanceof V0||t instanceof j0||t instanceof $0||t instanceof Z0||Mh&&t instanceof Mh?w.texImage2D(w.TEXTURE_2D,0,this.format,this.format,w.UNSIGNED_BYTE,t):w.texImage2D(w.TEXTURE_2D,0,this.format,p,d,0,this.format,w.UNSIGNED_BYTE,t.data);else{var E=o||{x:0,y:0},A=E.x,R=E.y;t instanceof V0||t instanceof j0||t instanceof $0||t instanceof Z0||Mh&&t instanceof Mh?w.texSubImage2D(w.TEXTURE_2D,0,A,R,w.RGBA,w.UNSIGNED_BYTE,t):w.texSubImage2D(w.TEXTURE_2D,0,A,R,p,d,w.RGBA,w.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&w.generateMipmap(w.TEXTURE_2D)},fl.prototype.bind=function(t,r,o){var p=this.context.gl;p.bindTexture(p.TEXTURE_2D,this.texture),o!==p.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(o=p.LINEAR),t!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,t),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,o||t),this.filter=t),r!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,r),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,r),this.wrap=r)},fl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},fl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var a1=function(t){var r=this;this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){r._triggered=!1,r._callback()})};a1.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){t._triggered=!1,t._callback()},0))},a1.prototype.remove=function(){delete this._channel,this._callback=function(){}};var hu=function(t,r,o){this.target=t,this.parent=r,this.mapId=o,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},yt(["receive","process"],this),this.invoker=new a1(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Nt()?t:self};function q0(t,r,o){var p=2*Math.PI*6378137/256/Math.pow(2,o);return[t*p-2*Math.PI*6378137/2,r*p-2*Math.PI*6378137/2]}hu.prototype.send=function(t,r,o,p,d){var y=this;d===void 0&&(d=!1);var v=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(this.callbacks[v]=o);var w=be(this.globalScope)?void 0:[];return this.target.postMessage({id:v,type:t,hasCallback:!!o,targetMapId:p,mustQueue:d,sourceMapId:this.mapId,data:Is(r,w)},w),{cancel:function(){o&&delete y.callbacks[v],y.target.postMessage({id:v,type:"<cancel>",targetMapId:p,sourceMapId:y.mapId})}}},hu.prototype.receive=function(t){var r=t.data,o=r.id;if(o&&(!r.targetMapId||this.mapId===r.targetMapId))if(r.type==="<cancel>"){delete this.tasks[o];var p=this.cancelCallbacks[o];delete this.cancelCallbacks[o],p&&p()}else Nt()||r.mustQueue?(this.tasks[o]=r,this.taskQueue.push(o),this.invoker.trigger()):this.processTask(o,r)},hu.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),r=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),r&&this.processTask(t,r)}},hu.prototype.processTask=function(t,r){var o=this;if(r.type==="<response>"){var p=this.callbacks[t];delete this.callbacks[t],p&&(r.error?p(Bn(r.error)):p(null,Bn(r.data)))}else{var d=!1,y=be(this.globalScope)?void 0:[],v=r.hasCallback?function(R,B){d=!0,delete o.cancelCallbacks[t],o.target.postMessage({id:t,type:"<response>",sourceMapId:o.mapId,error:R?Is(R):null,data:Is(B,y)},y)}:function(R){d=!0},w=null,E=Bn(r.data);if(this.parent[r.type])w=this.parent[r.type](r.sourceMapId,E,v);else if(this.parent.getWorkerSource){var A=r.type.split(".");w=this.parent.getWorkerSource(r.sourceMapId,A[0],E.source)[A[1]](E,v)}else v(new Error("Could not find function "+r.type));!d&&w&&w.cancel&&(this.cancelCallbacks[t]=w.cancel)}},hu.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Nn=function(t,r){t&&(r?this.setSouthWest(t).setNorthEast(r):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Nn.prototype.setNorthEast=function(t){return this._ne=t instanceof mn?new mn(t.lng,t.lat):mn.convert(t),this},Nn.prototype.setSouthWest=function(t){return this._sw=t instanceof mn?new mn(t.lng,t.lat):mn.convert(t),this},Nn.prototype.extend=function(t){var r,o,p=this._sw,d=this._ne;if(t instanceof mn)r=t,o=t;else{if(!(t instanceof Nn))return Array.isArray(t)?t.every(Array.isArray)?this.extend(Nn.convert(t)):this.extend(mn.convert(t)):this;if(r=t._sw,o=t._ne,!r||!o)return this}return p||d?(p.lng=Math.min(r.lng,p.lng),p.lat=Math.min(r.lat,p.lat),d.lng=Math.max(o.lng,d.lng),d.lat=Math.max(o.lat,d.lat)):(this._sw=new mn(r.lng,r.lat),this._ne=new mn(o.lng,o.lat)),this},Nn.prototype.getCenter=function(){return new mn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Nn.prototype.getSouthWest=function(){return this._sw},Nn.prototype.getNorthEast=function(){return this._ne},Nn.prototype.getNorthWest=function(){return new mn(this.getWest(),this.getNorth())},Nn.prototype.getSouthEast=function(){return new mn(this.getEast(),this.getSouth())},Nn.prototype.getWest=function(){return this._sw.lng},Nn.prototype.getSouth=function(){return this._sw.lat},Nn.prototype.getEast=function(){return this._ne.lng},Nn.prototype.getNorth=function(){return this._ne.lat},Nn.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Nn.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Nn.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Nn.prototype.contains=function(t){var r=mn.convert(t),o=r.lng,p=r.lat,d=this._sw.lat<=p&&p<=this._ne.lat,y=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=o&&o>=this._ne.lng),d&&y},Nn.convert=function(t){return!t||t instanceof Nn?t:new Nn(t)};var mn=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid LngLat object: ("+t+", "+r+")");if(this.lng=+t,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};mn.prototype.wrap=function(){return new mn(H(this.lng,-180,180),this.lat)},mn.prototype.toArray=function(){return[this.lng,this.lat]},mn.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},mn.prototype.toBounds=function(t){t===void 0&&(t=0);var r=360*t/40075017,o=r/Math.cos(Math.PI/180*this.lat);return new Nn(new mn(this.lng-o,this.lat-r),new mn(this.lng+o,this.lat+r))},mn.convert=function(t){if(t instanceof mn)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new mn(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new mn(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var W0=2*Math.PI*6378137;function H0(t){return W0*Math.cos(t*Math.PI/180)}function G0(t){return(180+t)/360}function X0(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function K0(t,r){return t/H0(r)}function s1(t){var r=180-360*t;return 360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90}var dl=function(t,r,o){o===void 0&&(o=0),this.x=+t,this.y=+r,this.z=+o};dl.fromLngLat=function(t,r){r===void 0&&(r=0);var o=mn.convert(t);return new dl(G0(o.lng),X0(o.lat),K0(r,o.lat))},dl.prototype.toLngLat=function(){return new mn(360*this.x-180,s1(this.y))},dl.prototype.toAltitude=function(){return t=this.z,r=this.y,t*H0(s1(r));var t,r},dl.prototype.meterInMercatorCoordinateUnits=function(){return 1/W0*(t=s1(this.y),1/Math.cos(t*Math.PI/180));var t};var ml=function(t,r,o){this.z=t,this.x=r,this.y=o,this.key=Dc(0,t,t,r,o)};ml.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},ml.prototype.url=function(t,r){var o,p,d,y,v,w=(o=this.x,p=this.y,d=this.z,y=q0(256*o,256*(p=Math.pow(2,d)-p-1),d),v=q0(256*(o+1),256*(p+1),d),y[0]+","+y[1]+","+v[0]+","+v[1]),E=function(A,R,B){for(var q,j="",W=A;W>0;W--)j+=(R&(q=1<<W-1)?1:0)+(B&q?2:0);return j}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(r==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",E).replace("{bbox-epsg-3857}",w)},ml.prototype.getTilePoint=function(t){var r=Math.pow(2,this.z);return new M(8192*(t.x*r-this.x),8192*(t.y*r-this.y))},ml.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Y0=function(t,r){this.wrap=t,this.canonical=r,this.key=Dc(t,r.z,r.z,r.x,r.y)},Un=function(t,r,o,p,d){this.overscaledZ=t,this.wrap=r,this.canonical=new ml(o,+p,+d),this.key=Dc(r,t,o,p,d)};function Dc(t,r,o,p,d){(t*=2)<0&&(t=-1*t-1);var y=1<<o;return(y*y*t+y*d+p).toString(36)+o.toString(36)+r.toString(36)}Un.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Un.prototype.scaledTo=function(t){var r=this.canonical.z-t;return t>this.canonical.z?new Un(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Un(t,this.wrap,t,this.canonical.x>>r,this.canonical.y>>r)},Un.prototype.calculateScaledKey=function(t,r){var o=this.canonical.z-t;return t>this.canonical.z?Dc(this.wrap*+r,t,this.canonical.z,this.canonical.x,this.canonical.y):Dc(this.wrap*+r,t,t,this.canonical.x>>o,this.canonical.y>>o)},Un.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var r=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>r&&t.canonical.y===this.canonical.y>>r},Un.prototype.children=function(t){if(this.overscaledZ>=t)return[new Un(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var r=this.canonical.z+1,o=2*this.canonical.x,p=2*this.canonical.y;return[new Un(r,this.wrap,r,o,p),new Un(r,this.wrap,r,o+1,p),new Un(r,this.wrap,r,o,p+1),new Un(r,this.wrap,r,o+1,p+1)]},Un.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Un.prototype.wrapped=function(){return new Un(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Un.prototype.unwrapTo=function(t){return new Un(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Un.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Un.prototype.toUnwrapped=function(){return new Y0(this.wrap,this.canonical)},Un.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Un.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new dl(t.x-this.wrap,t.y))},me("CanonicalTileID",ml),me("OverscaledTileID",Un,{omit:["posMatrix"]});var Qa=function(t,r,o){if(this.uid=t,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(o&&o!=="mapbox"&&o!=="terrarium")return Zt('"'+o+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=r.height;var p=this.dim=r.height-2;this.data=new Uint32Array(r.data.buffer),this.encoding=o||"mapbox";for(var d=0;d<p;d++)this.data[this._idx(-1,d)]=this.data[this._idx(0,d)],this.data[this._idx(p,d)]=this.data[this._idx(p-1,d)],this.data[this._idx(d,-1)]=this.data[this._idx(d,0)],this.data[this._idx(d,p)]=this.data[this._idx(d,p-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(p,-1)]=this.data[this._idx(p-1,0)],this.data[this._idx(-1,p)]=this.data[this._idx(0,p-1)],this.data[this._idx(p,p)]=this.data[this._idx(p-1,p-1)]};Qa.prototype.get=function(t,r){var o=new Uint8Array(this.data.buffer),p=4*this._idx(t,r);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(o[p],o[p+1],o[p+2])},Qa.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Qa.prototype._idx=function(t,r){if(t<-1||t>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(t+1)},Qa.prototype._unpackMapbox=function(t,r,o){return(256*t*256+256*r+o)/10-1e4},Qa.prototype._unpackTerrarium=function(t,r,o){return 256*t+r+o/256-32768},Qa.prototype.getPixels=function(){return new Ui({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Qa.prototype.backfillBorder=function(t,r,o){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var p=r*this.dim,d=r*this.dim+this.dim,y=o*this.dim,v=o*this.dim+this.dim;switch(r){case-1:p=d-1;break;case 1:d=p+1}switch(o){case-1:y=v-1;break;case 1:v=y+1}for(var w=-r*this.dim,E=-o*this.dim,A=y;A<v;A++)for(var R=p;R<d;R++)this.data[this._idx(R,A)]=t.data[this._idx(R+w,A+E)]},me("DEMData",Qa);var Ah=function(t){this._stringToNumber={},this._numberToString=[];for(var r=0;r<t.length;r++){var o=t[r];this._stringToNumber[o]=r,this._numberToString[r]=o}};Ah.prototype.encode=function(t){return this._stringToNumber[t]},Ah.prototype.decode=function(t){return this._numberToString[t]};var kh=function(t,r,o,p,d){this.type="Feature",this._vectorTileFeature=t,t._z=r,t._x=o,t._y=p,this.properties=t.properties,this.id=d},l1={geometry:{configurable:!0}};l1.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},l1.geometry.set=function(t){this._geometry=t},kh.prototype.toJSON=function(){var t={geometry:this.geometry};for(var r in this)r!=="_geometry"&&r!=="_vectorTileFeature"&&(t[r]=this[r]);return t},Object.defineProperties(kh.prototype,l1);var fu=function(){this.state={},this.stateChanges={},this.deletedStates={}};fu.prototype.updateState=function(t,r,o){var p=String(r);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][p]=this.stateChanges[t][p]||{},it(this.stateChanges[t][p],o),this.deletedStates[t]===null)for(var d in this.deletedStates[t]={},this.state[t])d!==p&&(this.deletedStates[t][d]=null);else if(this.deletedStates[t]&&this.deletedStates[t][p]===null)for(var y in this.deletedStates[t][p]={},this.state[t][p])o[y]||(this.deletedStates[t][p][y]=null);else for(var v in o)this.deletedStates[t]&&this.deletedStates[t][p]&&this.deletedStates[t][p][v]===null&&delete this.deletedStates[t][p][v]},fu.prototype.removeFeatureState=function(t,r,o){if(this.deletedStates[t]!==null){var p=String(r);if(this.deletedStates[t]=this.deletedStates[t]||{},o&&r!==void 0)this.deletedStates[t][p]!==null&&(this.deletedStates[t][p]=this.deletedStates[t][p]||{},this.deletedStates[t][p][o]=null);else if(r!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][p])for(o in this.deletedStates[t][p]={},this.stateChanges[t][p])this.deletedStates[t][p][o]=null;else this.deletedStates[t][p]=null;else this.deletedStates[t]=null}},fu.prototype.getState=function(t,r){var o=String(r),p=this.state[t]||{},d=this.stateChanges[t]||{},y=it({},p[o],d[o]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){var v=this.deletedStates[t][r];if(v===null)return{};for(var w in v)delete y[w]}return y},fu.prototype.initializeTileState=function(t,r){t.setFeatureState(this.state,r)},fu.prototype.coalesceChanges=function(t,r){var o={};for(var p in this.stateChanges){this.state[p]=this.state[p]||{};var d={};for(var y in this.stateChanges[p])this.state[p][y]||(this.state[p][y]={}),it(this.state[p][y],this.stateChanges[p][y]),d[y]=this.state[p][y];o[p]=d}for(var v in this.deletedStates){this.state[v]=this.state[v]||{};var w={};if(this.deletedStates[v]===null)for(var E in this.state[v])w[E]={},this.state[v][E]={};else for(var A in this.deletedStates[v]){if(this.deletedStates[v][A]===null)this.state[v][A]={};else for(var R=0,B=Object.keys(this.deletedStates[v][A]);R<B.length;R+=1){var q=B[R];delete this.state[v][A][q]}w[A]=this.state[v][A]}o[v]=o[v]||{},it(o[v],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(o).length!==0)for(var j in t)t[j].setFeatureState(o,r)};var ts=function(t,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new qa(8192,16,0),this.grid3D=new qa(8192,16,0),this.featureIndexArray=new wn,this.promoteId=r};function J0(t){for(var r=1/0,o=1/0,p=-1/0,d=-1/0,y=0,v=t;y<v.length;y+=1){var w=v[y];r=Math.min(r,w.x),o=Math.min(o,w.y),p=Math.max(p,w.x),d=Math.max(d,w.y)}return{minX:r,minY:o,maxX:p,maxY:d}}function T3(t,r){return r-t}ts.prototype.insert=function(t,r,o,p,d,y){var v=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(o,p,d);for(var w=y?this.grid3D:this.grid,E=0;E<r.length;E++){for(var A=r[E],R=[1/0,1/0,-1/0,-1/0],B=0;B<A.length;B++){var q=A[B];R[0]=Math.min(R[0],q.x),R[1]=Math.min(R[1],q.y),R[2]=Math.max(R[2],q.x),R[3]=Math.max(R[3],q.y)}R[0]<8192&&R[1]<8192&&R[2]>=0&&R[3]>=0&&w.insert(v,R[0],R[1],R[2],R[3])}},ts.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new iu.VectorTile(new _h(this.rawTileData)).layers,this.sourceLayerCoder=new Ah(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ts.prototype.query=function(t,r,o){var p=this;this.loadVTLayers();for(var d=t.params||{},y=8192/t.tileSize/t.scale,v=ql(d.filter),w=t.queryGeometry,E=t.queryPadding*y,A=J0(w),R=this.grid.query(A.minX-E,A.minY-E,A.maxX+E,A.maxY+E),B=J0(t.cameraQueryGeometry),q=this.grid3D.query(B.minX-E,B.minY-E,B.maxX+E,B.maxY+E,function(Et,Rt,Ft,Lt){return function(ie,ye,ce,ge,pe){for(var ae=0,Xt=ie;ae<Xt.length;ae+=1){var er=Xt[ae];if(ye<=er.x&&ce<=er.y&&ge>=er.x&&pe>=er.y)return!0}var Br=[new M(ye,ce),new M(ye,pe),new M(ge,pe),new M(ge,ce)];if(ie.length>2){for(var xr=0,Ne=Br;xr<Ne.length;xr+=1)if(eu(ie,Ne[xr]))return!0}for(var rr=0;rr<ie.length-1;rr++)if(ux(ie[rr],ie[rr+1],Br))return!0;return!1}(t.cameraQueryGeometry,Et-E,Rt-E,Ft+E,Lt+E)}),j=0,W=q;j<W.length;j+=1){var nt=W[j];R.push(nt)}R.sort(T3);for(var ot,pt={},wt=function(Et){var Rt=R[Et];if(Rt!==ot){ot=Rt;var Ft=p.featureIndexArray.get(Rt),Lt=null;p.loadMatchingFeature(pt,Ft.bucketIndex,Ft.sourceLayerIndex,Ft.featureIndex,v,d.layers,r,function(ie,ye,ce){Lt||(Lt=tu(ie));var ge={};return ce!==void 0&&(ge=o.getState(ye.sourceLayer||"_geojsonTileLayer",ce)),ye.queryIntersectsFeature(w,ie,ge,Lt,p.z,t.transform,y,t.pixelPosMatrix)})}},St=0;St<R.length;St++)wt(St);return pt},ts.prototype.loadMatchingFeature=function(t,r,o,p,d,y,v,w){var E=this.bucketLayerIDs[r];if(!y||function(wt,St){for(var Et=0;Et<wt.length;Et++)if(St.indexOf(wt[Et])>=0)return!0;return!1}(y,E)){var A=this.sourceLayerCoder.decode(o),R=this.vtLayers[A].feature(p);if(d(new Wr(this.tileID.overscaledZ),R))for(var B=this.getId(R,A),q=0;q<E.length;q++){var j=E[q];if(!(y&&y.indexOf(j)<0)){var W=v[j];if(W){var nt=!w||w(R,W,B);if(nt){var ot=new kh(R,this.z,this.x,this.y,B);ot.layer=W.serialize();var pt=t[j];pt===void 0&&(pt=t[j]=[]),pt.push({featureIndex:p,feature:ot,intersectionZ:nt})}}}}}},ts.prototype.lookupSymbolFeatures=function(t,r,o,p,d,y){var v={};this.loadVTLayers();for(var w=ql(p),E=0,A=t;E<A.length;E+=1){var R=A[E];this.loadMatchingFeature(v,r,o,R,w,d,y)}return v},ts.prototype.hasLayer=function(t){for(var r=0,o=this.bucketLayerIDs;r<o.length;r+=1)for(var p=0,d=o[r];p<d.length;p+=1)if(t===d[p])return!0;return!1},ts.prototype.getId=function(t,r){var o=t.id;if(this.promoteId){var p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[r];typeof(o=t.properties[p])=="boolean"&&(o=Number(o))}return o},me("FeatureIndex",ts,{omit:["rawTileData","sourceLayerCoder"]});var Kn=function(t,r){this.tileID=t,this.uid=dt(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Kn.prototype.registerFadeDuration=function(t){var r=t+this.timeAdded;r<Sr.now()||this.fadeEndTime&&r<this.fadeEndTime||(this.fadeEndTime=r)},Kn.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Kn.prototype.loadVectorData=function(t,r,o){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var p in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(A,R){var B={};if(!R)return B;for(var q=function(){var nt=W[j],ot=nt.layerIds.map(function(Et){return R.getLayer(Et)}).filter(Boolean);if(ot.length!==0){nt.layers=ot,nt.stateDependentLayerIds&&(nt.stateDependentLayers=nt.stateDependentLayerIds.map(function(Et){return ot.filter(function(Rt){return Rt.id===Et})[0]}));for(var pt=0,wt=ot;pt<wt.length;pt+=1){var St=wt[pt];B[St.id]=nt}}},j=0,W=A;j<W.length;j+=1)q();return B}(t.buckets,r.style),this.hasSymbolBuckets=!1,this.buckets){var d=this.buckets[p];if(d instanceof jr){if(this.hasSymbolBuckets=!0,!o)break;d.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var y in this.buckets){var v=this.buckets[y];if(v instanceof jr&&v.hasRTLText){this.hasRTLText=!0,Gn.isLoading()||Gn.isLoaded()||al()!=="deferred"||uh();break}}for(var w in this.queryPadding=0,this.buckets){var E=this.buckets[w];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(w).queryRadius(E))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new ee},Kn.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Kn.prototype.getBucket=function(t){return this.buckets[t.id]},Kn.prototype.upload=function(t){for(var r in this.buckets){var o=this.buckets[r];o.uploadPending()&&o.upload(t)}var p=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new fl(t,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new fl(t,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)},Kn.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},Kn.prototype.queryRenderedFeatures=function(t,r,o,p,d,y,v,w,E){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:o,cameraQueryGeometry:p,scale:d,tileSize:this.tileSize,pixelPosMatrix:E,transform:v,params:y,queryPadding:this.queryPadding*w},t,r):{}},Kn.prototype.querySourceFeatures=function(t,r){var o=this.latestFeatureIndex;if(o&&o.rawTileData){var p=o.loadVTLayers(),d=r?r.sourceLayer:"",y=p._geojsonTileLayer||p[d];if(y)for(var v=ql(r&&r.filter),w=this.tileID.canonical,E=w.z,A=w.x,R=w.y,B={z:E,x:A,y:R},q=0;q<y.length;q++){var j=y.feature(q);if(v(new Wr(this.tileID.overscaledZ),j)){var W=o.getId(j,d),nt=new kh(j,E,A,R,W);nt.tile=B,t.push(nt)}}}},Kn.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Kn.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Kn.prototype.setExpiryData=function(t){var r=this.expirationTime;if(t.cacheControl){var o=oe(t.cacheControl);o["max-age"]&&(this.expirationTime=Date.now()+1e3*o["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var p=Date.now(),d=!1;if(this.expirationTime>p)d=!1;else if(r)if(this.expirationTime<r)d=!0;else{var y=this.expirationTime-r;y?this.expirationTime=p+Math.max(y,3e4):d=!0}else d=!0;d?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Kn.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Kn.prototype.setFeatureState=function(t,r){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(t).length!==0){var o=this.latestFeatureIndex.loadVTLayers();for(var p in this.buckets){var d=this.buckets[p],y=d.layers[0].sourceLayer||"_geojsonTileLayer",v=o[y],w=t[y];v&&w&&Object.keys(w).length!==0&&(d.update(w,v,this.imageAtlas&&this.imageAtlas.patternPositions||{}),r&&r.style&&(this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(p).queryRadius(d))))}}},Kn.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Kn.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Sr.now()},Kn.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Kn.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=Sr.now()+t},Kn.prototype.setDependencies=function(t,r){for(var o={},p=0,d=r;p<d.length;p+=1)o[d[p]]=!0;this.dependencies[t]=o},Kn.prototype.hasDependency=function(t,r){for(var o=0,p=t;o<p.length;o+=1){var d=p[o],y=this.dependencies[d];if(y){for(var v=0,w=r;v<w.length;v+=1)if(y[w[v]])return!0}}return!1};var zs=self.performance,Q0=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},zs.mark(this._marks.start)};Q0.prototype.finish=function(){zs.mark(this._marks.end);var t=zs.getEntriesByName(this._marks.measure);return t.length===0&&(zs.measure(this._marks.measure,this._marks.start,this._marks.end),t=zs.getEntriesByName(this._marks.measure),zs.clearMarks(this._marks.start),zs.clearMarks(this._marks.end),zs.clearMeasures(this._marks.measure)),t},a.Actor=hu,a.AlphaImage=pl,a.CanonicalTileID=ml,a.CollisionBoxArray=ee,a.Color=Wt,a.DEMData=Qa,a.DataConstantProperty=_e,a.DictionaryCoder=Ah,a.EXTENT=8192,a.ErrorEvent=fn,a.EvaluationParameters=Wr,a.Event=yr,a.Evented=Lr,a.FeatureIndex=ts,a.FillBucket=Xo,a.FillExtrusionBucket=Ko,a.ImageAtlas=Oc,a.ImagePosition=xh,a.LineBucket=Yi,a.LngLat=mn,a.LngLatBounds=Nn,a.MercatorCoordinate=dl,a.ONE_EM=24,a.OverscaledTileID=Un,a.Point=M,a.Point$1=M,a.ProgramConfiguration=ei,a.Properties=Bi,a.Protobuf=_h,a.RGBAImage=Ui,a.RequestManager=Gt,a.RequestPerformance=Q0,a.ResourceType=ui,a.SegmentVector=He,a.SourceFeatureState=fu,a.StructArrayLayout1ui2=Ut,a.StructArrayLayout2i4=_,a.StructArrayLayout2ui4=zt,a.StructArrayLayout3ui6=Mt,a.StructArrayLayout4i8=C,a.SymbolBucket=jr,a.Texture=fl,a.Tile=Kn,a.Transitionable=Di,a.Uniform1f=Ho,a.Uniform1i=Yl,a.Uniform2f=ks,a.Uniform3f=Jl,a.Uniform4f=Os,a.UniformColor=Ya,a.UniformMatrix4f=ln,a.UnwrappedTileID=Y0,a.ValidationError=Qt,a.WritingMode=ao,a.ZoomHistory=Gl,a.addDynamicAttributes=o1,a.asyncAll=function(t,r,o){if(!t.length)return o(null,[]);var p=t.length,d=new Array(t.length),y=null;t.forEach(function(v,w){r(v,function(E,A){E&&(y=E),d[w]=A,--p==0&&o(y,d)})})},a.bezier=N,a.bindAll=yt,a.browser=Sr,a.cacheEntryPossiblyAdded=function(t){++Oi>ti&&(t.getActor().send("enforceCacheSizeLimit",Si),Oi=0)},a.clamp=U,a.clearTileCache=function(t){var r=self.caches.delete("mapbox-tiles");t&&r.catch(t).then(function(){return t()})},a.clone=function(t){var r=new Go(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},a.clone$1=Dt,a.config=Ee,a.create=function(){var t=new Go(16);return Go!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},a.create$1=function(){var t=new Go(9);return Go!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},a.create$2=function(){var t=new Go(4);return Go!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},a.createCommonjsModule=x,a.createExpression=Ul,a.createLayout=h,a.createStyleLayer=function(t){return t.type==="custom"?new S3(t):new E3[t.type](t)},a.deepEqual=function t(r,o){if(Array.isArray(r)){if(!Array.isArray(o)||r.length!==o.length)return!1;for(var p=0;p<r.length;p++)if(!t(r[p],o[p]))return!1;return!0}if(typeof r=="object"&&r!==null&&o!==null){if(typeof o!="object"||Object.keys(r).length!==Object.keys(o).length)return!1;for(var d in r)if(!t(r[d],o[d]))return!1;return!0}return r===o},a.ease=G,a.emitValidationErrors=yc,a.endsWith=Ct,a.enforceCacheSizeLimit=function(t){li(),vn&&vn.then(function(r){r.keys().then(function(o){for(var p=0;p<o.length-t;p++)r.delete(o[p])})})},a.evaluateSizeForFeature=M0,a.evaluateSizeForZoom=A0,a.evaluateVariableOffset=B0,a.evented=bc,a.extend=it,a.featureFilter=ql,a.filterObject=Vt,a.fromRotation=function(t,r){var o=Math.sin(r),p=Math.cos(r);return t[0]=p,t[1]=o,t[2]=0,t[3]=-o,t[4]=p,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.getAnchorAlignment=e1,a.getAnchorJustification=i1,a.getArrayBuffer=po,a.getImage=Da,a.getJSON=function(t,r){return Ao(it(t,{type:"json"}),r)},a.getRTLTextPluginStatus=al,a.getReferrer=la,a.getVideo=function(t,r){var o,p,d=self.document.createElement("video");d.muted=!0,d.onloadstart=function(){r(null,d)};for(var y=0;y<t.length;y++){var v=self.document.createElement("source");o=t[y],p=void 0,(p=self.document.createElement("a")).href=o,(p.protocol!==self.document.location.protocol||p.host!==self.document.location.host)&&(d.crossOrigin="Anonymous"),v.src=t[y],d.appendChild(v)}return{cancel:function(){}}},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.invert=function(t,r){var o=r[0],p=r[1],d=r[2],y=r[3],v=r[4],w=r[5],E=r[6],A=r[7],R=r[8],B=r[9],q=r[10],j=r[11],W=r[12],nt=r[13],ot=r[14],pt=r[15],wt=o*w-p*v,St=o*E-d*v,Et=o*A-y*v,Rt=p*E-d*w,Ft=p*A-y*w,Lt=d*A-y*E,ie=R*nt-B*W,ye=R*ot-q*W,ce=R*pt-j*W,ge=B*ot-q*nt,pe=B*pt-j*nt,ae=q*pt-j*ot,Xt=wt*ae-St*pe+Et*ge+Rt*ce-Ft*ye+Lt*ie;return Xt?(Xt=1/Xt,t[0]=(w*ae-E*pe+A*ge)*Xt,t[1]=(d*pe-p*ae-y*ge)*Xt,t[2]=(nt*Lt-ot*Ft+pt*Rt)*Xt,t[3]=(q*Ft-B*Lt-j*Rt)*Xt,t[4]=(E*ce-v*ae-A*ye)*Xt,t[5]=(o*ae-d*ce+y*ye)*Xt,t[6]=(ot*Et-W*Lt-pt*St)*Xt,t[7]=(R*Lt-q*Et+j*St)*Xt,t[8]=(v*pe-w*ce+A*ie)*Xt,t[9]=(p*ce-o*pe-y*ie)*Xt,t[10]=(W*Ft-nt*Et+pt*wt)*Xt,t[11]=(B*Et-R*Ft-j*wt)*Xt,t[12]=(w*ye-v*ge-E*ie)*Xt,t[13]=(o*ge-p*ye+d*ie)*Xt,t[14]=(nt*St-W*Rt-ot*wt)*Xt,t[15]=(R*Rt-B*St+q*wt)*Xt,t):null},a.isChar=Yt,a.isGoongURL=Se,a.keysDifference=function(t,r){var o=[];for(var p in t)p in r||o.push(p);return o},a.makeRequest=Ao,a.mapObject=xt,a.mercatorXfromLng=G0,a.mercatorYfromLat=X0,a.mercatorZfromAltitude=K0,a.multiply=function(t,r,o){var p=r[0],d=r[1],y=r[2],v=r[3],w=r[4],E=r[5],A=r[6],R=r[7],B=r[8],q=r[9],j=r[10],W=r[11],nt=r[12],ot=r[13],pt=r[14],wt=r[15],St=o[0],Et=o[1],Rt=o[2],Ft=o[3];return t[0]=St*p+Et*w+Rt*B+Ft*nt,t[1]=St*d+Et*E+Rt*q+Ft*ot,t[2]=St*y+Et*A+Rt*j+Ft*pt,t[3]=St*v+Et*R+Rt*W+Ft*wt,St=o[4],Et=o[5],Rt=o[6],Ft=o[7],t[4]=St*p+Et*w+Rt*B+Ft*nt,t[5]=St*d+Et*E+Rt*q+Ft*ot,t[6]=St*y+Et*A+Rt*j+Ft*pt,t[7]=St*v+Et*R+Rt*W+Ft*wt,St=o[8],Et=o[9],Rt=o[10],Ft=o[11],t[8]=St*p+Et*w+Rt*B+Ft*nt,t[9]=St*d+Et*E+Rt*q+Ft*ot,t[10]=St*y+Et*A+Rt*j+Ft*pt,t[11]=St*v+Et*R+Rt*W+Ft*wt,St=o[12],Et=o[13],Rt=o[14],Ft=o[15],t[12]=St*p+Et*w+Rt*B+Ft*nt,t[13]=St*d+Et*E+Rt*q+Ft*ot,t[14]=St*y+Et*A+Rt*j+Ft*pt,t[15]=St*v+Et*R+Rt*W+Ft*wt,t},a.mvt=iu,a.number=Pe,a.offscreenCanvasSupported=Mo,a.ortho=function(t,r,o,p,d,y,v){var w=1/(r-o),E=1/(p-d),A=1/(y-v);return t[0]=-2*w,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*E,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*A,t[11]=0,t[12]=(r+o)*w,t[13]=(d+p)*E,t[14]=(v+y)*A,t[15]=1,t},a.parseGlyphPBF=function(t){return new _h(t).readFields(i3,[])},a.pbf=_h,a.performSymbolLayout=function(t,r,o,p,d,y){t.createArrays();var v=512*t.overscaling;t.tilePixelRatio=8192/v,t.compareText={},t.iconsNeedLinear=!1;var w=t.layers[0].layout,E=t.layers[0]._unevaluatedLayout._values,A={};if(t.textSizeData.kind==="composite"){var R=t.textSizeData,B=R.minZoom,q=R.maxZoom;A.compositeTextSizes=[E["text-size"].possiblyEvaluate(new Wr(B)),E["text-size"].possiblyEvaluate(new Wr(q))]}if(t.iconSizeData.kind==="composite"){var j=t.iconSizeData,W=j.minZoom,nt=j.maxZoom;A.compositeIconSizes=[E["icon-size"].possiblyEvaluate(new Wr(W)),E["icon-size"].possiblyEvaluate(new Wr(nt))]}A.layoutTextSize=E["text-size"].possiblyEvaluate(new Wr(t.zoom+1)),A.layoutIconSize=E["icon-size"].possiblyEvaluate(new Wr(t.zoom+1)),A.textMaxSize=E["text-size"].possiblyEvaluate(new Wr(18));for(var ot=24*w.get("text-line-height"),pt=w.get("text-rotation-alignment")==="map"&&w.get("symbol-placement")!=="point",wt=w.get("text-keep-upright"),St=w.get("text-size"),Et=function(){var Lt=Ft[Rt],ie=w.get("text-font").evaluate(Lt,{}).join(","),ye=St.evaluate(Lt,{}),ce=A.layoutTextSize.evaluate(Lt,{}),ge=A.layoutIconSize.evaluate(Lt,{}),pe={horizontal:{},vertical:void 0},ae=Lt.text,Xt=[0,0];if(ae){var er=ae.toString(),Br=24*w.get("text-letter-spacing").evaluate(Lt,{}),xr=function(hr){for(var Or=0,Gr=hr;Or<Gr.length;Or+=1)if(!Nd(Gr[Or].charCodeAt(0)))return!1;return!0}(er)?Br:0,Ne=w.get("text-anchor").evaluate(Lt,{}),rr=w.get("text-variable-anchor");if(!rr){var ur=w.get("text-radial-offset").evaluate(Lt,{});Xt=ur?B0(Ne,[24*ur,n1]):w.get("text-offset").evaluate(Lt,{}).map(function(hr){return 24*hr})}var Ze=pt?"center":w.get("text-justify").evaluate(Lt,{}),sr=w.get("symbol-placement"),wr=sr==="point"?24*w.get("text-max-width").evaluate(Lt,{}):0,un=function(){t.allowVerticalPlacement&&Wa(er)&&(pe.vertical=wh(ae,r,o,d,ie,wr,ot,Ne,"left",xr,Xt,ao.vertical,!0,sr,ce,ye))};if(!pt&&rr){for(var yn=Ze==="auto"?rr.map(function(hr){return i1(hr)}):[Ze],ci=!1,pi=0;pi<yn.length;pi++){var kn=yn[pi];if(!pe.horizontal[kn])if(ci)pe.horizontal[kn]=pe.horizontal[0];else{var Yn=wh(ae,r,o,d,ie,wr,ot,"center",kn,xr,Xt,ao.horizontal,!1,sr,ce,ye);Yn&&(pe.horizontal[kn]=Yn,ci=Yn.positionedLines.length===1)}}un()}else{Ze==="auto"&&(Ze=i1(Ne));var ri=wh(ae,r,o,d,ie,wr,ot,Ne,Ze,xr,Xt,ao.horizontal,!1,sr,ce,ye);ri&&(pe.horizontal[Ze]=ri),un(),Wa(er)&&pt&&wt&&(pe.vertical=wh(ae,r,o,d,ie,wr,ot,Ne,Ze,xr,Xt,ao.vertical,!1,sr,ce,ye))}}var hi=void 0,jn=!1;if(Lt.icon&&Lt.icon.name){var cn=p[Lt.icon.name];cn&&(hi=function(hr,Or,Gr){var Xr=e1(Gr),$n=Xr.horizontalAlign,$r=Xr.verticalAlign,ni=Or[0],bn=Or[1],Yo=ni-hr.displaySize[0]*$n,fi=Yo+hr.displaySize[0],_i=bn-hr.displaySize[1]*$r;return{image:hr,top:_i,bottom:_i+hr.displaySize[1],left:Yo,right:fi}}(d[Lt.icon.name],w.get("icon-offset").evaluate(Lt,{}),w.get("icon-anchor").evaluate(Lt,{})),jn=cn.sdf,t.sdfIcons===void 0?t.sdfIcons=cn.sdf:t.sdfIcons!==cn.sdf&&Zt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(cn.pixelRatio!==t.pixelRatio||w.get("icon-rotate").constantOr(1)!==0)&&(t.iconsNeedLinear=!0))}var Pn=N0(pe.horizontal)||pe.vertical;t.iconsInText=!!Pn&&Pn.iconsInText,(Pn||hi)&&function(hr,Or,Gr,Xr,$n,$r,ni,bn,Yo,fi){var _i=$r.textMaxSize.evaluate(Or,{});_i===void 0&&(_i=ni);var vo,Jn=hr.layers[0].layout,Do=Jn.get("icon-offset").evaluate(Or,{}),va=N0(Gr.horizontal),Jo=ni/24,Lc=hr.tilePixelRatio*Jo,_a=hr.tilePixelRatio*_i/24,u1=hr.tilePixelRatio*bn,du=hr.tilePixelRatio*Jn.get("symbol-spacing"),Oh=Jn.get("text-padding")*hr.tilePixelRatio,mu=Jn.get("icon-padding")*hr.tilePixelRatio,Bc=Jn.get("text-max-angle")/180*Math.PI,Rh=Jn.get("text-rotation-alignment")==="map"&&Jn.get("symbol-placement")!=="point",c1=Jn.get("icon-rotation-alignment")==="map"&&Jn.get("symbol-placement")!=="point",Fc=Jn.get("symbol-placement"),Ds=du/2,yl=Jn.get("icon-text-fit");Xr&&yl!=="none"&&(hr.allowVerticalPlacement&&Gr.vertical&&(vo=I0(Xr,Gr.vertical,yl,Jn.get("icon-text-fit-padding"),Do,Jo)),va&&(Xr=I0(Xr,va,yl,Jn.get("icon-text-fit-padding"),Do,Jo)));var Ls=function(Uh,so){so.x<0||so.x>=8192||so.y<0||so.y>=8192||function(Ir,ii,lo,Qo,vl,xu,ta,Qi,Ge,Rr,Vh,jh,m1,rg,qc,ng,ig,og,ag,sg,Lo,$h,lg){var y1,wu,Wc,Hc,Gc,Cu=Ir.addToLineVertexArray(ii,lo),ug=0,cg=0,pg=0,hg=0,g1=-1,v1=-1,es={},fg=Fi(""),_1=0,b1=0;if(Qi._unevaluatedLayout.getValue("text-radial-offset")===void 0?(y1=Qi.layout.get("text-offset").evaluate(Lo,{}).map(function(F3){return 24*F3}),_1=y1[0],b1=y1[1]):(_1=24*Qi.layout.get("text-radial-offset").evaluate(Lo,{}),b1=n1),Ir.allowVerticalPlacement&&Qo.vertical){var dg=Qi.layout.get("text-rotate").evaluate(Lo,{})+90,I3=Qo.vertical;Hc=new Rc(Ge,lo,ii,Rr,Vh,jh,I3,m1,rg,qc,Ir.overscaling,dg),ta&&(Gc=new Rc(Ge,lo,ii,Rr,Vh,jh,ta,ig,og,qc,Ir.overscaling,dg))}if(vl){var x1=Qi.layout.get("icon-rotate").evaluate(Lo,{}),mg=Qi.layout.get("icon-text-fit")!=="none",yg=D0(vl,x1,lg,mg),w1=ta?D0(ta,x1,lg,mg):void 0;Wc=new Rc(Ge,lo,ii,Rr,Vh,jh,vl,ig,og,!1,Ir.overscaling,x1),ug=4*yg.length;var gg=Ir.iconSizeData,Xc=null;gg.kind==="source"?(Xc=[128*Qi.layout.get("icon-size").evaluate(Lo,{})])[0]>32640&&Zt(Ir.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):gg.kind==="composite"&&((Xc=[128*$h.compositeIconSizes[0].evaluate(Lo,{}),128*$h.compositeIconSizes[1].evaluate(Lo,{})])[0]>32640||Xc[1]>32640)&&Zt(Ir.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Ir.addSymbols(Ir.icon,yg,Xc,sg,ag,Lo,!1,ii,Cu.lineStartIndex,Cu.lineLength,-1),g1=Ir.icon.placedSymbolArray.length-1,w1&&(cg=4*w1.length,Ir.addSymbols(Ir.icon,w1,Xc,sg,ag,Lo,ao.vertical,ii,Cu.lineStartIndex,Cu.lineLength,-1),v1=Ir.icon.placedSymbolArray.length-1)}for(var vg in Qo.horizontal){var Zh=Qo.horizontal[vg];if(!wu){fg=Fi(Zh.text);var M3=Qi.layout.get("text-rotate").evaluate(Lo,{});wu=new Rc(Ge,lo,ii,Rr,Vh,jh,Zh,m1,rg,qc,Ir.overscaling,M3)}var _g=Zh.positionedLines.length===1;if(pg+=F0(Ir,ii,Zh,xu,Qi,qc,Lo,ng,Cu,Qo.vertical?ao.horizontal:ao.horizontalOnly,_g?Object.keys(Qo.horizontal):[vg],es,g1,$h),_g)break}Qo.vertical&&(hg+=F0(Ir,ii,Qo.vertical,xu,Qi,qc,Lo,ng,Cu,ao.vertical,["vertical"],es,v1,$h));var A3=wu?wu.boxStartIndex:Ir.collisionBoxArray.length,k3=wu?wu.boxEndIndex:Ir.collisionBoxArray.length,O3=Hc?Hc.boxStartIndex:Ir.collisionBoxArray.length,R3=Hc?Hc.boxEndIndex:Ir.collisionBoxArray.length,z3=Wc?Wc.boxStartIndex:Ir.collisionBoxArray.length,D3=Wc?Wc.boxEndIndex:Ir.collisionBoxArray.length,L3=Gc?Gc.boxStartIndex:Ir.collisionBoxArray.length,B3=Gc?Gc.boxEndIndex:Ir.collisionBoxArray.length;Ir.glyphOffsetArray.length>=jr.MAX_GLYPHS&&Zt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ir.symbolInstances.emplaceBack(ii.x,ii.y,es.right>=0?es.right:-1,es.center>=0?es.center:-1,es.left>=0?es.left:-1,es.vertical||-1,g1,v1,fg,A3,k3,O3,R3,z3,D3,L3,B3,Rr,pg,hg,ug,cg,0,m1,_1,b1)}(hr,so,Uh,Gr,Xr,$n,vo,hr.layers[0],hr.collisionBoxArray,Or.index,Or.sourceLayerIndex,hr.index,Lc,Oh,Rh,Yo,u1,mu,c1,Do,Or,$r,fi)};if(Fc==="line")for(var yu=0,Nc=function(Uh,so,Ir,ii,lo){for(var Qo=[],vl=0;vl<Uh.length;vl++)for(var xu=Uh[vl],ta=void 0,Qi=0;Qi<xu.length-1;Qi++){var Ge=xu[Qi],Rr=xu[Qi+1];Ge.x<so&&Rr.x<so||(Ge.x<so?Ge=new M(so,Ge.y+(Rr.y-Ge.y)*((so-Ge.x)/(Rr.x-Ge.x)))._round():Rr.x<so&&(Rr=new M(so,Ge.y+(Rr.y-Ge.y)*((so-Ge.x)/(Rr.x-Ge.x)))._round()),Ge.y<Ir&&Rr.y<Ir||(Ge.y<Ir?Ge=new M(Ge.x+(Rr.x-Ge.x)*((Ir-Ge.y)/(Rr.y-Ge.y)),Ir)._round():Rr.y<Ir&&(Rr=new M(Ge.x+(Rr.x-Ge.x)*((Ir-Ge.y)/(Rr.y-Ge.y)),Ir)._round()),Ge.x>=ii&&Rr.x>=ii||(Ge.x>=ii?Ge=new M(ii,Ge.y+(Rr.y-Ge.y)*((ii-Ge.x)/(Rr.x-Ge.x)))._round():Rr.x>=ii&&(Rr=new M(ii,Ge.y+(Rr.y-Ge.y)*((ii-Ge.x)/(Rr.x-Ge.x)))._round()),Ge.y>=lo&&Rr.y>=lo||(Ge.y>=lo?Ge=new M(Ge.x+(Rr.x-Ge.x)*((lo-Ge.y)/(Rr.y-Ge.y)),lo)._round():Rr.y>=lo&&(Rr=new M(Ge.x+(Rr.x-Ge.x)*((lo-Ge.y)/(Rr.y-Ge.y)),lo)._round()),ta&&Ge.equals(ta[ta.length-1])||(ta=[Ge],Qo.push(ta)),ta.push(Rr)))))}return Qo}(Or.geometry,0,0,8192,8192);yu<Nc.length;yu+=1)for(var zh=Nc[yu],p1=p3(zh,du,Bc,Gr.vertical||va,Xr,24,_a,hr.overscaling,8192),Uc=0,Vc=p1;Uc<Vc.length;Uc+=1){var Dh=Vc[Uc],Lh=va;Lh&&m3(hr,Lh.text,Ds,Dh)||Ls(zh,Dh)}else if(Fc==="line-center")for(var gu=0,Bh=Or.geometry;gu<Bh.length;gu+=1){var jc=Bh[gu];if(jc.length>1){var Fh=c3(jc,Bc,Gr.vertical||va,Xr,24,_a);Fh&&Ls(jc,Fh)}}else if(Or.type==="Polygon")for(var vu=0,_u=Xd(Or.geometry,0);vu<_u.length;vu+=1){var $c=_u[vu],Nh=f3($c,16);Ls($c[0],new lu(Nh.x,Nh.y,0))}else if(Or.type==="LineString")for(var gl=0,Zc=Or.geometry;gl<Zc.length;gl+=1){var bu=Zc[gl];Ls(bu,new lu(bu[0].x,bu[0].y,0))}else if(Or.type==="Point")for(var h1=0,tg=Or.geometry;h1<tg.length;h1+=1)for(var P3=tg[h1],f1=0,eg=P3;f1<eg.length;f1+=1){var d1=eg[f1];Ls([d1],new lu(d1.x,d1.y,0))}}(t,Lt,pe,hi,p,A,ce,ge,Xt,jn)},Rt=0,Ft=t.features;Rt<Ft.length;Rt+=1)Et();y&&t.generateCollisionDebugBuffers()},a.perspective=function(t,r,o,p,d){var y,v=1/Math.tan(r/2);return t[0]=v/o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=v,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,d!=null&&d!==1/0?(y=1/(p-d),t[10]=(d+p)*y,t[14]=2*d*p*y):(t[10]=-1,t[14]=-2*p),t},a.pick=function(t,r){for(var o={},p=0;p<r.length;p++){var d=r[p];d in t&&(o[d]=t[d])}return o},a.plugin=Gn,a.polygonIntersectsPolygon=Gy,a.postMapLoadEvent=Dr,a.postTurnstileEvent=mi,a.potpack=S0,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=me,a.registerForPluginStateChange=function(t){return t({pluginStatus:Pi,pluginURL:fa}),bc.on("pluginStateChange",t),t},a.rotate=function(t,r,o){var p=r[0],d=r[1],y=r[2],v=r[3],w=Math.sin(o),E=Math.cos(o);return t[0]=p*E+y*w,t[1]=d*E+v*w,t[2]=p*-w+y*E,t[3]=d*-w+v*E,t},a.rotateX=function(t,r,o){var p=Math.sin(o),d=Math.cos(o),y=r[4],v=r[5],w=r[6],E=r[7],A=r[8],R=r[9],B=r[10],q=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=y*d+A*p,t[5]=v*d+R*p,t[6]=w*d+B*p,t[7]=E*d+q*p,t[8]=A*d-y*p,t[9]=R*d-v*p,t[10]=B*d-w*p,t[11]=q*d-E*p,t},a.rotateZ=function(t,r,o){var p=Math.sin(o),d=Math.cos(o),y=r[0],v=r[1],w=r[2],E=r[3],A=r[4],R=r[5],B=r[6],q=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=y*d+A*p,t[1]=v*d+R*p,t[2]=w*d+B*p,t[3]=E*d+q*p,t[4]=A*d-y*p,t[5]=R*d-v*p,t[6]=B*d-w*p,t[7]=q*d-E*p,t},a.scale=function(t,r,o){var p=o[0],d=o[1],y=o[2];return t[0]=r[0]*p,t[1]=r[1]*p,t[2]=r[2]*p,t[3]=r[3]*p,t[4]=r[4]*d,t[5]=r[5]*d,t[6]=r[6]*d,t[7]=r[7]*d,t[8]=r[8]*y,t[9]=r[9]*y,t[10]=r[10]*y,t[11]=r[11]*y,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},a.setCacheLimits=function(t,r){Si=t,ti=r},a.setRTLTextPlugin=function(t,r,o){if(o===void 0&&(o=!1),Pi===mo||Pi===qo||Pi===Ha)throw new Error("setRTLTextPlugin cannot be called multiple times.");fa=Sr.resolveURL(t),Pi=mo,vc=r,_c(),o||uh()},a.sphericalToCartesian=function(t){var r=t[0],o=t[1],p=t[2];return o+=90,o*=Math.PI/180,p*=Math.PI/180,{x:r*Math.cos(o)*Math.sin(p),y:r*Math.sin(o)*Math.sin(p),z:r*Math.cos(p)}},a.styleSpec=At,a.symbolSize=u3,a.transformMat3=function(t,r,o){var p=r[0],d=r[1],y=r[2];return t[0]=p*o[0]+d*o[3]+y*o[6],t[1]=p*o[1]+d*o[4]+y*o[7],t[2]=p*o[2]+d*o[5]+y*o[8],t},a.transformMat4=dh,a.translate=function(t,r,o){var p,d,y,v,w,E,A,R,B,q,j,W,nt=o[0],ot=o[1],pt=o[2];return r===t?(t[12]=r[0]*nt+r[4]*ot+r[8]*pt+r[12],t[13]=r[1]*nt+r[5]*ot+r[9]*pt+r[13],t[14]=r[2]*nt+r[6]*ot+r[10]*pt+r[14],t[15]=r[3]*nt+r[7]*ot+r[11]*pt+r[15]):(p=r[0],d=r[1],y=r[2],v=r[3],w=r[4],E=r[5],A=r[6],R=r[7],B=r[8],q=r[9],j=r[10],W=r[11],t[0]=p,t[1]=d,t[2]=y,t[3]=v,t[4]=w,t[5]=E,t[6]=A,t[7]=R,t[8]=B,t[9]=q,t[10]=j,t[11]=W,t[12]=p*nt+w*ot+B*pt+r[12],t[13]=d*nt+E*ot+q*pt+r[13],t[14]=y*nt+A*ot+j*pt+r[14],t[15]=v*nt+R*ot+W*pt+r[15]),t},a.triggerPluginCompletionEvent=Ga,a.uniqueId=dt,a.validateCustomStyleLayer=function(t){var r=[],o=t.id;return o===void 0&&r.push({message:"layers."+o+': missing required property "id"'}),t.render===void 0&&r.push({message:"layers."+o+': missing required method "render"'}),t.renderingMode&&t.renderingMode!=="2d"&&t.renderingMode!=="3d"&&r.push({message:"layers."+o+': property "renderingMode" must be either "2d" or "3d"'}),r},a.validateLight=ah,a.validateStyle=ol,a.values=function(t){var r=[];for(var o in t)r.push(t[o]);return r},a.vectorTile=iu,a.version="1.0.9",a.warnOnce=Zt,a.webpSupported=lr,a.window=self,a.wrap=H}),m(["./shared"],function(a){function x(O){var D=typeof O;if(D==="number"||D==="boolean"||D==="string"||O==null)return JSON.stringify(O);if(Array.isArray(O)){for(var F="[",V=0,Q=O;V<Q.length;V+=1)F+=x(Q[V])+",";return F+"]"}for(var rt=Object.keys(O).sort(),mt="{",ct=0;ct<rt.length;ct++)mt+=JSON.stringify(rt[ct])+":"+x(O[rt[ct]])+",";return mt+"}"}function b(O){for(var D="",F=0,V=a.refProperties;F<V.length;F+=1)D+="/"+x(O[V[F]]);return D}var P=function(O){this.keyCache={},O&&this.replace(O)};P.prototype.replace=function(O){this._layerConfigs={},this._layers={},this.update(O,[])},P.prototype.update=function(O,D){for(var F=this,V=0,Q=O;V<Q.length;V+=1){var rt=Q[V];this._layerConfigs[rt.id]=rt;var mt=this._layers[rt.id]=a.createStyleLayer(rt);mt._featureFilter=a.featureFilter(mt.filter),this.keyCache[rt.id]&&delete this.keyCache[rt.id]}for(var ct=0,lt=D;ct<lt.length;ct+=1){var vt=lt[ct];delete this.keyCache[vt],delete this._layerConfigs[vt],delete this._layers[vt]}this.familiesBySource={};for(var Ot=0,$t=function(ze,De){for(var we={},Ie=0;Ie<ze.length;Ie++){var Er=De&&De[ze[Ie].id]||b(ze[Ie]);De&&(De[ze[Ie].id]=Er);var Le=we[Er];Le||(Le=we[Er]=[]),Le.push(ze[Ie])}var Qe=[];for(var Tr in we)Qe.push(we[Tr]);return Qe}(a.values(this._layerConfigs),this.keyCache);Ot<$t.length;Ot+=1){var kt=$t[Ot].map(function(ze){return F._layers[ze.id]}),jt=kt[0];if(jt.visibility!=="none"){var Kt=jt.source||"",ne=this.familiesBySource[Kt];ne||(ne=this.familiesBySource[Kt]={});var de=jt.sourceLayer||"_geojsonTileLayer",Wt=ne[de];Wt||(Wt=ne[de]=[]),Wt.push(kt)}}};var M=function(O){var D={},F=[];for(var V in O){var Q=O[V],rt=D[V]={};for(var mt in Q){var ct=Q[+mt];if(ct&&ct.bitmap.width!==0&&ct.bitmap.height!==0){var lt={x:0,y:0,w:ct.bitmap.width+2,h:ct.bitmap.height+2};F.push(lt),rt[mt]={rect:lt,metrics:ct.metrics}}}}var vt=a.potpack(F),Ot=vt.w,$t=vt.h,kt=new a.AlphaImage({width:Ot||1,height:$t||1});for(var jt in O){var Kt=O[jt];for(var ne in Kt){var de=Kt[+ne];if(de&&de.bitmap.width!==0&&de.bitmap.height!==0){var Wt=D[jt][ne].rect;a.AlphaImage.copy(de.bitmap,kt,{x:0,y:0},{x:Wt.x+1,y:Wt.y+1},de.bitmap)}}}this.image=kt,this.positions=D};a.register("GlyphAtlas",M);var k=function(O){this.tileID=new a.OverscaledTileID(O.tileID.overscaledZ,O.tileID.wrap,O.tileID.canonical.z,O.tileID.canonical.x,O.tileID.canonical.y),this.uid=O.uid,this.zoom=O.zoom,this.pixelRatio=O.pixelRatio,this.tileSize=O.tileSize,this.source=O.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=O.showCollisionBoxes,this.collectResourceTiming=!!O.collectResourceTiming,this.returnDependencies=!!O.returnDependencies,this.promoteId=O.promoteId};function N(O,D,F){for(var V=new a.EvaluationParameters(D),Q=0,rt=O;Q<rt.length;Q+=1)rt[Q].recalculate(V,F)}function G(O,D){var F=a.getArrayBuffer(O.request,function(V,Q,rt,mt){V?D(V):Q&&D(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Q)),rawData:Q,cacheControl:rt,expires:mt})});return function(){F.cancel(),D()}}k.prototype.parse=function(O,D,F,V,Q){var rt=this;this.status="parsing",this.data=O,this.collisionBoxArray=new a.CollisionBoxArray;var mt=new a.DictionaryCoder(Object.keys(O.layers).sort()),ct=new a.FeatureIndex(this.tileID,this.promoteId);ct.bucketLayerIDs=[];var lt,vt,Ot,$t,kt={},jt={featureIndex:ct,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:F},Kt=D.familiesBySource[this.source];for(var ne in Kt){var de=O.layers[ne];if(de){de.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+ne+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Wt=mt.encode(ne),ze=[],De=0;De<de.length;De++){var we=de.feature(De),Ie=ct.getId(we,ne);ze.push({feature:we,id:Ie,index:De,sourceLayerIndex:Wt})}for(var Er=0,Le=Kt[ne];Er<Le.length;Er+=1){var Qe=Le[Er],Tr=Qe[0];Tr.minzoom&&this.zoom<Math.floor(Tr.minzoom)||Tr.maxzoom&&this.zoom>=Tr.maxzoom||Tr.visibility!=="none"&&(N(Qe,this.zoom,F),(kt[Tr.id]=Tr.createBucket({index:ct.bucketLayerIDs.length,layers:Qe,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Wt,sourceID:this.source})).populate(ze,jt),ct.bucketLayerIDs.push(Qe.map(function(We){return We.id})))}}}var ar=a.mapObject(jt.glyphDependencies,function(We){return Object.keys(We).map(Number)});Object.keys(ar).length?V.send("getGlyphs",{uid:this.uid,stacks:ar},function(We,an){lt||(lt=We,vt=an,qr.call(rt))}):vt={};var Rn=Object.keys(jt.iconDependencies);Rn.length?V.send("getImages",{icons:Rn,source:this.source,tileID:this.tileID,type:"icons"},function(We,an){lt||(lt=We,Ot=an,qr.call(rt))}):Ot={};var tr=Object.keys(jt.patternDependencies);function qr(){if(lt)return Q(lt);if(vt&&Ot&&$t){var We=new M(vt),an=new a.ImageAtlas(Ot,$t);for(var zn in kt){var Ei=kt[zn];Ei instanceof a.SymbolBucket?(N(Ei.layers,this.zoom,F),a.performSymbolLayout(Ei,vt,We.positions,Ot,an.iconPositions,this.showCollisionBoxes)):Ei.hasPattern&&(Ei instanceof a.LineBucket||Ei instanceof a.FillBucket||Ei instanceof a.FillExtrusionBucket)&&(N(Ei.layers,this.zoom,F),Ei.addFeatures(jt,an.patternPositions))}this.status="done",Q(null,{buckets:a.values(kt).filter(function(ro){return!ro.isEmpty()}),featureIndex:ct,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:We.image,imageAtlas:an,glyphMap:this.returnDependencies?vt:null,iconMap:this.returnDependencies?Ot:null,glyphPositions:this.returnDependencies?We.positions:null})}}tr.length?V.send("getImages",{icons:tr,source:this.source,tileID:this.tileID,type:"patterns"},function(We,an){lt||(lt=We,$t=an,qr.call(rt))}):$t={},qr.call(this)};var U=function(O,D,F,V){this.actor=O,this.layerIndex=D,this.availableImages=F,this.loadVectorData=V||G,this.loading={},this.loaded={}};U.prototype.loadTile=function(O,D){var F=this,V=O.uid;this.loading||(this.loading={});var Q=!!(O&&O.request&&O.request.collectResourceTiming)&&new a.RequestPerformance(O.request),rt=this.loading[V]=new k(O);rt.abort=this.loadVectorData(O,function(mt,ct){if(delete F.loading[V],mt||!ct)return rt.status="done",F.loaded[V]=rt,D(mt);var lt=ct.rawData,vt={};ct.expires&&(vt.expires=ct.expires),ct.cacheControl&&(vt.cacheControl=ct.cacheControl);var Ot={};if(Q){var $t=Q.finish();$t&&(Ot.resourceTiming=JSON.parse(JSON.stringify($t)))}rt.vectorTile=ct.vectorTile,rt.parse(ct.vectorTile,F.layerIndex,F.availableImages,F.actor,function(kt,jt){if(kt||!jt)return D(kt);D(null,a.extend({rawTileData:lt.slice(0)},jt,vt,Ot))}),F.loaded=F.loaded||{},F.loaded[V]=rt})},U.prototype.reloadTile=function(O,D){var F=this,V=this.loaded,Q=O.uid,rt=this;if(V&&V[Q]){var mt=V[Q];mt.showCollisionBoxes=O.showCollisionBoxes;var ct=function(lt,vt){var Ot=mt.reloadCallback;Ot&&(delete mt.reloadCallback,mt.parse(mt.vectorTile,rt.layerIndex,F.availableImages,rt.actor,Ot)),D(lt,vt)};mt.status==="parsing"?mt.reloadCallback=ct:mt.status==="done"&&(mt.vectorTile?mt.parse(mt.vectorTile,this.layerIndex,this.availableImages,this.actor,ct):ct())}},U.prototype.abortTile=function(O,D){var F=this.loading,V=O.uid;F&&F[V]&&F[V].abort&&(F[V].abort(),delete F[V]),D()},U.prototype.removeTile=function(O,D){var F=this.loaded,V=O.uid;F&&F[V]&&delete F[V],D()};var H=a.window.ImageBitmap,it=function(){this.loaded={}};it.prototype.loadTile=function(O,D){var F=O.uid,V=O.encoding,Q=O.rawImageData,rt=H&&Q instanceof H?this.getImageData(Q):Q,mt=new a.DEMData(F,rt,V);this.loaded=this.loaded||{},this.loaded[F]=mt,D(null,mt)},it.prototype.getImageData=function(O){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(O.width,O.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=O.width,this.offscreenCanvas.height=O.height,this.offscreenCanvasContext.drawImage(O,0,0,O.width,O.height);var D=this.offscreenCanvasContext.getImageData(-1,-1,O.width+2,O.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:D.width,height:D.height},D.data)},it.prototype.removeTile=function(O){var D=this.loaded,F=O.uid;D&&D[F]&&delete D[F]};var et=6378137;function dt(O){var D=0;if(O&&O.length>0){D+=Math.abs(st(O[0]));for(var F=1;F<O.length;F++)D-=Math.abs(st(O[F]))}return D}function st(O){var D,F,V,Q,rt,mt,ct=0,lt=O.length;if(lt>2){for(mt=0;mt<lt;mt++)mt===lt-2?(V=lt-2,Q=lt-1,rt=0):mt===lt-1?(V=lt-1,Q=0,rt=1):(V=mt,Q=mt+1,rt=mt+2),D=O[V],F=O[Q],ct+=(at(O[rt][0])-at(D[0]))*Math.sin(at(F[1]));ct=ct*et*et/2}return ct}function at(O){return O*Math.PI/180}var yt={geometry:function O(D){var F,V=0;switch(D.type){case"Polygon":return dt(D.coordinates);case"MultiPolygon":for(F=0;F<D.coordinates.length;F++)V+=dt(D.coordinates[F]);return V;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(F=0;F<D.geometries.length;F++)V+=O(D.geometries[F]);return V}},ring:st},Ct=function O(D,F){switch(D&&D.type||null){case"FeatureCollection":return D.features=D.features.map(xt(O,F)),D;case"GeometryCollection":return D.geometries=D.geometries.map(xt(O,F)),D;case"Feature":return D.geometry=O(D.geometry,F),D;case"Polygon":case"MultiPolygon":return function(V,Q){return V.type==="Polygon"?V.coordinates=Vt(V.coordinates,Q):V.type==="MultiPolygon"&&(V.coordinates=V.coordinates.map(xt(Vt,Q))),V}(D,F);default:return D}};function xt(O,D){return function(F){return O(F,D)}}function Vt(O,D){D=!!D,O[0]=Dt(O[0],D);for(var F=1;F<O.length;F++)O[F]=Dt(O[F],!D);return O}function Dt(O,D){return function(F){return yt.ring(F)>=0}(O)===D?O:O.reverse()}var Bt=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,Zt=function(O){this._feature=O,this.extent=a.EXTENT,this.type=O.type,this.properties=O.tags,"id"in O&&!isNaN(O.id)&&(this.id=parseInt(O.id,10))};Zt.prototype.loadGeometry=function(){if(this._feature.type===1){for(var O=[],D=0,F=this._feature.geometry;D<F.length;D+=1){var V=F[D];O.push([new a.Point$1(V[0],V[1])])}return O}for(var Q=[],rt=0,mt=this._feature.geometry;rt<mt.length;rt+=1){for(var ct=[],lt=0,vt=mt[rt];lt<vt.length;lt+=1){var Ot=vt[lt];ct.push(new a.Point$1(Ot[0],Ot[1]))}Q.push(ct)}return Q},Zt.prototype.toGeoJSON=function(O,D,F){return Bt.call(this,O,D,F)};var Jt=function(O){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=O.length,this._features=O};Jt.prototype.feature=function(O){return new Zt(this._features[O])};var te=a.vectorTile.VectorTileFeature,Nt=oe;function oe(O,D){this.options=D||{},this.features=O,this.length=O.length}function ue(O,D){this.id=typeof O.id=="number"?O.id:void 0,this.type=O.type,this.rawGeometry=O.type===1?[O.geometry]:O.geometry,this.properties=O.tags,this.extent=D||4096}oe.prototype.feature=function(O){return new ue(this.features[O],this.options.extent)},ue.prototype.loadGeometry=function(){var O=this.rawGeometry;this.geometry=[];for(var D=0;D<O.length;D++){for(var F=O[D],V=[],Q=0;Q<F.length;Q++)V.push(new a.Point$1(F[Q][0],F[Q][1]));this.geometry.push(V)}return this.geometry},ue.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var O=this.geometry,D=1/0,F=-1/0,V=1/0,Q=-1/0,rt=0;rt<O.length;rt++)for(var mt=O[rt],ct=0;ct<mt.length;ct++){var lt=mt[ct];D=Math.min(D,lt.x),F=Math.max(F,lt.x),V=Math.min(V,lt.y),Q=Math.max(Q,lt.y)}return[D,V,F,Q]},ue.prototype.toGeoJSON=te.prototype.toGeoJSON;var be=Nr,ke=Nr,Xe=function(O,D){D=D||{};var F={};for(var V in O)F[V]=new Nt(O[V].features,D),F[V].name=V,F[V].version=D.version,F[V].extent=D.extent;return Nr({layers:F})},dr=Nt;function Nr(O){var D=new a.pbf;return function(F,V){for(var Q in F.layers)V.writeMessage(3,nr,F.layers[Q])}(O,D),D.finish()}function nr(O,D){var F;D.writeVarintField(15,O.version||1),D.writeStringField(1,O.name||""),D.writeVarintField(5,O.extent||4096);var V={keys:[],values:[],keycache:{},valuecache:{}};for(F=0;F<O.length;F++)V.feature=O.feature(F),D.writeMessage(2,Zr,V);var Q=V.keys;for(F=0;F<Q.length;F++)D.writeStringField(3,Q[F]);var rt=V.values;for(F=0;F<rt.length;F++)D.writeMessage(4,lr,rt[F])}function Zr(O,D){var F=O.feature;F.id!==void 0&&D.writeVarintField(1,F.id),D.writeMessage(2,fr,O),D.writeVarintField(3,F.type),D.writeMessage(4,Ee,F)}function fr(O,D){var F=O.feature,V=O.keys,Q=O.values,rt=O.keycache,mt=O.valuecache;for(var ct in F.properties){var lt=F.properties[ct],vt=rt[ct];if(lt!==null){vt===void 0&&(V.push(ct),vt=V.length-1,rt[ct]=vt),D.writeVarint(vt);var Ot=typeof lt;Ot!=="string"&&Ot!=="boolean"&&Ot!=="number"&&(lt=JSON.stringify(lt));var $t=Ot+":"+lt,kt=mt[$t];kt===void 0&&(Q.push(lt),kt=Q.length-1,mt[$t]=kt),D.writeVarint(kt)}}}function vr(O,D){return(D<<3)+(7&O)}function Sr(O){return O<<1^O>>31}function Ee(O,D){for(var F=O.loadGeometry(),V=O.type,Q=0,rt=0,mt=F.length,ct=0;ct<mt;ct++){var lt=F[ct],vt=1;V===1&&(vt=lt.length),D.writeVarint(vr(1,vt));for(var Ot=V===3?lt.length-1:lt.length,$t=0;$t<Ot;$t++){$t===1&&V!==1&&D.writeVarint(vr(2,Ot-1));var kt=lt[$t].x-Q,jt=lt[$t].y-rt;D.writeVarint(Sr(kt)),D.writeVarint(Sr(jt)),Q+=kt,rt+=jt}V===3&&D.writeVarint(vr(7,1))}}function lr(O,D){var F=typeof O;F==="string"?D.writeStringField(1,O):F==="boolean"?D.writeBooleanField(7,O):F==="number"&&(O%1!=0?D.writeDoubleField(3,O):O<0?D.writeSVarintField(6,O):D.writeVarintField(5,O))}function xe(O,D,F,V,Q,rt){if(!(Q-V<=F)){var mt=V+Q>>1;(function ct(lt,vt,Ot,$t,kt,jt){for(;kt>$t;){if(kt-$t>600){var Kt=kt-$t+1,ne=Ot-$t+1,de=Math.log(Kt),Wt=.5*Math.exp(2*de/3),ze=.5*Math.sqrt(de*Wt*(Kt-Wt)/Kt)*(ne-Kt/2<0?-1:1),De=Math.max($t,Math.floor(Ot-ne*Wt/Kt+ze)),we=Math.min(kt,Math.floor(Ot+(Kt-ne)*Wt/Kt+ze));ct(lt,vt,Ot,De,we,jt)}var Ie=vt[2*Ot+jt],Er=$t,Le=kt;for(Ve(lt,vt,$t,Ot),vt[2*kt+jt]>Ie&&Ve(lt,vt,$t,kt);Er<Le;){for(Ve(lt,vt,Er,Le),Er++,Le--;vt[2*Er+jt]<Ie;)Er++;for(;vt[2*Le+jt]>Ie;)Le--}vt[2*$t+jt]===Ie?Ve(lt,vt,$t,Le):(Le++,Ve(lt,vt,Le,kt)),Le<=Ot&&($t=Le+1),Ot<=Le&&(kt=Le-1)}})(O,D,mt,V,Q,rt%2),xe(O,D,F,V,mt-1,rt+1),xe(O,D,F,mt+1,Q,rt+1)}}function Ve(O,D,F,V){Je(O,F,V),Je(D,2*F,2*V),Je(D,2*F+1,2*V+1)}function Je(O,D,F){var V=O[D];O[D]=O[F],O[F]=V}function or(O,D,F,V){var Q=O-F,rt=D-V;return Q*Q+rt*rt}be.fromVectorTileJs=ke,be.fromGeojsonVt=Xe,be.GeoJSONWrapper=dr;var Gt=function(O){return O[0]},Se=function(O){return O[1]},ir=function(O,D,F,V,Q){D===void 0&&(D=Gt),F===void 0&&(F=Se),V===void 0&&(V=64),Q===void 0&&(Q=Float64Array),this.nodeSize=V,this.points=O;for(var rt=O.length<65536?Uint16Array:Uint32Array,mt=this.ids=new rt(O.length),ct=this.coords=new Q(2*O.length),lt=0;lt<O.length;lt++)mt[lt]=lt,ct[2*lt]=D(O[lt]),ct[2*lt+1]=F(O[lt]);xe(mt,ct,V,0,mt.length-1,0)};ir.prototype.range=function(O,D,F,V){return function(Q,rt,mt,ct,lt,vt,Ot){for(var $t,kt,jt=[0,Q.length-1,0],Kt=[];jt.length;){var ne=jt.pop(),de=jt.pop(),Wt=jt.pop();if(de-Wt<=Ot)for(var ze=Wt;ze<=de;ze++)$t=rt[2*ze],kt=rt[2*ze+1],$t>=mt&&$t<=lt&&kt>=ct&&kt<=vt&&Kt.push(Q[ze]);else{var De=Math.floor((Wt+de)/2);$t=rt[2*De],kt=rt[2*De+1],$t>=mt&&$t<=lt&&kt>=ct&&kt<=vt&&Kt.push(Q[De]);var we=(ne+1)%2;(ne===0?mt<=$t:ct<=kt)&&(jt.push(Wt),jt.push(De-1),jt.push(we)),(ne===0?lt>=$t:vt>=kt)&&(jt.push(De+1),jt.push(de),jt.push(we))}}return Kt}(this.ids,this.coords,O,D,F,V,this.nodeSize)},ir.prototype.within=function(O,D,F){return function(V,Q,rt,mt,ct,lt){for(var vt=[0,V.length-1,0],Ot=[],$t=ct*ct;vt.length;){var kt=vt.pop(),jt=vt.pop(),Kt=vt.pop();if(jt-Kt<=lt)for(var ne=Kt;ne<=jt;ne++)or(Q[2*ne],Q[2*ne+1],rt,mt)<=$t&&Ot.push(V[ne]);else{var de=Math.floor((Kt+jt)/2),Wt=Q[2*de],ze=Q[2*de+1];or(Wt,ze,rt,mt)<=$t&&Ot.push(V[de]);var De=(kt+1)%2;(kt===0?rt-ct<=Wt:mt-ct<=ze)&&(vt.push(Kt),vt.push(de-1),vt.push(De)),(kt===0?rt+ct>=Wt:mt+ct>=ze)&&(vt.push(de+1),vt.push(jt),vt.push(De))}}return Ot}(this.ids,this.coords,O,D,F,this.nodeSize)};var _r,hn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(O){return O}},zr=Math.fround||(_r=new Float32Array(1),function(O){return _r[0]=+O,_r[0]}),mr=function(O){this.options=mi(Object.create(hn),O),this.trees=new Array(this.options.maxZoom+1)};function Mn(O,D,F,V,Q){return{x:zr(O),y:zr(D),zoom:1/0,id:F,parentId:-1,numPoints:V,properties:Q}}function qe(O,D){var F=O.geometry.coordinates,V=F[0],Q=F[1];return{x:zr(Jr(V)),y:zr(ki(Q)),zoom:1/0,index:D,parentId:-1}}function vn(O){return{type:"Feature",id:O.id,properties:An(O),geometry:{type:"Point",coordinates:[(V=O.x,360*(V-.5)),(D=O.y,F=(180-360*D)*Math.PI/180,360*Math.atan(Math.exp(F))/Math.PI-90)]}};var D,F,V}function An(O){var D=O.numPoints,F=D>=1e4?Math.round(D/1e3)+"k":D>=1e3?Math.round(D/100)/10+"k":D;return mi(mi({},O.properties),{cluster:!0,cluster_id:O.id,point_count:D,point_count_abbreviated:F})}function Jr(O){return O/360+.5}function ki(O){var D=Math.sin(O*Math.PI/180),F=.5-.25*Math.log((1+D)/(1-D))/Math.PI;return F<0?0:F>1?1:F}function mi(O,D){for(var F in D)O[F]=D[F];return O}function Ci(O){return O.x}function Dr(O){return O.y}function Si(O,D,F,V,Q,rt){var mt=Q-F,ct=rt-V;if(mt!==0||ct!==0){var lt=((O-F)*mt+(D-V)*ct)/(mt*mt+ct*ct);lt>1?(F=Q,V=rt):lt>0&&(F+=mt*lt,V+=ct*lt)}return(mt=O-F)*mt+(ct=D-V)*ct}function ti(O,D,F,V){var Q={id:O===void 0?null:O,type:D,geometry:F,tags:V,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(rt){var mt=rt.geometry,ct=rt.type;if(ct==="Point"||ct==="MultiPoint"||ct==="LineString")li(rt,mt);else if(ct==="Polygon"||ct==="MultiLineString")for(var lt=0;lt<mt.length;lt++)li(rt,mt[lt]);else if(ct==="MultiPolygon")for(lt=0;lt<mt.length;lt++)for(var vt=0;vt<mt[lt].length;vt++)li(rt,mt[lt][vt])}(Q),Q}function li(O,D){for(var F=0;F<D.length;F+=3)O.minX=Math.min(O.minX,D[F]),O.minY=Math.min(O.minY,D[F+1]),O.maxX=Math.max(O.maxX,D[F]),O.maxY=Math.max(O.maxY,D[F+1])}function Zi(O,D,F,V){if(D.geometry){var Q=D.geometry.coordinates,rt=D.geometry.type,mt=Math.pow(F.tolerance/((1<<F.maxZoom)*F.extent),2),ct=[],lt=D.id;if(F.promoteId?lt=D.properties[F.promoteId]:F.generateId&&(lt=V||0),rt==="Point")Oe(Q,ct);else if(rt==="MultiPoint")for(var vt=0;vt<Q.length;vt++)Oe(Q[vt],ct);else if(rt==="LineString")Ar(Q,ct,mt,!1);else if(rt==="MultiLineString"){if(F.lineMetrics){for(vt=0;vt<Q.length;vt++)ct=[],Ar(Q[vt],ct,mt,!1),O.push(ti(lt,"LineString",ct,D.properties));return}on(Q,ct,mt,!1)}else if(rt==="Polygon")on(Q,ct,mt,!0);else{if(rt!=="MultiPolygon"){if(rt==="GeometryCollection"){for(vt=0;vt<D.geometry.geometries.length;vt++)Zi(O,{id:lt,geometry:D.geometry.geometries[vt],properties:D.properties},F,V);return}throw new Error("Input data is not a valid GeoJSON object.")}for(vt=0;vt<Q.length;vt++){var Ot=[];on(Q[vt],Ot,mt,!0),ct.push(Ot)}}O.push(ti(lt,rt,ct,D.properties))}}function Oe(O,D){D.push(Oi(O[0])),D.push(Mo(O[1])),D.push(0)}function Ar(O,D,F,V){for(var Q,rt,mt=0,ct=0;ct<O.length;ct++){var lt=Oi(O[ct][0]),vt=Mo(O[ct][1]);D.push(lt),D.push(vt),D.push(0),ct>0&&(mt+=V?(Q*vt-lt*rt)/2:Math.sqrt(Math.pow(lt-Q,2)+Math.pow(vt-rt,2))),Q=lt,rt=vt}var Ot=D.length-3;D[2]=1,function $t(kt,jt,Kt,ne){for(var de,Wt=ne,ze=Kt-jt>>1,De=Kt-jt,we=kt[jt],Ie=kt[jt+1],Er=kt[Kt],Le=kt[Kt+1],Qe=jt+3;Qe<Kt;Qe+=3){var Tr=Si(kt[Qe],kt[Qe+1],we,Ie,Er,Le);if(Tr>Wt)de=Qe,Wt=Tr;else if(Tr===Wt){var ar=Math.abs(Qe-ze);ar<De&&(de=Qe,De=ar)}}Wt>ne&&(de-jt>3&&$t(kt,jt,de,ne),kt[de+2]=Wt,Kt-de>3&&$t(kt,de,Kt,ne))}(D,0,Ot,F),D[Ot+2]=1,D.size=Math.abs(mt),D.start=0,D.end=D.size}function on(O,D,F,V){for(var Q=0;Q<O.length;Q++){var rt=[];Ar(O[Q],rt,F,V),D.push(rt)}}function Oi(O){return O/360+.5}function Mo(O){var D=Math.sin(O*Math.PI/180),F=.5-.25*Math.log((1+D)/(1-D))/Math.PI;return F<0?0:F>1?1:F}function ui(O,D,F,V,Q,rt,mt,ct){if(V/=D,rt>=(F/=D)&&mt<V)return O;if(mt<F||rt>=V)return null;for(var lt=[],vt=0;vt<O.length;vt++){var Ot=O[vt],$t=Ot.geometry,kt=Ot.type,jt=Q===0?Ot.minX:Ot.minY,Kt=Q===0?Ot.maxX:Ot.maxY;if(jt>=F&&Kt<V)lt.push(Ot);else if(!(Kt<F||jt>=V)){var ne=[];if(kt==="Point"||kt==="MultiPoint")fs($t,ne,F,V,Q);else if(kt==="LineString")la($t,ne,F,V,Q,!1,ct.lineMetrics);else if(kt==="MultiLineString")Ao($t,ne,F,V,Q,!1);else if(kt==="Polygon")Ao($t,ne,F,V,Q,!0);else if(kt==="MultiPolygon")for(var de=0;de<$t.length;de++){var Wt=[];Ao($t[de],Wt,F,V,Q,!0),Wt.length&&ne.push(Wt)}if(ne.length){if(ct.lineMetrics&&kt==="LineString"){for(de=0;de<ne.length;de++)lt.push(ti(Ot.id,kt,ne[de],Ot.tags));continue}kt!=="LineString"&&kt!=="MultiLineString"||(ne.length===1?(kt="LineString",ne=ne[0]):kt="MultiLineString"),kt!=="Point"&&kt!=="MultiPoint"||(kt=ne.length===3?"Point":"MultiPoint"),lt.push(ti(Ot.id,kt,ne,Ot.tags))}}}return lt.length?lt:null}function fs(O,D,F,V,Q){for(var rt=0;rt<O.length;rt+=3){var mt=O[rt+Q];mt>=F&&mt<=V&&(D.push(O[rt]),D.push(O[rt+1]),D.push(O[rt+2]))}}function la(O,D,F,V,Q,rt,mt){for(var ct,lt,vt=za(O),Ot=Q===0?ua:ko,$t=O.start,kt=0;kt<O.length-3;kt+=3){var jt=O[kt],Kt=O[kt+1],ne=O[kt+2],de=O[kt+3],Wt=O[kt+4],ze=Q===0?jt:Kt,De=Q===0?de:Wt,we=!1;mt&&(ct=Math.sqrt(Math.pow(jt-de,2)+Math.pow(Kt-Wt,2))),ze<F?De>F&&(lt=Ot(vt,jt,Kt,de,Wt,F),mt&&(vt.start=$t+ct*lt)):ze>V?De<V&&(lt=Ot(vt,jt,Kt,de,Wt,V),mt&&(vt.start=$t+ct*lt)):po(vt,jt,Kt,ne),De<F&&ze>=F&&(lt=Ot(vt,jt,Kt,de,Wt,F),we=!0),De>V&&ze<=V&&(lt=Ot(vt,jt,Kt,de,Wt,V),we=!0),!rt&&we&&(mt&&(vt.end=$t+ct*lt),D.push(vt),vt=za(O)),mt&&($t+=ct)}var Ie=O.length-3;jt=O[Ie],Kt=O[Ie+1],ne=O[Ie+2],(ze=Q===0?jt:Kt)>=F&&ze<=V&&po(vt,jt,Kt,ne),Ie=vt.length-3,rt&&Ie>=3&&(vt[Ie]!==vt[0]||vt[Ie+1]!==vt[1])&&po(vt,vt[0],vt[1],vt[2]),vt.length&&D.push(vt)}function za(O){var D=[];return D.size=O.size,D.start=O.start,D.end=O.end,D}function Ao(O,D,F,V,Q,rt){for(var mt=0;mt<O.length;mt++)la(O[mt],D,F,V,Q,rt,!1)}function po(O,D,F,V){O.push(D),O.push(F),O.push(V)}function ua(O,D,F,V,Q,rt){var mt=(rt-D)/(V-D);return O.push(rt),O.push(F+(Q-F)*mt),O.push(1),mt}function ko(O,D,F,V,Q,rt){var mt=(rt-F)/(Q-F);return O.push(D+(V-D)*mt),O.push(rt),O.push(1),mt}function Da(O,D){for(var F=[],V=0;V<O.length;V++){var Q,rt=O[V],mt=rt.type;if(mt==="Point"||mt==="MultiPoint"||mt==="LineString")Q=$o(rt.geometry,D);else if(mt==="MultiLineString"||mt==="Polygon"){Q=[];for(var ct=0;ct<rt.geometry.length;ct++)Q.push($o(rt.geometry[ct],D))}else if(mt==="MultiPolygon")for(Q=[],ct=0;ct<rt.geometry.length;ct++){for(var lt=[],vt=0;vt<rt.geometry[ct].length;vt++)lt.push($o(rt.geometry[ct][vt],D));Q.push(lt)}F.push(ti(rt.id,mt,Q,rt.tags))}return F}function $o(O,D){var F=[];F.size=O.size,O.start!==void 0&&(F.start=O.start,F.end=O.end);for(var V=0;V<O.length;V+=3)F.push(O[V]+D,O[V+1],O[V+2]);return F}function Zo(O,D){if(O.transformed)return O;var F,V,Q,rt=1<<O.z,mt=O.x,ct=O.y;for(F=0;F<O.features.length;F++){var lt=O.features[F],vt=lt.geometry,Ot=lt.type;if(lt.geometry=[],Ot===1)for(V=0;V<vt.length;V+=2)lt.geometry.push(yr(vt[V],vt[V+1],D,rt,mt,ct));else for(V=0;V<vt.length;V++){var $t=[];for(Q=0;Q<vt[V].length;Q+=2)$t.push(yr(vt[V][Q],vt[V][Q+1],D,rt,mt,ct));lt.geometry.push($t)}}return O.transformed=!0,O}function yr(O,D,F,V,Q,rt){return[Math.round(F*(O*V-Q)),Math.round(F*(D*V-rt))]}function fn(O,D,F,V,Q){for(var rt=D===Q.maxZoom?0:Q.tolerance/((1<<D)*Q.extent),mt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:F,y:V,z:D,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ct=0;ct<O.length;ct++){mt.numFeatures++,Lr(mt,O[ct],rt,Q);var lt=O[ct].minX,vt=O[ct].minY,Ot=O[ct].maxX,$t=O[ct].maxY;lt<mt.minX&&(mt.minX=lt),vt<mt.minY&&(mt.minY=vt),Ot>mt.maxX&&(mt.maxX=Ot),$t>mt.maxY&&(mt.maxY=$t)}return mt}function Lr(O,D,F,V){var Q=D.geometry,rt=D.type,mt=[];if(rt==="Point"||rt==="MultiPoint")for(var ct=0;ct<Q.length;ct+=3)mt.push(Q[ct]),mt.push(Q[ct+1]),O.numPoints++,O.numSimplified++;else if(rt==="LineString")At(mt,Q,O,F,!1,!1);else if(rt==="MultiLineString"||rt==="Polygon")for(ct=0;ct<Q.length;ct++)At(mt,Q[ct],O,F,rt==="Polygon",ct===0);else if(rt==="MultiPolygon")for(var lt=0;lt<Q.length;lt++){var vt=Q[lt];for(ct=0;ct<vt.length;ct++)At(mt,vt[ct],O,F,!0,ct===0)}if(mt.length){var Ot=D.tags||null;if(rt==="LineString"&&V.lineMetrics){for(var $t in Ot={},D.tags)Ot[$t]=D.tags[$t];Ot.mapbox_clip_start=Q.start/Q.size,Ot.mapbox_clip_end=Q.end/Q.size}var kt={geometry:mt,type:rt==="Polygon"||rt==="MultiPolygon"?3:rt==="LineString"||rt==="MultiLineString"?2:1,tags:Ot};D.id!==null&&(kt.id=D.id),O.features.push(kt)}}function At(O,D,F,V,Q,rt){var mt=V*V;if(V>0&&D.size<(Q?mt:V))F.numPoints+=D.length/3;else{for(var ct=[],lt=0;lt<D.length;lt+=3)(V===0||D[lt+2]>mt)&&(F.numSimplified++,ct.push(D[lt]),ct.push(D[lt+1])),F.numPoints++;Q&&function(vt,Ot){for(var $t=0,kt=0,jt=vt.length,Kt=jt-2;kt<jt;Kt=kt,kt+=2)$t+=(vt[kt]-vt[Kt])*(vt[kt+1]+vt[Kt+1]);if($t>0===Ot)for(kt=0,jt=vt.length;kt<jt/2;kt+=2){var ne=vt[kt],de=vt[kt+1];vt[kt]=vt[jt-2-kt],vt[kt+1]=vt[jt-1-kt],vt[jt-2-kt]=ne,vt[jt-1-kt]=de}}(ct,rt),O.push(ct)}}function Qt(O,D){var F=(D=this.options=function(Q,rt){for(var mt in rt)Q[mt]=rt[mt];return Q}(Object.create(this.options),D)).debug;if(F&&console.time("preprocess data"),D.maxZoom<0||D.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(D.promoteId&&D.generateId)throw new Error("promoteId and generateId cannot be used together.");var V=function(Q,rt){var mt=[];if(Q.type==="FeatureCollection")for(var ct=0;ct<Q.features.length;ct++)Zi(mt,Q.features[ct],rt,ct);else Q.type==="Feature"?Zi(mt,Q,rt):Zi(mt,{geometry:Q},rt);return mt}(O,D);this.tiles={},this.tileCoords=[],F&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",D.indexMaxZoom,D.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(V=function(Q,rt){var mt=rt.buffer/rt.extent,ct=Q,lt=ui(Q,1,-1-mt,mt,0,-1,2,rt),vt=ui(Q,1,1-mt,2+mt,0,-1,2,rt);return(lt||vt)&&(ct=ui(Q,1,-mt,1+mt,0,-1,2,rt)||[],lt&&(ct=Da(lt,1).concat(ct)),vt&&(ct=ct.concat(Da(vt,-1)))),ct}(V,D)).length&&this.splitTile(V,0,0,0),F&&(V.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function qi(O,D,F){return 32*((1<<O)*F+D)+O}function Wi(O,D){var F=O.tileID.canonical;if(!this._geoJSONIndex)return D(null,null);var V=this._geoJSONIndex.getTile(F.z,F.x,F.y);if(!V)return D(null,null);var Q=new Jt(V.features),rt=be(Q);rt.byteOffset===0&&rt.byteLength===rt.buffer.byteLength||(rt=new Uint8Array(rt)),D(null,{vectorTile:Q,rawData:rt.buffer})}mr.prototype.load=function(O){var D=this.options,F=D.log,V=D.minZoom,Q=D.maxZoom,rt=D.nodeSize;F&&console.time("total time");var mt="prepare "+O.length+" points";F&&console.time(mt),this.points=O;for(var ct=[],lt=0;lt<O.length;lt++)O[lt].geometry&&ct.push(qe(O[lt],lt));this.trees[Q+1]=new ir(ct,Ci,Dr,rt,Float32Array),F&&console.timeEnd(mt);for(var vt=Q;vt>=V;vt--){var Ot=+Date.now();ct=this._cluster(ct,vt),this.trees[vt]=new ir(ct,Ci,Dr,rt,Float32Array),F&&console.log("z%d: %d clusters in %dms",vt,ct.length,+Date.now()-Ot)}return F&&console.timeEnd("total time"),this},mr.prototype.getClusters=function(O,D){var F=((O[0]+180)%360+360)%360-180,V=Math.max(-90,Math.min(90,O[1])),Q=O[2]===180?180:((O[2]+180)%360+360)%360-180,rt=Math.max(-90,Math.min(90,O[3]));if(O[2]-O[0]>=360)F=-180,Q=180;else if(F>Q){var mt=this.getClusters([F,V,180,rt],D),ct=this.getClusters([-180,V,Q,rt],D);return mt.concat(ct)}for(var lt=this.trees[this._limitZoom(D)],vt=[],Ot=0,$t=lt.range(Jr(F),ki(rt),Jr(Q),ki(V));Ot<$t.length;Ot+=1){var kt=$t[Ot],jt=lt.points[kt];vt.push(jt.numPoints?vn(jt):this.points[jt.index])}return vt},mr.prototype.getChildren=function(O){var D=this._getOriginId(O),F=this._getOriginZoom(O),V="No cluster with the specified id.",Q=this.trees[F];if(!Q)throw new Error(V);var rt=Q.points[D];if(!rt)throw new Error(V);for(var mt=this.options.radius/(this.options.extent*Math.pow(2,F-1)),ct=[],lt=0,vt=Q.within(rt.x,rt.y,mt);lt<vt.length;lt+=1){var Ot=vt[lt],$t=Q.points[Ot];$t.parentId===O&&ct.push($t.numPoints?vn($t):this.points[$t.index])}if(ct.length===0)throw new Error(V);return ct},mr.prototype.getLeaves=function(O,D,F){D=D||10,F=F||0;var V=[];return this._appendLeaves(V,O,D,F,0),V},mr.prototype.getTile=function(O,D,F){var V=this.trees[this._limitZoom(O)],Q=Math.pow(2,O),rt=this.options,mt=rt.extent,ct=rt.radius/mt,lt=(F-ct)/Q,vt=(F+1+ct)/Q,Ot={features:[]};return this._addTileFeatures(V.range((D-ct)/Q,lt,(D+1+ct)/Q,vt),V.points,D,F,Q,Ot),D===0&&this._addTileFeatures(V.range(1-ct/Q,lt,1,vt),V.points,Q,F,Q,Ot),D===Q-1&&this._addTileFeatures(V.range(0,lt,ct/Q,vt),V.points,-1,F,Q,Ot),Ot.features.length?Ot:null},mr.prototype.getClusterExpansionZoom=function(O){for(var D=this._getOriginZoom(O)-1;D<=this.options.maxZoom;){var F=this.getChildren(O);if(D++,F.length!==1)break;O=F[0].properties.cluster_id}return D},mr.prototype._appendLeaves=function(O,D,F,V,Q){for(var rt=0,mt=this.getChildren(D);rt<mt.length;rt+=1){var ct=mt[rt],lt=ct.properties;if(lt&&lt.cluster?Q+lt.point_count<=V?Q+=lt.point_count:Q=this._appendLeaves(O,lt.cluster_id,F,V,Q):Q<V?Q++:O.push(ct),O.length===F)break}return Q},mr.prototype._addTileFeatures=function(O,D,F,V,Q,rt){for(var mt=0,ct=O;mt<ct.length;mt+=1){var lt=D[ct[mt]],vt=lt.numPoints,Ot=void 0,$t=void 0,kt=void 0;if(vt)Ot=An(lt),$t=lt.x,kt=lt.y;else{var jt=this.points[lt.index];Ot=jt.properties,$t=Jr(jt.geometry.coordinates[0]),kt=ki(jt.geometry.coordinates[1])}var Kt={type:1,geometry:[[Math.round(this.options.extent*($t*Q-F)),Math.round(this.options.extent*(kt*Q-V))]],tags:Ot},ne=void 0;vt?ne=lt.id:this.options.generateId?ne=lt.index:this.points[lt.index].id&&(ne=this.points[lt.index].id),ne!==void 0&&(Kt.id=ne),rt.features.push(Kt)}},mr.prototype._limitZoom=function(O){return Math.max(this.options.minZoom,Math.min(+O,this.options.maxZoom+1))},mr.prototype._cluster=function(O,D){for(var F=[],V=this.options,Q=V.radius,rt=V.extent,mt=V.reduce,ct=V.minPoints,lt=Q/(rt*Math.pow(2,D)),vt=0;vt<O.length;vt++){var Ot=O[vt];if(!(Ot.zoom<=D)){Ot.zoom=D;for(var $t=this.trees[D+1],kt=$t.within(Ot.x,Ot.y,lt),jt=Ot.numPoints||1,Kt=jt,ne=0,de=kt;ne<de.length;ne+=1){var Wt=de[ne],ze=$t.points[Wt];ze.zoom>D&&(Kt+=ze.numPoints||1)}if(Kt>=ct){for(var De=Ot.x*jt,we=Ot.y*jt,Ie=mt&&jt>1?this._map(Ot,!0):null,Er=(vt<<5)+(D+1)+this.points.length,Le=0,Qe=kt;Le<Qe.length;Le+=1){var Tr=Qe[Le],ar=$t.points[Tr];if(!(ar.zoom<=D)){ar.zoom=D;var Rn=ar.numPoints||1;De+=ar.x*Rn,we+=ar.y*Rn,ar.parentId=Er,mt&&(Ie||(Ie=this._map(Ot,!0)),mt(Ie,this._map(ar)))}}Ot.parentId=Er,F.push(Mn(De/Kt,we/Kt,Er,Kt,Ie))}else if(F.push(Ot),Kt>1)for(var tr=0,qr=kt;tr<qr.length;tr+=1){var We=qr[tr],an=$t.points[We];an.zoom<=D||(an.zoom=D,F.push(an))}}}return F},mr.prototype._getOriginId=function(O){return O-this.points.length>>5},mr.prototype._getOriginZoom=function(O){return(O-this.points.length)%32},mr.prototype._map=function(O,D){if(O.numPoints)return D?mi({},O.properties):O.properties;var F=this.points[O.index].properties,V=this.options.map(F);return D&&V===F?mi({},V):V},Qt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qt.prototype.splitTile=function(O,D,F,V,Q,rt,mt){for(var ct=[O,D,F,V],lt=this.options,vt=lt.debug;ct.length;){V=ct.pop(),F=ct.pop(),D=ct.pop(),O=ct.pop();var Ot=1<<D,$t=qi(D,F,V),kt=this.tiles[$t];if(!kt&&(vt>1&&console.time("creation"),kt=this.tiles[$t]=fn(O,D,F,V,lt),this.tileCoords.push({z:D,x:F,y:V}),vt)){vt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",D,F,V,kt.numFeatures,kt.numPoints,kt.numSimplified),console.timeEnd("creation"));var jt="z"+D;this.stats[jt]=(this.stats[jt]||0)+1,this.total++}if(kt.source=O,Q){if(D===lt.maxZoom||D===Q)continue;var Kt=1<<Q-D;if(F!==Math.floor(rt/Kt)||V!==Math.floor(mt/Kt))continue}else if(D===lt.indexMaxZoom||kt.numPoints<=lt.indexMaxPoints)continue;if(kt.source=null,O.length!==0){vt>1&&console.time("clipping");var ne,de,Wt,ze,De,we,Ie=.5*lt.buffer/lt.extent,Er=.5-Ie,Le=.5+Ie,Qe=1+Ie;ne=de=Wt=ze=null,De=ui(O,Ot,F-Ie,F+Le,0,kt.minX,kt.maxX,lt),we=ui(O,Ot,F+Er,F+Qe,0,kt.minX,kt.maxX,lt),O=null,De&&(ne=ui(De,Ot,V-Ie,V+Le,1,kt.minY,kt.maxY,lt),de=ui(De,Ot,V+Er,V+Qe,1,kt.minY,kt.maxY,lt),De=null),we&&(Wt=ui(we,Ot,V-Ie,V+Le,1,kt.minY,kt.maxY,lt),ze=ui(we,Ot,V+Er,V+Qe,1,kt.minY,kt.maxY,lt),we=null),vt>1&&console.timeEnd("clipping"),ct.push(ne||[],D+1,2*F,2*V),ct.push(de||[],D+1,2*F,2*V+1),ct.push(Wt||[],D+1,2*F+1,2*V),ct.push(ze||[],D+1,2*F+1,2*V+1)}}},Qt.prototype.getTile=function(O,D,F){var V=this.options,Q=V.extent,rt=V.debug;if(O<0||O>24)return null;var mt=1<<O,ct=qi(O,D=(D%mt+mt)%mt,F);if(this.tiles[ct])return Zo(this.tiles[ct],Q);rt>1&&console.log("drilling down to z%d-%d-%d",O,D,F);for(var lt,vt=O,Ot=D,$t=F;!lt&&vt>0;)vt--,Ot=Math.floor(Ot/2),$t=Math.floor($t/2),lt=this.tiles[qi(vt,Ot,$t)];return lt&&lt.source?(rt>1&&console.log("found parent tile z%d-%d-%d",vt,Ot,$t),rt>1&&console.time("drilling down"),this.splitTile(lt.source,vt,Ot,$t,O,D,F),rt>1&&console.timeEnd("drilling down"),this.tiles[ct]?Zo(this.tiles[ct],Q):null):null};var dn=function(O){function D(F,V,Q,rt){O.call(this,F,V,Q,Wi),rt&&(this.loadGeoJSON=rt)}return O&&(D.__proto__=O),D.prototype=Object.create(O&&O.prototype),D.prototype.constructor=D,D.prototype.loadData=function(F,V){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=V,this._pendingLoadDataParams=F,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},D.prototype._loadData=function(){var F=this;if(this._pendingCallback&&this._pendingLoadDataParams){var V=this._pendingCallback,Q=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var rt=!!(Q&&Q.request&&Q.request.collectResourceTiming)&&new a.RequestPerformance(Q.request);this.loadGeoJSON(Q,function(mt,ct){if(mt||!ct)return V(mt);if(typeof ct!="object")return V(new Error("Input data given to '"+Q.source+"' is not a valid GeoJSON object."));Ct(ct,!0);try{F._geoJSONIndex=Q.cluster?new mr(function(Ot){var $t=Ot.superclusterOptions,kt=Ot.clusterProperties;if(!kt||!$t)return $t;for(var jt={},Kt={},ne={accumulated:null,zoom:0},de={properties:null},Wt=Object.keys(kt),ze=0,De=Wt;ze<De.length;ze+=1){var we=De[ze],Ie=kt[we],Er=Ie[0],Le=Ie[1],Qe=a.createExpression(Le),Tr=a.createExpression(typeof Er=="string"?[Er,["accumulated"],["get",we]]:Er);jt[we]=Qe.value,Kt[we]=Tr.value}return $t.map=function(ar){de.properties=ar;for(var Rn={},tr=0,qr=Wt;tr<qr.length;tr+=1){var We=qr[tr];Rn[We]=jt[We].evaluate(ne,de)}return Rn},$t.reduce=function(ar,Rn){de.properties=Rn;for(var tr=0,qr=Wt;tr<qr.length;tr+=1){var We=qr[tr];ne.accumulated=ar[We],ar[We]=Kt[We].evaluate(ne,de)}},$t}(Q)).load(ct.features):function(Ot,$t){return new Qt(Ot,$t)}(ct,Q.geojsonVtOptions)}catch(Ot){return V(Ot)}F.loaded={};var lt={};if(rt){var vt=rt.finish();vt&&(lt.resourceTiming={},lt.resourceTiming[Q.source]=JSON.parse(JSON.stringify(vt)))}V(null,lt)})}},D.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},D.prototype.reloadTile=function(F,V){var Q=this.loaded,rt=F.uid;return Q&&Q[rt]?O.prototype.reloadTile.call(this,F,V):this.loadTile(F,V)},D.prototype.loadGeoJSON=function(F,V){if(F.request)a.getJSON(F.request,V);else{if(typeof F.data!="string")return V(new Error("Input data given to '"+F.source+"' is not a valid GeoJSON object."));try{return V(null,JSON.parse(F.data))}catch{return V(new Error("Input data given to '"+F.source+"' is not a valid GeoJSON object."))}}},D.prototype.removeSource=function(F,V){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),V()},D.prototype.getClusterExpansionZoom=function(F,V){V(null,this._geoJSONIndex.getClusterExpansionZoom(F.clusterId))},D.prototype.getClusterChildren=function(F,V){V(null,this._geoJSONIndex.getChildren(F.clusterId))},D.prototype.getClusterLeaves=function(F,V){V(null,this._geoJSONIndex.getLeaves(F.clusterId,F.limit,F.offset))},D}(U),Ur=function(O){var D=this;this.self=O,this.actor=new a.Actor(O,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:U,geojson:dn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(F,V){if(D.workerSourceTypes[F])throw new Error('Worker source with name "'+F+'" already registered.');D.workerSourceTypes[F]=V},this.self.registerRTLTextPlugin=function(F){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=F.applyArabicShaping,a.plugin.processBidirectionalText=F.processBidirectionalText,a.plugin.processStyledBidirectionalText=F.processStyledBidirectionalText}};return Ur.prototype.setReferrer=function(O,D){this.referrer=D},Ur.prototype.setImages=function(O,D,F){this.availableImages[O]=D,F()},Ur.prototype.setLayers=function(O,D,F){this.getLayerIndex(O).replace(D),F()},Ur.prototype.updateLayers=function(O,D,F){this.getLayerIndex(O).update(D.layers,D.removedIds),F()},Ur.prototype.loadTile=function(O,D,F){this.getWorkerSource(O,D.type,D.source).loadTile(D,F)},Ur.prototype.loadDEMTile=function(O,D,F){this.getDEMWorkerSource(O,D.source).loadTile(D,F)},Ur.prototype.reloadTile=function(O,D,F){this.getWorkerSource(O,D.type,D.source).reloadTile(D,F)},Ur.prototype.abortTile=function(O,D,F){this.getWorkerSource(O,D.type,D.source).abortTile(D,F)},Ur.prototype.removeTile=function(O,D,F){this.getWorkerSource(O,D.type,D.source).removeTile(D,F)},Ur.prototype.removeDEMTile=function(O,D){this.getDEMWorkerSource(O,D.source).removeTile(D)},Ur.prototype.removeSource=function(O,D,F){if(this.workerSources[O]&&this.workerSources[O][D.type]&&this.workerSources[O][D.type][D.source]){var V=this.workerSources[O][D.type][D.source];delete this.workerSources[O][D.type][D.source],V.removeSource!==void 0?V.removeSource(D,F):F()}},Ur.prototype.loadWorkerSource=function(O,D,F){try{this.self.importScripts(D.url),F()}catch(V){F(V.toString())}},Ur.prototype.syncRTLPluginState=function(O,D,F){try{a.plugin.setState(D);var V=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&V!=null){this.self.importScripts(V);var Q=a.plugin.isParsed();F(Q?void 0:new Error("RTL Text Plugin failed to import scripts from "+V),Q)}}catch(rt){F(rt.toString())}},Ur.prototype.getAvailableImages=function(O){var D=this.availableImages[O];return D||(D=[]),D},Ur.prototype.getLayerIndex=function(O){var D=this.layerIndexes[O];return D||(D=this.layerIndexes[O]=new P),D},Ur.prototype.getWorkerSource=function(O,D,F){var V=this;if(this.workerSources[O]||(this.workerSources[O]={}),this.workerSources[O][D]||(this.workerSources[O][D]={}),!this.workerSources[O][D][F]){var Q={send:function(rt,mt,ct){V.actor.send(rt,mt,ct,O)}};this.workerSources[O][D][F]=new this.workerSourceTypes[D](Q,this.getLayerIndex(O),this.getAvailableImages(O))}return this.workerSources[O][D][F]},Ur.prototype.getDEMWorkerSource=function(O,D){return this.demWorkerSources[O]||(this.demWorkerSources[O]={}),this.demWorkerSources[O][D]||(this.demWorkerSources[O][D]=new it),this.demWorkerSources[O][D]},Ur.prototype.enforceCacheSizeLimit=function(O,D){a.enforceCacheSizeLimit(D)},typeof WorkerGlobalScope<"u"&&a.window!==void 0&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new Ur(a.window)),Ur}),m(["./shared"],function(a){var x=a.createCommonjsModule(function(s){function c(g){return!u(g)}function u(g){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var _,C,S=new Blob([""],{type:"text/javascript"}),I=URL.createObjectURL(S);try{C=new Worker(I),_=!0}catch{_=!1}return C&&C.terminate(),URL.revokeObjectURL(I),_}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var _=document.createElement("canvas");_.width=_.height=1;var C=_.getContext("2d");if(!C)return!1;var S=C.getImageData(0,0,1,1);return S&&S.width===_.width}()?function(_){return h[_]===void 0&&(h[_]=function(C){var S=function(z){var L=document.createElement("canvas"),Z=Object.create(c.webGLContextAttributes);return Z.failIfMajorPerformanceCaveat=z,L.probablySupportsContext?L.probablySupportsContext("webgl",Z)||L.probablySupportsContext("experimental-webgl",Z):L.supportsContext?L.supportsContext("webgl",Z)||L.supportsContext("experimental-webgl",Z):L.getContext("webgl",Z)||L.getContext("experimental-webgl",Z)}(C);if(!S)return!1;var I=S.createShader(S.VERTEX_SHADER);return!I||S.isContextLost()?!1:(S.shaderSource(I,"void main() {}"),S.compileShader(I),S.getShaderParameter(I,S.COMPILE_STATUS)===!0)}(_)),h[_]}(g&&g.failIfMajorPerformanceCaveat)?void 0:"insufficient WebGL support":"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support"}s.exports?s.exports=c:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=c,window.mapboxgl.notSupportedReason=u);var h={};c.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(s,c,u){var h=a.window.document.createElement(s);return c!==void 0&&(h.className=c),u&&u.appendChild(h),h},createNS:function(s,c){return a.window.document.createElementNS(s,c)}},P=a.window.document.documentElement.style;function M(s){if(!P)return s[0];for(var c=0;c<s.length;c++)if(s[c]in P)return s[c];return s[0]}var k,N=M(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){P&&N&&(k=P[N],P[N]="none")},b.enableDrag=function(){P&&N&&(P[N]=k)};var G=M(["transform","WebkitTransform"]);b.setTransform=function(s,c){s.style[G]=c};var U=!1;try{var H=Object.defineProperty({},"passive",{get:function(){U=!0}});a.window.addEventListener("test",H,H),a.window.removeEventListener("test",H,H)}catch{U=!1}b.addEventListener=function(s,c,u,h){h===void 0&&(h={}),"passive"in h&&U?s.addEventListener(c,u,h):s.addEventListener(c,u,h.capture)},b.removeEventListener=function(s,c,u,h){h===void 0&&(h={}),"passive"in h&&U?s.removeEventListener(c,u,h):s.removeEventListener(c,u,h.capture)};var it=function(s){s.preventDefault(),s.stopPropagation(),a.window.removeEventListener("click",it,!0)};function et(s){var c=s.userImage;return c&&c.render&&c.render()?(s.data.replace(new Uint8Array(c.data.buffer)),!0):!1}b.suppressClick=function(){a.window.addEventListener("click",it,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",it,!0)},0)},b.mousePos=function(s,c){var u=s.getBoundingClientRect(),h=a.window.TouchEvent&&c instanceof a.window.TouchEvent?c.touches[0]:c;return new a.Point(h.clientX-u.left-s.clientLeft,h.clientY-u.top-s.clientTop)},b.touchPos=function(s,c){for(var u=s.getBoundingClientRect(),h=[],g=c.type==="touchend"?c.changedTouches:c.touches,_=0;_<g.length;_++)h.push(new a.Point(g[_].clientX-u.left-s.clientLeft,g[_].clientY-u.top-s.clientTop));return h},b.mouseButton=function(s){return a.window.InstallTrigger!==void 0&&s.button===2&&s.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:s.button},b.remove=function(s){s.parentNode&&s.parentNode.removeChild(s)};var dt=function(s){function c(){s.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.isLoaded=function(){return this.loaded},c.prototype.setLoaded=function(u){if(this.loaded!==u&&(this.loaded=u,u)){for(var h=0,g=this.requestors;h<g.length;h+=1){var _=g[h],C=_.ids,S=_.callback;this._notify(C,S)}this.requestors=[]}},c.prototype.getImage=function(u){return this.images[u]},c.prototype.addImage=function(u,h){this._validate(u,h)&&(this.images[u]=h)},c.prototype._validate=function(u,h){var g=!0;return this._validateStretch(h.stretchX,h.data&&h.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+u+'" has invalid "stretchX" value'))),g=!1),this._validateStretch(h.stretchY,h.data&&h.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+u+'" has invalid "stretchY" value'))),g=!1),this._validateContent(h.content,h)||(this.fire(new a.ErrorEvent(new Error('Image "'+u+'" has invalid "content" value'))),g=!1),g},c.prototype._validateStretch=function(u,h){if(!u)return!0;for(var g=0,_=0,C=u;_<C.length;_+=1){var S=C[_];if(S[0]<g||S[1]<S[0]||h<S[1])return!1;g=S[1]}return!0},c.prototype._validateContent=function(u,h){return!u||u.length===4&&!(u[0]<0||h.data.width<u[0])&&!(u[1]<0||h.data.height<u[1])&&!(u[2]<0||h.data.width<u[2])&&!(u[3]<0||h.data.height<u[3])&&!(u[2]<u[0])&&!(u[3]<u[1])},c.prototype.updateImage=function(u,h){var g=this.images[u];h.version=g.version+1,this.images[u]=h,this.updatedImages[u]=!0},c.prototype.removeImage=function(u){var h=this.images[u];delete this.images[u],delete this.patterns[u],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()},c.prototype.listImages=function(){return Object.keys(this.images)},c.prototype.getImages=function(u,h){var g=!0;if(!this.isLoaded())for(var _=0,C=u;_<C.length;_+=1){var S=C[_];this.images[S]||(g=!1)}this.isLoaded()||g?this._notify(u,h):this.requestors.push({ids:u,callback:h})},c.prototype._notify=function(u,h){for(var g={},_=0,C=u;_<C.length;_+=1){var S=C[_];this.images[S]||this.fire(new a.Event("styleimagemissing",{id:S}));var I=this.images[S];I?g[S]={data:I.data.clone(),pixelRatio:I.pixelRatio,sdf:I.sdf,version:I.version,stretchX:I.stretchX,stretchY:I.stretchY,content:I.content,hasRenderCallback:!!(I.userImage&&I.userImage.render)}:a.warnOnce('Image "'+S+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}h(null,g)},c.prototype.getPixelSize=function(){var u=this.atlasImage;return{width:u.width,height:u.height}},c.prototype.getPattern=function(u){var h=this.patterns[u],g=this.getImage(u);if(!g)return null;if(h&&h.position.version===g.version)return h.position;if(h)h.position.version=g.version;else{var _={w:g.data.width+2,h:g.data.height+2,x:0,y:0},C=new a.ImagePosition(_,g);this.patterns[u]={bin:_,position:C}}return this._updatePatternAtlas(),this.patterns[u].position},c.prototype.bind=function(u){var h=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(u,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)},c.prototype._updatePatternAtlas=function(){var u=[];for(var h in this.patterns)u.push(this.patterns[h].bin);var g=a.potpack(u),_=g.w,C=g.h,S=this.atlasImage;for(var I in S.resize({width:_||1,height:C||1}),this.patterns){var z=this.patterns[I].bin,L=z.x+1,Z=z.y+1,Y=this.images[I].data,K=Y.width,tt=Y.height;a.RGBAImage.copy(Y,S,{x:0,y:0},{x:L,y:Z},{width:K,height:tt}),a.RGBAImage.copy(Y,S,{x:0,y:tt-1},{x:L,y:Z-1},{width:K,height:1}),a.RGBAImage.copy(Y,S,{x:0,y:0},{x:L,y:Z+tt},{width:K,height:1}),a.RGBAImage.copy(Y,S,{x:K-1,y:0},{x:L-1,y:Z},{width:1,height:tt}),a.RGBAImage.copy(Y,S,{x:0,y:0},{x:L+K,y:Z},{width:1,height:tt})}this.dirty=!0},c.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},c.prototype.dispatchRenderCallbacks=function(u){for(var h=0,g=u;h<g.length;h+=1){var _=g[h];if(!this.callbackDispatchedThisFrame[_]){this.callbackDispatchedThisFrame[_]=!0;var C=this.images[_];et(C)&&this.updateImage(_,C)}}},c}(a.Evented),st=Ct,at=Ct,yt=1e20;function Ct(s,c,u,h,g,_){this.fontSize=s||24,this.buffer=c===void 0?3:c,this.cutoff=h||.25,this.fontFamily=g||"sans-serif",this.fontWeight=_||"normal",this.radius=u||8;var C=this.size=this.fontSize+2*this.buffer,S=C+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=C,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Uint16Array(S),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(C/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function xt(s,c,u,h,g,_){for(var C=0;C<c;C++)Vt(s,C,c,u,h,g,_);for(var S=0;S<u;S++)Vt(s,S*c,1,c,h,g,_)}function Vt(s,c,u,h,g,_,C){var S,I,z,L;for(_[0]=0,C[0]=-yt,C[1]=yt,S=0;S<h;S++)g[S]=s[c+S*u];for(S=1,I=0,z=0;S<h;S++){do L=_[I],z=(g[S]-g[L]+S*S-L*L)/(S-L)/2;while(z<=C[I]&&--I>-1);_[++I]=S,C[I]=z,C[I+1]=yt}for(S=0,I=0;S<h;S++){for(;C[I+1]<S;)I++;L=_[I],s[c+S*u]=g[L]+(S-L)*(S-L)}}Ct.prototype._draw=function(s,c){var u,h,g,_,C,S,I,z,L,Z=this.ctx.measureText(s),Y=Z.width,K=2*this.buffer;c&&this.useMetrics?(C=Math.floor(Z.actualBoundingBoxAscent),z=this.buffer+Math.ceil(Z.actualBoundingBoxAscent),S=this.buffer,I=this.buffer,u=(h=Math.min(this.size,Math.ceil(Z.actualBoundingBoxRight-Z.actualBoundingBoxLeft)))+K,g=(_=Math.min(this.size-S,Math.ceil(Z.actualBoundingBoxAscent+Z.actualBoundingBoxDescent)))+K,this.ctx.textBaseline="alphabetic"):(u=h=this.size,g=_=this.size,C=19*this.fontSize/24,S=I=0,z=this.middle,this.ctx.textBaseline="middle"),h&&_&&(this.ctx.clearRect(I,S,h,_),this.ctx.fillText(s,this.buffer,z),L=this.ctx.getImageData(I,S,h,_));var tt=new Uint8ClampedArray(u*g);return function(J,ft,ht,_t,gt,bt,Mt){bt.fill(yt,0,ft*ht),Mt.fill(0,0,ft*ht);for(var zt=(ft-_t)/2,Ut=0;Ut<gt;Ut++)for(var se=0;se<_t;se++){var re=(Ut+zt)*ft+se+zt,fe=J.data[4*(Ut*_t+se)+3]/255;if(fe===1)bt[re]=0,Mt[re]=yt;else if(fe===0)bt[re]=yt,Mt[re]=0;else{var ee=Math.max(0,.5-fe),Te=Math.max(0,fe-.5);bt[re]=ee*ee,Mt[re]=Te*Te}}}(L,u,g,h,_,this.gridOuter,this.gridInner),xt(this.gridOuter,u,g,this.f,this.v,this.z),xt(this.gridInner,u,g,this.f,this.v,this.z),function(J,ft,ht,_t,gt,bt,Mt){for(var zt=0;zt<ft*ht;zt++){var Ut=Math.sqrt(_t[zt])-Math.sqrt(gt[zt]);J[zt]=Math.round(255-255*(Ut/bt+Mt))}}(tt,u,g,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:tt,metrics:{width:h,height:_,sdfWidth:u,sdfHeight:g,top:C,left:0,advance:Y}}},Ct.prototype.draw=function(s){return this._draw(s,!1).data},Ct.prototype.drawWithMetrics=function(s){return this._draw(s,!0)},st.default=at;var Dt=function(s,c){this.requestManager=s,this.localIdeographFontFamily=c,this.entries={}};Dt.prototype.setURL=function(s){this.url=s},Dt.prototype.getGlyphs=function(s,c){var u=this,h=[];for(var g in s)for(var _=0,C=s[g];_<C.length;_+=1){var S=C[_];h.push({stack:g,id:S})}a.asyncAll(h,function(I,z){var L=I.stack,Z=I.id,Y=u.entries[L];Y||(Y=u.entries[L]={glyphs:{},requests:{}});var K=Y.glyphs[Z];if(K===void 0){if(K=u._tinySDF(Y,L,Z))return Y.glyphs[Z]=K,void z(null,{stack:L,id:Z,glyph:K});var tt=Math.floor(Z/256);if(256*tt>65535)z(new Error("glyphs > 65535 not supported"));else{var J=Y.requests[tt];J||(J=Y.requests[tt]=[],Dt.loadGlyphRange(L,tt,u.url,u.requestManager,function(ft,ht){if(ht)for(var _t in ht)u._doesCharSupportLocalGlyph(+_t)||(Y.glyphs[+_t]=ht[+_t]);for(var gt=0,bt=J;gt<bt.length;gt+=1)(0,bt[gt])(ft,ht);delete Y.requests[tt]})),J.push(function(ft,ht){ft?z(ft):ht&&z(null,{stack:L,id:Z,glyph:ht[Z]||null})})}}else z(null,{stack:L,id:Z,glyph:K})},function(I,z){if(I)c(I);else if(z){for(var L={},Z=0,Y=z;Z<Y.length;Z+=1){var K=Y[Z],tt=K.stack,J=K.id,ft=K.glyph;(L[tt]||(L[tt]={}))[J]=ft&&{id:ft.id,bitmap:ft.bitmap.clone(),metrics:ft.metrics}}c(null,L)}})},Dt.prototype._doesCharSupportLocalGlyph=function(s){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](s)||a.isChar["Hangul Syllables"](s)||a.isChar.Hiragana(s)||a.isChar.Katakana(s))},Dt.prototype._tinySDF=function(s,c,u){var h=this.localIdeographFontFamily;if(h&&this._doesCharSupportLocalGlyph(u)){var g=s.tinySDF;if(!g){var _="400";/bold/i.test(c)?_="900":/medium/i.test(c)?_="500":/light/i.test(c)&&(_="200"),g=s.tinySDF=new Dt.TinySDF(24,3,8,.25,h,_)}return{id:u,bitmap:new a.AlphaImage({width:30,height:30},g.draw(String.fromCharCode(u))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},Dt.loadGlyphRange=function(s,c,u,h,g){var _=256*c,C=_+255,S=h.transformRequest(h.normalizeGlyphsURL(u).replace("{fontstack}",s).replace("{range}",_+"-"+C),a.ResourceType.Glyphs);a.getArrayBuffer(S,function(I,z){if(I)g(I);else if(z){for(var L={},Z=0,Y=a.parseGlyphPBF(z);Z<Y.length;Z+=1){var K=Y[Z];L[K.id]=K}g(null,L)}})},Dt.TinySDF=st;var Bt=function(){this.specification=a.styleSpec.light.position};Bt.prototype.possiblyEvaluate=function(s,c){return a.sphericalToCartesian(s.expression.evaluate(c))},Bt.prototype.interpolate=function(s,c,u){return{x:a.number(s.x,c.x,u),y:a.number(s.y,c.y,u),z:a.number(s.z,c.z,u)}};var Zt=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new Bt,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),Jt=function(s){function c(u){s.call(this),this._transitionable=new a.Transitionable(Zt),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getLight=function(){return this._transitionable.serialize()},c.prototype.setLight=function(u,h){if(h===void 0&&(h={}),!this._validate(a.validateLight,u,h))for(var g in u){var _=u[g];a.endsWith(g,"-transition")?this._transitionable.setTransition(g.slice(0,-11),_):this._transitionable.setValue(g,_)}},c.prototype.updateTransitions=function(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)},c.prototype.hasTransition=function(){return this._transitioning.hasTransition()},c.prototype.recalculate=function(u){this.properties=this._transitioning.possiblyEvaluate(u)},c.prototype._validate=function(u,h,g){return(!g||g.validate!==!1)&&a.emitValidationErrors(this,u.call(a.validateStyle,a.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},c}(a.Evented),te=function(s,c){this.width=s,this.height=c,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};te.prototype.getDash=function(s,c){var u=s.join(",")+String(c);return this.positions[u]||(this.positions[u]=this.addDash(s,c)),this.positions[u]},te.prototype.addDash=function(s,c){var u=c?7:0,h=2*u+1;if(this.nextRow+h>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var g=0,_=0;_<s.length;_++)g+=s[_];for(var C=this.width/g,S=C/2,I=s.length%2==1,z=-u;z<=u;z++)for(var L=this.nextRow+u+z,Z=this.width*L,Y=I?-s[s.length-1]:0,K=s[0],tt=1,J=0;J<this.width;J++){for(;K<J/C;)Y=K,K+=s[tt],I&&tt===s.length-1&&(K+=s[0]),tt++;var ft=Math.abs(J-Y*C),ht=Math.abs(J-K*C),_t=Math.min(ft,ht),gt=tt%2==1,bt=void 0;if(c){var Mt=u?z/u*(S+1):0;if(gt){var zt=S-Math.abs(Mt);bt=Math.sqrt(_t*_t+zt*zt)}else bt=S-Math.sqrt(_t*_t+Mt*Mt)}else bt=(gt?1:-1)*_t;this.data[3+4*(Z+J)]=Math.max(0,Math.min(255,bt+128))}var Ut={y:(this.nextRow+u+.5)/this.height,height:2*u/this.height,width:g};return this.nextRow+=h,this.dirty=!0,Ut},te.prototype.bind=function(s){var c=s.gl;this.texture?(c.bindTexture(c.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,c.texSubImage2D(c.TEXTURE_2D,0,0,0,this.width,this.height,c.RGBA,c.UNSIGNED_BYTE,this.data))):(this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.width,this.height,0,c.RGBA,c.UNSIGNED_BYTE,this.data))};var Nt=function s(c,u){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var h=this.workerPool.acquire(this.id),g=0;g<h.length;g++){var _=h[g],C=new s.Actor(_,u,this.id);C.name="Worker "+g,this.actors.push(C)}};function oe(s,c,u){var h=function(g,_){if(g)return u(g);if(_){var C=a.pick(a.extend(_,s),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);_.vector_layers&&(C.vectorLayers=_.vector_layers,C.vectorLayerIds=C.vectorLayers.map(function(S){return S.id})),s.url&&(C.tiles=c.canonicalizeTileset(C,s.url)),u(null,C)}};return s.url?a.getJSON(c.transformRequest(c.normalizeSourceURL(s.url),a.ResourceType.Source),h):a.browser.frame(function(){return h(null,s)})}Nt.prototype.broadcast=function(s,c,u){u=u||function(){},a.asyncAll(this.actors,function(h,g){h.send(s,c,g)},u)},Nt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Nt.prototype.remove=function(){this.actors.forEach(function(s){s.remove()}),this.actors=[],this.workerPool.release(this.id)},Nt.Actor=a.Actor;var ue=function(s,c,u){this.bounds=a.LngLatBounds.convert(this.validateBounds(s)),this.minzoom=c||0,this.maxzoom=u||24};ue.prototype.validateBounds=function(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]},ue.prototype.contains=function(s){var c=Math.pow(2,s.z),u=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*c),h=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*c),g=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*c),_=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*c);return s.x>=u&&s.x<g&&s.y>=h&&s.y<_};var be=function(s){function c(u,h,g,_){if(s.call(this),this.id=u,this.dispatcher=g,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(h,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.load=function(){var u=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=oe(this._options,this.map._requestManager,function(h,g){u._tileJSONRequest=null,u._loaded=!0,h?u.fire(new a.ErrorEvent(h)):g&&(a.extend(u,g),g.bounds&&(u.tileBounds=new ue(g.bounds,u.minzoom,u.maxzoom)),a.postTurnstileEvent(g.tiles,u.map._requestManager._customAccessToken),a.postMapLoadEvent(g.tiles,u.map._getMapId(),u.map._requestManager._skuToken,u.map._requestManager._customAccessToken),u.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),u.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},c.prototype.loaded=function(){return this._loaded},c.prototype.hasTile=function(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)},c.prototype.onAdd=function(u){this.map=u,this.load()},c.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},c.prototype.serialize=function(){return a.extend({},this._options)},c.prototype.loadTile=function(u,h){var g=this.map._requestManager.normalizeTileURL(u.tileID.canonical.url(this.tiles,this.scheme),this.url,null),_={request:this.map._requestManager.transformRequest(g,a.ResourceType.Tile),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function C(S,I){return delete u.request,u.aborted?h(null):S&&S.status!==404?h(S):(I&&I.resourceTiming&&(u.resourceTiming=I.resourceTiming),this.map._refreshExpiredTiles&&I&&u.setExpiryData(I),u.loadVectorData(I,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),h(null),void(u.reloadCallback&&(this.loadTile(u,u.reloadCallback),u.reloadCallback=null)))}_.request.collectResourceTiming=this._collectResourceTiming,u.actor&&u.state!=="expired"?u.state==="loading"?u.reloadCallback=h:u.request=u.actor.send("reloadTile",_,C.bind(this)):(u.actor=this.dispatcher.getActor(),u.request=u.actor.send("loadTile",_,C.bind(this)))},c.prototype.abortTile=function(u){u.request&&(u.request.cancel(),delete u.request),u.actor&&u.actor.send("abortTile",{uid:u.uid,type:this.type,source:this.id},void 0)},c.prototype.unloadTile=function(u){u.unloadVectorData(),u.actor&&u.actor.send("removeTile",{uid:u.uid,type:this.type,source:this.id},void 0)},c.prototype.hasTransition=function(){return!1},c}(a.Evented),ke=function(s){function c(u,h,g,_){s.call(this),this.id=u,this.dispatcher=g,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},h),a.extend(this,a.pick(h,["url","scheme","tileSize"]))}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.load=function(){var u=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=oe(this._options,this.map._requestManager,function(h,g){u._tileJSONRequest=null,u._loaded=!0,h?u.fire(new a.ErrorEvent(h)):g&&(a.extend(u,g),g.bounds&&(u.tileBounds=new ue(g.bounds,u.minzoom,u.maxzoom)),a.postTurnstileEvent(g.tiles),a.postMapLoadEvent(g.tiles,u.map._getMapId(),u.map._requestManager._skuToken),u.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),u.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},c.prototype.loaded=function(){return this._loaded},c.prototype.onAdd=function(u){this.map=u,this.load()},c.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},c.prototype.serialize=function(){return a.extend({},this._options)},c.prototype.hasTile=function(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)},c.prototype.loadTile=function(u,h){var g=this,_=this.map._requestManager.normalizeTileURL(u.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);u.request=a.getImage(this.map._requestManager.transformRequest(_,a.ResourceType.Tile),function(C,S){if(delete u.request,u.aborted)u.state="unloaded",h(null);else if(C)u.state="errored",h(C);else if(S){g.map._refreshExpiredTiles&&u.setExpiryData(S),delete S.cacheControl,delete S.expires;var I=g.map.painter.context,z=I.gl;u.texture=g.map.painter.getTileTexture(S.width),u.texture?u.texture.update(S,{useMipmap:!0}):(u.texture=new a.Texture(I,S,z.RGBA,{useMipmap:!0}),u.texture.bind(z.LINEAR,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),I.extTextureFilterAnisotropic&&z.texParameterf(z.TEXTURE_2D,I.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,I.extTextureFilterAnisotropicMax)),u.state="loaded",a.cacheEntryPossiblyAdded(g.dispatcher),h(null)}})},c.prototype.abortTile=function(u,h){u.request&&(u.request.cancel(),delete u.request),h()},c.prototype.unloadTile=function(u,h){u.texture&&this.map.painter.saveTileTexture(u.texture),h()},c.prototype.hasTransition=function(){return!1},c}(a.Evented),Xe=function(s){function c(u,h,g,_){s.call(this,u,h,g,_),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox"}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},c.prototype.loadTile=function(u,h){var g=this.map._requestManager.normalizeTileURL(u.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);function _(C,S){C&&(u.state="errored",h(C)),S&&(u.dem=S,u.needsHillshadePrepare=!0,u.state="loaded",h(null))}u.request=a.getImage(this.map._requestManager.transformRequest(g,a.ResourceType.Tile),(function(C,S){if(delete u.request,u.aborted)u.state="unloaded",h(null);else if(C)u.state="errored",h(C);else if(S){this.map._refreshExpiredTiles&&u.setExpiryData(S),delete S.cacheControl,delete S.expires;var I=a.window.ImageBitmap&&S instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?S:a.browser.getImageData(S,1),z={uid:u.uid,coord:u.tileID,source:this.id,rawImageData:I,encoding:this.encoding};u.actor&&u.state!=="expired"||(u.actor=this.dispatcher.getActor(),u.actor.send("loadDEMTile",z,_.bind(this)))}}).bind(this)),u.neighboringTiles=this._getNeighboringTiles(u.tileID)},c.prototype._getNeighboringTiles=function(u){var h=u.canonical,g=Math.pow(2,h.z),_=(h.x-1+g)%g,C=h.x===0?u.wrap-1:u.wrap,S=(h.x+1+g)%g,I=h.x+1===g?u.wrap+1:u.wrap,z={};return z[new a.OverscaledTileID(u.overscaledZ,C,h.z,_,h.y).key]={backfilled:!1},z[new a.OverscaledTileID(u.overscaledZ,I,h.z,S,h.y).key]={backfilled:!1},h.y>0&&(z[new a.OverscaledTileID(u.overscaledZ,C,h.z,_,h.y-1).key]={backfilled:!1},z[new a.OverscaledTileID(u.overscaledZ,u.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},z[new a.OverscaledTileID(u.overscaledZ,I,h.z,S,h.y-1).key]={backfilled:!1}),h.y+1<g&&(z[new a.OverscaledTileID(u.overscaledZ,C,h.z,_,h.y+1).key]={backfilled:!1},z[new a.OverscaledTileID(u.overscaledZ,u.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},z[new a.OverscaledTileID(u.overscaledZ,I,h.z,S,h.y+1).key]={backfilled:!1}),z},c.prototype.unloadTile=function(u){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&u.actor.send("removeDEMTile",{uid:u.uid,source:this.id})},c}(ke),dr=function(s){function c(u,h,g,_){s.call(this),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=g.getActor(),this.setEventedParent(_),this._data=h.data,this._options=a.extend({},h),this._collectResourceTiming=h.collectResourceTiming,this._resourceTiming=[],h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;var C=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*C,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*C,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?Math.min(h.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(h.clusterRadius||50)*C,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties},h.workerOptions)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.load=function(){var u=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(h){if(h)u.fire(new a.ErrorEvent(h));else{var g={dataType:"source",sourceDataType:"metadata"};u._collectResourceTiming&&u._resourceTiming&&u._resourceTiming.length>0&&(g.resourceTiming=u._resourceTiming,u._resourceTiming=[]),u.fire(new a.Event("data",g))}})},c.prototype.onAdd=function(u){this.map=u,this.load()},c.prototype.setData=function(u){var h=this;return this._data=u,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(g){if(g)h.fire(new a.ErrorEvent(g));else{var _={dataType:"source",sourceDataType:"content"};h._collectResourceTiming&&h._resourceTiming&&h._resourceTiming.length>0&&(_.resourceTiming=h._resourceTiming,h._resourceTiming=[]),h.fire(new a.Event("data",_))}}),this},c.prototype.getClusterExpansionZoom=function(u,h){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:u,source:this.id},h),this},c.prototype.getClusterChildren=function(u,h){return this.actor.send("geojson.getClusterChildren",{clusterId:u,source:this.id},h),this},c.prototype.getClusterLeaves=function(u,h,g,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:u,limit:h,offset:g},_),this},c.prototype._updateWorkerData=function(u){var h=this;this._loaded=!1;var g=a.extend({},this.workerOptions),_=this._data;typeof _=="string"?(g.request=this.map._requestManager.transformRequest(a.browser.resolveURL(_),a.ResourceType.Source),g.request.collectResourceTiming=this._collectResourceTiming):g.data=JSON.stringify(_),this.actor.send(this.type+".loadData",g,function(C,S){h._removed||S&&S.abandoned||(h._loaded=!0,S&&S.resourceTiming&&S.resourceTiming[h.id]&&(h._resourceTiming=S.resourceTiming[h.id].slice(0)),h.actor.send(h.type+".coalesce",{source:g.source},null),u(C))})},c.prototype.loaded=function(){return this._loaded},c.prototype.loadTile=function(u,h){var g=this,_=u.actor?"reloadTile":"loadTile";u.actor=this.actor;var C={type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};u.request=this.actor.send(_,C,function(S,I){return delete u.request,u.unloadVectorData(),u.aborted?h(null):S?h(S):(u.loadVectorData(I,g.map.painter,_==="reloadTile"),h(null))})},c.prototype.abortTile=function(u){u.request&&(u.request.cancel(),delete u.request),u.aborted=!0},c.prototype.unloadTile=function(u){u.unloadVectorData(),this.actor.send("removeTile",{uid:u.uid,type:this.type,source:this.id})},c.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},c.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},c.prototype.hasTransition=function(){return!1},c}(a.Evented),Nr=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),nr=function(s){function c(u,h,g,_){s.call(this),this.id=u,this.dispatcher=g,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=h}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.load=function(u,h){var g=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(_,C){g._loaded=!0,_?g.fire(new a.ErrorEvent(_)):C&&(g.image=C,u&&(g.coordinates=u),h&&h(),g._finishLoading())})},c.prototype.loaded=function(){return this._loaded},c.prototype.updateImage=function(u){var h=this;return this.image&&u.url?(this.options.url=u.url,this.load(u.coordinates,function(){h.texture=null}),this):this},c.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},c.prototype.onAdd=function(u){this.map=u,this.load()},c.prototype.setCoordinates=function(u){var h=this;this.coordinates=u;var g=u.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(C){for(var S=1/0,I=1/0,z=-1/0,L=-1/0,Z=0,Y=C;Z<Y.length;Z+=1){var K=Y[Z];S=Math.min(S,K.x),I=Math.min(I,K.y),z=Math.max(z,K.x),L=Math.max(L,K.y)}var tt=z-S,J=L-I,ft=Math.max(tt,J),ht=Math.max(0,Math.floor(-Math.log(ft)/Math.LN2)),_t=Math.pow(2,ht);return new a.CanonicalTileID(ht,Math.floor((S+z)/2*_t),Math.floor((I+L)/2*_t))}(g),this.minzoom=this.maxzoom=this.tileID.z;var _=g.map(function(C){return h.tileID.getTilePoint(C)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(_[0].x,_[0].y,0,0),this._boundsArray.emplaceBack(_[1].x,_[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(_[3].x,_[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(_[2].x,_[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},c.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var u=this.map.painter.context,h=u.gl;for(var g in this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Nr.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(u,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE)),this.tiles){var _=this.tiles[g];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture)}}},c.prototype.loadTile=function(u,h){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={},h(null)):(u.state="errored",h(null))},c.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},c.prototype.hasTransition=function(){return!1},c}(a.Evented),Zr=function(s){function c(u,h,g,_){s.call(this,u,h,g,_),this.roundZoom=!0,this.type="video",this.options=h}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.load=function(){var u=this;this._loaded=!1;var h=this.options;this.urls=[];for(var g=0,_=h.urls;g<_.length;g+=1){var C=_[g];this.urls.push(this.map._requestManager.transformRequest(C,a.ResourceType.Source).url)}a.getVideo(this.urls,function(S,I){u._loaded=!0,S?u.fire(new a.ErrorEvent(S)):I&&(u.video=I,u.video.loop=!0,u.video.addEventListener("playing",function(){u.map.triggerRepaint()}),u.map&&u.video.play(),u._finishLoading())})},c.prototype.pause=function(){this.video&&this.video.pause()},c.prototype.play=function(){this.video&&this.video.play()},c.prototype.seek=function(u){if(this.video){var h=this.video.seekable;u<h.start(0)||u>h.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+h.start(0)+" and "+h.end(0)+"-second mark."))):this.video.currentTime=u}},c.prototype.getVideo=function(){return this.video},c.prototype.onAdd=function(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},c.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var u=this.map.painter.context,h=u.gl;for(var g in this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Nr.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(u,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE)),this.tiles){var _=this.tiles[g];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture)}}},c.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},c.prototype.hasTransition=function(){return this.video&&!this.video.paused},c}(nr),fr=function(s){function c(u,h,g,_){s.call(this,u,h,g,_),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some(function(C){return!Array.isArray(C)||C.length!==2||C.some(function(S){return typeof S!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+u,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+u,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+u,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+u,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+u,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},c.prototype.getCanvas=function(){return this.canvas},c.prototype.onAdd=function(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()},c.prototype.onRemove=function(){this.pause()},c.prototype.prepare=function(){var u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var h=this.map.painter.context,g=h.gl;for(var _ in this.boundsBuffer||(this.boundsBuffer=h.createVertexBuffer(this._boundsArray,Nr.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(h,this.canvas,g.RGBA,{premultiply:!0}),this.tiles){var C=this.tiles[_];C.state!=="loaded"&&(C.state="loaded",C.texture=this.texture)}}},c.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},c.prototype.hasTransition=function(){return this._playing},c.prototype._hasInvalidDimensions=function(){for(var u=0,h=[this.canvas.width,this.canvas.height];u<h.length;u+=1){var g=h[u];if(isNaN(g)||g<=0)return!0}return!1},c}(nr),vr={vector:be,raster:ke,"raster-dem":Xe,geojson:dr,video:Zr,image:nr,canvas:fr};function Sr(s,c){var u=a.identity([]);return a.translate(u,u,[1,1,0]),a.scale(u,u,[.5*s.width,.5*s.height,1]),a.multiply(u,u,s.calculatePosMatrix(c.toUnwrapped()))}function Ee(s,c,u,h,g){var _=function(tt,J,ft){if(tt)for(var ht=0,_t=tt;ht<_t.length;ht+=1){var gt=J[_t[ht]];if(gt&&gt.source===ft&&gt.type==="fill-extrusion")return!0}else for(var bt in J){var Mt=J[bt];if(Mt.source===ft&&Mt.type==="fill-extrusion")return!0}return!1}(h&&h.layers,c,s.id),C=g.maxPitchScaleFactor(),S=s.tilesIn(u,C,_);S.sort(lr);for(var I=[],z=0,L=S;z<L.length;z+=1){var Z=L[z];I.push({wrappedTileID:Z.tileID.wrapped().key,queryResults:Z.tile.queryRenderedFeatures(c,s._state,Z.queryGeometry,Z.cameraQueryGeometry,Z.scale,h,g,C,Sr(s.transform,Z.tileID))})}var Y=function(tt){for(var J={},ft={},ht=0,_t=tt;ht<_t.length;ht+=1){var gt=_t[ht],bt=gt.queryResults,Mt=gt.wrappedTileID,zt=ft[Mt]=ft[Mt]||{};for(var Ut in bt)for(var se=bt[Ut],re=zt[Ut]=zt[Ut]||{},fe=J[Ut]=J[Ut]||[],ee=0,Te=se;ee<Te.length;ee+=1){var le=Te[ee];re[le.featureIndex]||(re[le.featureIndex]=!0,fe.push(le))}}return J}(I);for(var K in Y)Y[K].forEach(function(tt){var J=tt.feature,ft=s.getFeatureState(J.layer["source-layer"],J.id);J.source=J.layer.source,J.layer["source-layer"]&&(J.sourceLayer=J.layer["source-layer"]),J.state=ft});return Y}function lr(s,c){var u=s.tileID,h=c.tileID;return u.overscaledZ-h.overscaledZ||u.canonical.y-h.canonical.y||u.wrap-h.wrap||u.canonical.x-h.canonical.x}var xe=function(s,c){this.max=s,this.onRemove=c,this.reset()};xe.prototype.reset=function(){for(var s in this.data)for(var c=0,u=this.data[s];c<u.length;c+=1){var h=u[c];h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value)}return this.data={},this.order=[],this},xe.prototype.add=function(s,c,u){var h=this,g=s.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);var _={value:c,timeout:void 0};if(u!==void 0&&(_.timeout=setTimeout(function(){h.remove(s,_)},u)),this.data[g].push(_),this.order.push(g),this.order.length>this.max){var C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this},xe.prototype.has=function(s){return s.wrapped().key in this.data},xe.prototype.getAndRemove=function(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null},xe.prototype._getAndRemoveByKey=function(s){var c=this.data[s].shift();return c.timeout&&clearTimeout(c.timeout),this.data[s].length===0&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),c.value},xe.prototype.getByKey=function(s){var c=this.data[s];return c?c[0].value:null},xe.prototype.get=function(s){return this.has(s)?this.data[s.wrapped().key][0].value:null},xe.prototype.remove=function(s,c){if(!this.has(s))return this;var u=s.wrapped().key,h=c===void 0?0:this.data[u].indexOf(c),g=this.data[u][h];return this.data[u].splice(h,1),g.timeout&&clearTimeout(g.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(g.value),this.order.splice(this.order.indexOf(u),1),this},xe.prototype.setMaxSize=function(s){for(this.max=s;this.order.length>this.max;){var c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this},xe.prototype.filter=function(s){var c=[];for(var u in this.data)for(var h=0,g=this.data[u];h<g.length;h+=1){var _=g[h];s(_.value)||c.push(_)}for(var C=0,S=c;C<S.length;C+=1){var I=S[C];this.remove(I.value.tileID,I)}};var Ve=function(s,c,u){this.context=s;var h=s.gl;this.buffer=h.createBuffer(),this.dynamicDraw=!!u,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?h.DYNAMIC_DRAW:h.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer};Ve.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ve.prototype.updateData=function(s){var c=this.context.gl;this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)},Ve.prototype.destroy=function(){var s=this.context.gl;this.buffer&&(s.deleteBuffer(this.buffer),delete this.buffer)};var Je={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},or=function(s,c,u,h){this.length=c.length,this.attributes=u,this.itemSize=c.bytesPerElement,this.dynamicDraw=h,this.context=s;var g=s.gl;this.buffer=g.createBuffer(),s.bindVertexBuffer.set(this.buffer),g.bufferData(g.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer};or.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},or.prototype.updateData=function(s){var c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,s.arrayBuffer)},or.prototype.enableAttributes=function(s,c){for(var u=0;u<this.attributes.length;u++){var h=this.attributes[u],g=c.attributes[h.name];g!==void 0&&s.enableVertexAttribArray(g)}},or.prototype.setVertexAttribPointers=function(s,c,u){for(var h=0;h<this.attributes.length;h++){var g=this.attributes[h],_=c.attributes[g.name];_!==void 0&&s.vertexAttribPointer(_,g.components,s[Je[g.type]],!1,this.itemSize,g.offset+this.itemSize*(u||0))}},or.prototype.destroy=function(){var s=this.context.gl;this.buffer&&(s.deleteBuffer(this.buffer),delete this.buffer)};var Gt=function(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Gt.prototype.get=function(){return this.current},Gt.prototype.set=function(s){},Gt.prototype.getDefault=function(){return this.default},Gt.prototype.setDefault=function(){this.set(this.default)};var Se=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return a.Color.transparent},c.prototype.set=function(u){var h=this.current;(u.r!==h.r||u.g!==h.g||u.b!==h.b||u.a!==h.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)},c}(Gt),ir=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return 1},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)},c}(Gt),_r=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return 0},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)},c}(Gt),hn=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return[!0,!0,!0,!0]},c.prototype.set=function(u){var h=this.current;(u[0]!==h[0]||u[1]!==h[1]||u[2]!==h[2]||u[3]!==h[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)},c}(Gt),zr=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return!0},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)},c}(Gt),mr=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return 255},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)},c}(Gt),Mn=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},c.prototype.set=function(u){var h=this.current;(u.func!==h.func||u.ref!==h.ref||u.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)},c}(Gt),qe=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){var u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]},c.prototype.set=function(u){var h=this.current;(u[0]!==h[0]||u[1]!==h[1]||u[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)},c}(Gt),vn=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;u?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=u,this.dirty=!1}},c}(Gt),An=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return[0,1]},c.prototype.set=function(u){var h=this.current;(u[0]!==h[0]||u[1]!==h[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)},c}(Gt),Jr=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;u?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=u,this.dirty=!1}},c}(Gt),ki=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return this.gl.LESS},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)},c}(Gt),mi=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;u?h.enable(h.BLEND):h.disable(h.BLEND),this.current=u,this.dirty=!1}},c}(Gt),Ci=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){var u=this.gl;return[u.ONE,u.ZERO]},c.prototype.set=function(u){var h=this.current;(u[0]!==h[0]||u[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)},c}(Gt),Dr=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return a.Color.transparent},c.prototype.set=function(u){var h=this.current;(u.r!==h.r||u.g!==h.g||u.b!==h.b||u.a!==h.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)},c}(Gt),Si=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return this.gl.FUNC_ADD},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)},c}(Gt),ti=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;u?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=u,this.dirty=!1}},c}(Gt),li=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return this.gl.BACK},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)},c}(Gt),Zi=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return this.gl.CCW},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)},c}(Gt),Oe=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)},c}(Gt),Ar=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return this.gl.TEXTURE0},c.prototype.set=function(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)},c}(Gt),on=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){var u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]},c.prototype.set=function(u){var h=this.current;(u[0]!==h[0]||u[1]!==h[1]||u[2]!==h[2]||u[3]!==h[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)},c}(Gt),Oi=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,u),this.current=u,this.dirty=!1}},c}(Gt),Mo=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,u),this.current=u,this.dirty=!1}},c}(Gt),ui=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;h.bindTexture(h.TEXTURE_2D,u),this.current=u,this.dirty=!1}},c}(Gt),fs=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}},c}(Gt),la=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){var h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1},c}(Gt),za=function(s){function c(u){s.call(this,u),this.vao=u.extVertexArrayObject}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(u){this.vao&&(u!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(u),this.current=u,this.dirty=!1)},c}(Gt),Ao=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return 4},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}},c}(Gt),po=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}},c}(Gt),ua=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(u){if(u!==this.current||this.dirty){var h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}},c}(Gt),ko=function(s){function c(u,h){s.call(this,u),this.context=u,this.parent=h}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return null},c}(Gt),Da=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.setDirty=function(){this.dirty=!0},c.prototype.set=function(u){if(u!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}},c}(ko),$o=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.set=function(u){if(u!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,u),this.current=u,this.dirty=!1}},c}(ko),Zo=function(s,c,u){this.context=s,this.width=c,this.height=u;var h=s.gl,g=this.framebuffer=h.createFramebuffer();this.colorAttachment=new Da(s,g),this.depthAttachment=new $o(s,g)};Zo.prototype.destroy=function(){var s=this.context.gl,c=this.colorAttachment.get();c&&s.deleteTexture(c);var u=this.depthAttachment.get();u&&s.deleteRenderbuffer(u),s.deleteFramebuffer(this.framebuffer)};var yr=function(s,c,u){this.func=s,this.mask=c,this.range=u};yr.ReadOnly=!1,yr.ReadWrite=!0,yr.disabled=new yr(519,yr.ReadOnly,[0,1]);var fn=function(s,c,u,h,g,_){this.test=s,this.ref=c,this.mask=u,this.fail=h,this.depthFail=g,this.pass=_};fn.disabled=new fn({func:519,mask:0},0,0,7680,7680,7680);var Lr=function(s,c,u){this.blendFunction=s,this.blendColor=c,this.mask=u};Lr.disabled=new Lr(Lr.Replace=[1,0],a.Color.transparent,[!1,!1,!1,!1]),Lr.unblended=new Lr(Lr.Replace,a.Color.transparent,[!0,!0,!0,!0]),Lr.alphaBlended=new Lr([1,771],a.Color.transparent,[!0,!0,!0,!0]);var At=function(s,c,u){this.enable=s,this.mode=c,this.frontFace=u};At.disabled=new At(!1,1029,2305),At.backCCW=new At(!0,1029,2305);var Qt=function(s){this.gl=s,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Se(this),this.clearDepth=new ir(this),this.clearStencil=new _r(this),this.colorMask=new hn(this),this.depthMask=new zr(this),this.stencilMask=new mr(this),this.stencilFunc=new Mn(this),this.stencilOp=new qe(this),this.stencilTest=new vn(this),this.depthRange=new An(this),this.depthTest=new Jr(this),this.depthFunc=new ki(this),this.blend=new mi(this),this.blendFunc=new Ci(this),this.blendColor=new Dr(this),this.blendEquation=new Si(this),this.cullFace=new ti(this),this.cullFaceSide=new li(this),this.frontFace=new Zi(this),this.program=new Oe(this),this.activeTexture=new Ar(this),this.viewport=new on(this),this.bindFramebuffer=new Oi(this),this.bindRenderbuffer=new Mo(this),this.bindTexture=new ui(this),this.bindVertexBuffer=new fs(this),this.bindElementBuffer=new la(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new za(this),this.pixelStoreUnpack=new Ao(this),this.pixelStoreUnpackPremultiplyAlpha=new po(this),this.pixelStoreUnpackFlipY=new ua(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=s.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&s.getExtension("OES_texture_half_float_linear"),this.extTimerQuery=s.getExtension("EXT_disjoint_timer_query")};Qt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Qt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Qt.prototype.createIndexBuffer=function(s,c){return new Ve(this,s,c)},Qt.prototype.createVertexBuffer=function(s,c,u){return new or(this,s,c,u)},Qt.prototype.createRenderbuffer=function(s,c,u){var h=this.gl,g=h.createRenderbuffer();return this.bindRenderbuffer.set(g),h.renderbufferStorage(h.RENDERBUFFER,s,c,u),this.bindRenderbuffer.set(null),g},Qt.prototype.createFramebuffer=function(s,c){return new Zo(this,s,c)},Qt.prototype.clear=function(s){var c=s.color,u=s.depth,h=this.gl,g=0;c&&(g|=h.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(g|=h.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),h.clear(g)},Qt.prototype.setCullFace=function(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))},Qt.prototype.setDepthMode=function(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)},Qt.prototype.setStencilMode=function(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)},Qt.prototype.setColorMode=function(s){a.deepEqual(s.blendFunction,Lr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)},Qt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var qi=function(s){function c(u,h,g){var _=this;s.call(this),this.id=u,this.dispatcher=g,this.on("data",function(C){C.dataType==="source"&&C.sourceDataType==="metadata"&&(_._sourceLoaded=!0),_._sourceLoaded&&!_._paused&&C.dataType==="source"&&C.sourceDataType==="content"&&(_.reload(),_.transform&&_.update(_.transform))}),this.on("error",function(){_._sourceErrored=!0}),this._source=function(C,S,I,z){var L=new vr[S.type](C,S,I,z);if(L.id!==C)throw new Error("Expected Source id to be "+C+" instead of "+L.id);return a.bindAll(["load","abort","unload","serialize","prepare"],L),L}(u,h,g,this),this._tiles={},this._cache=new xe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.onAdd=function(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(u)},c.prototype.onRemove=function(u){this._source&&this._source.onRemove&&this._source.onRemove(u)},c.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var u in this._tiles){var h=this._tiles[u];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0},c.prototype.getSource=function(){return this._source},c.prototype.pause=function(){this._paused=!0},c.prototype.resume=function(){if(this._paused){var u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform)}},c.prototype._loadTile=function(u,h){return this._source.loadTile(u,h)},c.prototype._unloadTile=function(u){if(this._source.unloadTile)return this._source.unloadTile(u,function(){})},c.prototype._abortTile=function(u){if(this._source.abortTile)return this._source.abortTile(u,function(){})},c.prototype.serialize=function(){return this._source.serialize()},c.prototype.prepare=function(u){for(var h in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var g=this._tiles[h];g.upload(u),g.prepare(this.map.style.imageManager)}},c.prototype.getIds=function(){return Object.values(this._tiles).map(function(u){return u.tileID}).sort(Wi).map(function(u){return u.key})},c.prototype.getRenderableIds=function(u){var h=this,g=[];for(var _ in this._tiles)this._isIdRenderable(_,u)&&g.push(this._tiles[_]);return u?g.sort(function(C,S){var I=C.tileID,z=S.tileID,L=new a.Point(I.canonical.x,I.canonical.y)._rotate(h.transform.angle),Z=new a.Point(z.canonical.x,z.canonical.y)._rotate(h.transform.angle);return I.overscaledZ-z.overscaledZ||Z.y-L.y||Z.x-L.x}).map(function(C){return C.tileID.key}):g.map(function(C){return C.tileID}).sort(Wi).map(function(C){return C.key})},c.prototype.hasRenderableParent=function(u){var h=this.findLoadedParent(u,0);return!!h&&this._isIdRenderable(h.tileID.key)},c.prototype._isIdRenderable=function(u,h){return this._tiles[u]&&this._tiles[u].hasData()&&!this._coveredTiles[u]&&(h||!this._tiles[u].holdingForFade())},c.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var u in this._cache.reset(),this._tiles)this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")},c.prototype._reloadTile=function(u,h){var g=this._tiles[u];g&&(g.state!=="loading"&&(g.state=h),this._loadTile(g,this._tileLoaded.bind(this,g,u,h)))},c.prototype._tileLoaded=function(u,h,g,_){if(_)return u.state="errored",void(_.status!==404?this._source.fire(new a.ErrorEvent(_,{tile:u})):this.update(this.transform));u.timeAdded=a.browser.now(),g==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(h,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:u,coord:u.tileID}))},c.prototype._backfillDEM=function(u){for(var h=this.getRenderableIds(),g=0;g<h.length;g++){var _=h[g];if(u.neighboringTiles&&u.neighboringTiles[_]){var C=this.getTileByID(_);S(u,C),S(C,u)}}function S(I,z){I.needsHillshadePrepare=!0;var L=z.tileID.canonical.x-I.tileID.canonical.x,Z=z.tileID.canonical.y-I.tileID.canonical.y,Y=Math.pow(2,I.tileID.canonical.z),K=z.tileID.key;L===0&&Z===0||Math.abs(Z)>1||(Math.abs(L)>1&&(Math.abs(L+Y)===1?L+=Y:Math.abs(L-Y)===1&&(L-=Y)),z.dem&&I.dem&&(I.dem.backfillBorder(z.dem,L,Z),I.neighboringTiles&&I.neighboringTiles[K]&&(I.neighboringTiles[K].backfilled=!0)))}},c.prototype.getTile=function(u){return this.getTileByID(u.key)},c.prototype.getTileByID=function(u){return this._tiles[u]},c.prototype._retainLoadedChildren=function(u,h,g,_){for(var C in this._tiles){var S=this._tiles[C];if(!(_[C]||!S.hasData()||S.tileID.overscaledZ<=h||S.tileID.overscaledZ>g)){for(var I=S.tileID;S&&S.tileID.overscaledZ>h+1;){var z=S.tileID.scaledTo(S.tileID.overscaledZ-1);(S=this._tiles[z.key])&&S.hasData()&&(I=z)}for(var L=I;L.overscaledZ>h;)if(u[(L=L.scaledTo(L.overscaledZ-1)).key]){_[I.key]=I;break}}}},c.prototype.findLoadedParent=function(u,h){if(u.key in this._loadedParentTiles){var g=this._loadedParentTiles[u.key];return g&&g.tileID.overscaledZ>=h?g:null}for(var _=u.overscaledZ-1;_>=h;_--){var C=u.scaledTo(_),S=this._getLoadedTile(C);if(S)return S}},c.prototype._getLoadedTile=function(u){var h=this._tiles[u.key];return h&&h.hasData()?h:this._cache.getByKey(u.wrapped().key)},c.prototype.updateCacheSize=function(u){var h=(Math.ceil(u.width/this._source.tileSize)+1)*(Math.ceil(u.height/this._source.tileSize)+1),g=Math.floor(5*h),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(_)},c.prototype.handleWrapJump=function(u){var h=(u-(this._prevLng===void 0?u:this._prevLng))/360,g=Math.round(h);if(this._prevLng=u,g){var _={};for(var C in this._tiles){var S=this._tiles[C];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+g),_[S.tileID.key]=S}for(var I in this._tiles=_,this._timers)clearTimeout(this._timers[I]),delete this._timers[I];for(var z in this._tiles){var L=this._tiles[z];this._setTileReloadTimer(z,L)}}},c.prototype.update=function(u){var h=this;if(this.transform=u,this._sourceLoaded&&!this._paused){var g;this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?g=u.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ut){return new a.OverscaledTileID(Ut.canonical.z,Ut.wrap,Ut.canonical.z,Ut.canonical.x,Ut.canonical.y)}):(g=u.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(g=g.filter(function(Ut){return h._source.hasTile(Ut)}))):g=[];var _=u.coveringZoomLevel(this._source),C=Math.max(_-c.maxOverzooming,this._source.minzoom),S=Math.max(_+c.maxUnderzooming,this._source.minzoom),I=this._updateRetainedTiles(g,_);if(dn(this._source.type)){for(var z={},L={},Z=0,Y=Object.keys(I);Z<Y.length;Z+=1){var K=Y[Z],tt=I[K],J=this._tiles[K];if(J&&!(J.fadeEndTime&&J.fadeEndTime<=a.browser.now())){var ft=this.findLoadedParent(tt,C);ft&&(this._addTile(ft.tileID),z[ft.tileID.key]=ft.tileID),L[K]=tt}}for(var ht in this._retainLoadedChildren(L,_,S,I),z)I[ht]||(this._coveredTiles[ht]=!0,I[ht]=z[ht])}for(var _t in I)this._tiles[_t].clearFadeHold();for(var gt=0,bt=a.keysDifference(this._tiles,I);gt<bt.length;gt+=1){var Mt=bt[gt],zt=this._tiles[Mt];zt.hasSymbolBuckets&&!zt.holdingForFade()?zt.setHoldDuration(this.map._fadeDuration):zt.hasSymbolBuckets&&!zt.symbolFadeFinished()||this._removeTile(Mt)}this._updateLoadedParentTileCache()}},c.prototype.releaseSymbolFadeTiles=function(){for(var u in this._tiles)this._tiles[u].holdingForFade()&&this._removeTile(u)},c.prototype._updateRetainedTiles=function(u,h){for(var g={},_={},C=Math.max(h-c.maxOverzooming,this._source.minzoom),S=Math.max(h+c.maxUnderzooming,this._source.minzoom),I={},z=0,L=u;z<L.length;z+=1){var Z=L[z],Y=this._addTile(Z);g[Z.key]=Z,Y.hasData()||h<this._source.maxzoom&&(I[Z.key]=Z)}this._retainLoadedChildren(I,h,S,g);for(var K=0,tt=u;K<tt.length;K+=1){var J=tt[K],ft=this._tiles[J.key];if(!ft.hasData()){if(h+1>this._source.maxzoom){var ht=J.children(this._source.maxzoom)[0],_t=this.getTile(ht);if(_t&&_t.hasData()){g[ht.key]=ht;continue}}else{var gt=J.children(this._source.maxzoom);if(g[gt[0].key]&&g[gt[1].key]&&g[gt[2].key]&&g[gt[3].key])continue}for(var bt=ft.wasRequested(),Mt=J.overscaledZ-1;Mt>=C;--Mt){var zt=J.scaledTo(Mt);if(_[zt.key]||(_[zt.key]=!0,!(ft=this.getTile(zt))&&bt&&(ft=this._addTile(zt)),ft&&(g[zt.key]=zt,bt=ft.wasRequested(),ft.hasData())))break}}}return g},c.prototype._updateLoadedParentTileCache=function(){for(var u in this._loadedParentTiles={},this._tiles){for(var h=[],g=void 0,_=this._tiles[u].tileID;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){g=this._loadedParentTiles[_.key];break}h.push(_.key);var C=_.scaledTo(_.overscaledZ-1);if(g=this._getLoadedTile(C))break;_=C}for(var S=0,I=h;S<I.length;S+=1){var z=I[S];this._loadedParentTiles[z]=g}}},c.prototype._addTile=function(u){var h=this._tiles[u.key];if(h)return h;(h=this._cache.getAndRemove(u))&&(this._setTileReloadTimer(u.key,h),h.tileID=u,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[u.key]&&(clearTimeout(this._cacheTimers[u.key]),delete this._cacheTimers[u.key],this._setTileReloadTimer(u.key,h)));var g=!!h;return g||(h=new a.Tile(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(h,this._tileLoaded.bind(this,h,u.key,h.state))),h?(h.uses++,this._tiles[u.key]=h,g||this._source.fire(new a.Event("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h):null},c.prototype._setTileReloadTimer=function(u,h){var g=this;u in this._timers&&(clearTimeout(this._timers[u]),delete this._timers[u]);var _=h.getExpiryTimeout();_&&(this._timers[u]=setTimeout(function(){g._reloadTile(u,"expired"),delete g._timers[u]},_))},c.prototype._removeTile=function(u){var h=this._tiles[u];h&&(h.uses--,delete this._tiles[u],this._timers[u]&&(clearTimeout(this._timers[u]),delete this._timers[u]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))},c.prototype.clearTiles=function(){for(var u in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(u);this._cache.reset()},c.prototype.tilesIn=function(u,h,g){var _=this,C=[],S=this.transform;if(!S)return C;for(var I=g?S.getCameraQueryGeometry(u):u,z=u.map(function(Mt){return S.pointCoordinate(Mt)}),L=I.map(function(Mt){return S.pointCoordinate(Mt)}),Z=this.getIds(),Y=1/0,K=1/0,tt=-1/0,J=-1/0,ft=0,ht=L;ft<ht.length;ft+=1){var _t=ht[ft];Y=Math.min(Y,_t.x),K=Math.min(K,_t.y),tt=Math.max(tt,_t.x),J=Math.max(J,_t.y)}for(var gt=function(Mt){var zt=_._tiles[Z[Mt]];if(!zt.holdingForFade()){var Ut=zt.tileID,se=Math.pow(2,S.zoom-zt.tileID.overscaledZ),re=h*zt.queryPadding*a.EXTENT/zt.tileSize/se,fe=[Ut.getTilePoint(new a.MercatorCoordinate(Y,K)),Ut.getTilePoint(new a.MercatorCoordinate(tt,J))];if(fe[0].x-re<a.EXTENT&&fe[0].y-re<a.EXTENT&&fe[1].x+re>=0&&fe[1].y+re>=0){var ee=z.map(function(le){return Ut.getTilePoint(le)}),Te=L.map(function(le){return Ut.getTilePoint(le)});C.push({tile:zt,tileID:Ut,queryGeometry:ee,cameraQueryGeometry:Te,scale:se})}}},bt=0;bt<Z.length;bt++)gt(bt);return C},c.prototype.getVisibleCoordinates=function(u){for(var h=this,g=this.getRenderableIds(u).map(function(I){return h._tiles[I].tileID}),_=0,C=g;_<C.length;_+=1){var S=C[_];S.posMatrix=this.transform.calculatePosMatrix(S.toUnwrapped())}return g},c.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(dn(this._source.type))for(var u in this._tiles){var h=this._tiles[u];if(h.fadeEndTime!==void 0&&h.fadeEndTime>=a.browser.now())return!0}return!1},c.prototype.setFeatureState=function(u,h,g){u=u||"_geojsonTileLayer",this._state.updateState(u,h,g)},c.prototype.removeFeatureState=function(u,h,g){u=u||"_geojsonTileLayer",this._state.removeFeatureState(u,h,g)},c.prototype.getFeatureState=function(u,h){return u=u||"_geojsonTileLayer",this._state.getState(u,h)},c.prototype.setDependencies=function(u,h,g){var _=this._tiles[u];_&&_.setDependencies(h,g)},c.prototype.reloadTilesForDependencies=function(u,h){for(var g in this._tiles)this._tiles[g].hasDependency(u,h)&&this._reloadTile(g,"reloading");this._cache.filter(function(_){return!_.hasDependency(u,h)})},c}(a.Evented);function Wi(s,c){var u=Math.abs(2*s.wrap)-+(s.wrap<0),h=Math.abs(2*c.wrap)-+(c.wrap<0);return s.overscaledZ-c.overscaledZ||h-u||c.canonical.y-s.canonical.y||c.canonical.x-s.canonical.x}function dn(s){return s==="raster"||s==="image"||s==="video"}function Ur(){return new a.window.Worker(yo.workerUrl)}qi.maxOverzooming=10,qi.maxUnderzooming=3;var O=function(){this.active={}};O.prototype.acquire=function(s){if(!this.workers)for(this.workers=[];this.workers.length<O.workerCount;)this.workers.push(new Ur);return this.active[s]=!0,this.workers.slice()},O.prototype.release=function(s){delete this.active[s],Object.keys(this.active).length===0&&(this.workers.forEach(function(c){c.terminate()}),this.workers=null)};var D,F=Math.floor(a.browser.hardwareConcurrency/2);function V(s,c){var u={};for(var h in s)h!=="ref"&&(u[h]=s[h]);return a.refProperties.forEach(function(g){g in c&&(u[g]=c[g])}),u}function Q(s){s=s.slice();for(var c=Object.create(null),u=0;u<s.length;u++)c[s[u].id]=s[u];for(var h=0;h<s.length;h++)"ref"in s[h]&&(s[h]=V(s[h],c[s[h].ref]));return s}O.workerCount=Math.max(Math.min(F,6),1);var rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function mt(s,c,u){u.push({command:rt.addSource,args:[s,c[s]]})}function ct(s,c,u){c.push({command:rt.removeSource,args:[s]}),u[s]=!0}function lt(s,c,u,h){ct(s,u,h),mt(s,c,u)}function vt(s,c,u){var h;for(h in s[u])if(s[u].hasOwnProperty(h)&&h!=="data"&&!a.deepEqual(s[u][h],c[u][h]))return!1;for(h in c[u])if(c[u].hasOwnProperty(h)&&h!=="data"&&!a.deepEqual(s[u][h],c[u][h]))return!1;return!0}function Ot(s,c,u,h,g,_){var C;for(C in c=c||{},s=s||{})s.hasOwnProperty(C)&&(a.deepEqual(s[C],c[C])||u.push({command:_,args:[h,C,c[C],g]}));for(C in c)c.hasOwnProperty(C)&&!s.hasOwnProperty(C)&&(a.deepEqual(s[C],c[C])||u.push({command:_,args:[h,C,c[C],g]}))}function $t(s){return s.id}function kt(s,c){return s[c.id]=c,s}function jt(s,c){if(!s)return[{command:rt.setStyle,args:[c]}];var u=[];try{if(!a.deepEqual(s.version,c.version))return[{command:rt.setStyle,args:[c]}];a.deepEqual(s.center,c.center)||u.push({command:rt.setCenter,args:[c.center]}),a.deepEqual(s.zoom,c.zoom)||u.push({command:rt.setZoom,args:[c.zoom]}),a.deepEqual(s.bearing,c.bearing)||u.push({command:rt.setBearing,args:[c.bearing]}),a.deepEqual(s.pitch,c.pitch)||u.push({command:rt.setPitch,args:[c.pitch]}),a.deepEqual(s.sprite,c.sprite)||u.push({command:rt.setSprite,args:[c.sprite]}),a.deepEqual(s.glyphs,c.glyphs)||u.push({command:rt.setGlyphs,args:[c.glyphs]}),a.deepEqual(s.transition,c.transition)||u.push({command:rt.setTransition,args:[c.transition]}),a.deepEqual(s.light,c.light)||u.push({command:rt.setLight,args:[c.light]});var h={},g=[];(function(C,S,I,z){var L;for(L in S=S||{},C=C||{})C.hasOwnProperty(L)&&(S.hasOwnProperty(L)||ct(L,I,z));for(L in S)S.hasOwnProperty(L)&&(C.hasOwnProperty(L)?a.deepEqual(C[L],S[L])||(C[L].type==="geojson"&&S[L].type==="geojson"&&vt(C,S,L)?I.push({command:rt.setGeoJSONSourceData,args:[L,S[L].data]}):lt(L,S,I,z)):mt(L,S,I))})(s.sources,c.sources,g,h);var _=[];s.layers&&s.layers.forEach(function(C){h[C.source]?u.push({command:rt.removeLayer,args:[C.id]}):_.push(C)}),u=u.concat(g),function(C,S,I){S=S||[];var z,L,Z,Y,K,tt,J,ft=(C=C||[]).map($t),ht=S.map($t),_t=C.reduce(kt,{}),gt=S.reduce(kt,{}),bt=ft.slice(),Mt=Object.create(null);for(z=0,L=0;z<ft.length;z++)Z=ft[z],gt.hasOwnProperty(Z)?L++:(I.push({command:rt.removeLayer,args:[Z]}),bt.splice(bt.indexOf(Z,L),1));for(z=0,L=0;z<ht.length;z++)Z=ht[ht.length-1-z],bt[bt.length-1-z]!==Z&&(_t.hasOwnProperty(Z)?(I.push({command:rt.removeLayer,args:[Z]}),bt.splice(bt.lastIndexOf(Z,bt.length-L),1)):L++,tt=bt[bt.length-z],I.push({command:rt.addLayer,args:[gt[Z],tt]}),bt.splice(bt.length-z,0,Z),Mt[Z]=!0);for(z=0;z<ht.length;z++)if(Y=_t[Z=ht[z]],K=gt[Z],!Mt[Z]&&!a.deepEqual(Y,K))if(a.deepEqual(Y.source,K.source)&&a.deepEqual(Y["source-layer"],K["source-layer"])&&a.deepEqual(Y.type,K.type)){for(J in Ot(Y.layout,K.layout,I,Z,null,rt.setLayoutProperty),Ot(Y.paint,K.paint,I,Z,null,rt.setPaintProperty),a.deepEqual(Y.filter,K.filter)||I.push({command:rt.setFilter,args:[Z,K.filter]}),a.deepEqual(Y.minzoom,K.minzoom)&&a.deepEqual(Y.maxzoom,K.maxzoom)||I.push({command:rt.setLayerZoomRange,args:[Z,K.minzoom,K.maxzoom]}),Y)Y.hasOwnProperty(J)&&J!=="layout"&&J!=="paint"&&J!=="filter"&&J!=="metadata"&&J!=="minzoom"&&J!=="maxzoom"&&(J.indexOf("paint.")===0?Ot(Y[J],K[J],I,Z,J.slice(6),rt.setPaintProperty):a.deepEqual(Y[J],K[J])||I.push({command:rt.setLayerProperty,args:[Z,J,K[J]]}));for(J in K)K.hasOwnProperty(J)&&!Y.hasOwnProperty(J)&&J!=="layout"&&J!=="paint"&&J!=="filter"&&J!=="metadata"&&J!=="minzoom"&&J!=="maxzoom"&&(J.indexOf("paint.")===0?Ot(Y[J],K[J],I,Z,J.slice(6),rt.setPaintProperty):a.deepEqual(Y[J],K[J])||I.push({command:rt.setLayerProperty,args:[Z,J,K[J]]}))}else I.push({command:rt.removeLayer,args:[Z]}),tt=bt[bt.lastIndexOf(Z)+1],I.push({command:rt.addLayer,args:[K,tt]})}(_,c.layers,u)}catch(C){console.warn("Unable to compute style diff:",C),u=[{command:rt.setStyle,args:[c]}]}return u}var Kt=function(s,c,u){var h=this.boxCells=[],g=this.circleCells=[];this.xCellCount=Math.ceil(s/u),this.yCellCount=Math.ceil(c/u);for(var _=0;_<this.xCellCount*this.yCellCount;_++)h.push([]),g.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=c,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0};function ne(s,c,u,h,g){var _=a.create();return c?(a.scale(_,_,[1/g,1/g,1]),u||a.rotateZ(_,_,h.angle)):a.multiply(_,h.labelPlaneMatrix,s),_}function de(s,c,u,h,g){if(c){var _=a.clone(s);return a.scale(_,_,[g,g,1]),u||a.rotateZ(_,_,-h.angle),_}return h.glCoordMatrix}function Wt(s,c){var u=[s.x,s.y,0,1];Rn(u,u,c);var h=u[3];return{point:new a.Point(u[0]/h,u[1]/h),signedDistanceFromCamera:h}}function ze(s,c){var u=s[0]/s[3],h=s[1]/s[3];return u>=-c[0]&&u<=c[0]&&h>=-c[1]&&h<=c[1]}function De(s,c,u,h,g,_,C,S){var I=h?s.textSizeData:s.iconSizeData,z=a.evaluateSizeForZoom(I,u.transform.zoom),L=[256/u.width*2+1,256/u.height*2+1],Z=h?s.text.dynamicLayoutVertexArray:s.icon.dynamicLayoutVertexArray;Z.clear();for(var Y=s.lineVertexArray,K=h?s.text.placedSymbolArray:s.icon.placedSymbolArray,tt=u.transform.width/u.transform.height,J=!1,ft=0;ft<K.length;ft++){var ht=K.get(ft);if(ht.hidden||ht.writingMode===a.WritingMode.vertical&&!J)ar(ht.numGlyphs,Z);else{J=!1;var _t=[ht.anchorX,ht.anchorY,0,1];if(a.transformMat4(_t,_t,c),ze(_t,L)){var gt=.5+_t[3]/u.transform.cameraToCenterDistance*.5,bt=a.evaluateSizeForFeature(I,z,ht),Mt=C?bt*gt:bt/gt,zt=new a.Point(ht.anchorX,ht.anchorY),Ut=Wt(zt,g).point,se={},re=Er(ht,Mt,!1,S,c,g,_,s.glyphOffsetArray,Y,Z,Ut,zt,se,tt);J=re.useVertical,(re.notEnoughRoom||J||re.needsFlipping&&Er(ht,Mt,!0,S,c,g,_,s.glyphOffsetArray,Y,Z,Ut,zt,se,tt).notEnoughRoom)&&ar(ht.numGlyphs,Z)}else ar(ht.numGlyphs,Z)}}h?s.text.dynamicLayoutVertexBuffer.updateData(Z):s.icon.dynamicLayoutVertexBuffer.updateData(Z)}function we(s,c,u,h,g,_,C,S,I,z,L,Z){var Y=S.glyphStartIndex+S.numGlyphs,K=S.lineStartIndex,tt=S.lineStartIndex+S.lineLength,J=c.getoffsetX(S.glyphStartIndex),ft=c.getoffsetX(Y-1),ht=Qe(s*J,u,h,g,_,C,S.segment,K,tt,I,z,L,Z);if(!ht)return null;var _t=Qe(s*ft,u,h,g,_,C,S.segment,K,tt,I,z,L,Z);return _t?{first:ht,last:_t}:null}function Ie(s,c,u,h){return s===a.WritingMode.horizontal&&Math.abs(u.y-c.y)>Math.abs(u.x-c.x)*h?{useVertical:!0}:(s===a.WritingMode.vertical?c.y<u.y:c.x>u.x)?{needsFlipping:!0}:null}function Er(s,c,u,h,g,_,C,S,I,z,L,Z,Y,K){var tt,J=c/24,ft=s.lineOffsetX*J,ht=s.lineOffsetY*J;if(s.numGlyphs>1){var _t=s.glyphStartIndex+s.numGlyphs,gt=s.lineStartIndex,bt=s.lineStartIndex+s.lineLength,Mt=we(J,S,ft,ht,u,L,Z,s,I,_,Y,!1);if(!Mt)return{notEnoughRoom:!0};var zt=Wt(Mt.first.point,C).point,Ut=Wt(Mt.last.point,C).point;if(h&&!u){var se=Ie(s.writingMode,zt,Ut,K);if(se)return se}tt=[Mt.first];for(var re=s.glyphStartIndex+1;re<_t-1;re++)tt.push(Qe(J*S.getoffsetX(re),ft,ht,u,L,Z,s.segment,gt,bt,I,_,Y,!1));tt.push(Mt.last)}else{if(h&&!u){var fe=Wt(Z,g).point,ee=s.lineStartIndex+s.segment+1,Te=new a.Point(I.getx(ee),I.gety(ee)),le=Wt(Te,g),Be=le.signedDistanceFromCamera>0?le.point:Le(Z,Te,fe,1,g),je=Ie(s.writingMode,fe,Be,K);if(je)return je}var Re=Qe(J*S.getoffsetX(s.glyphStartIndex),ft,ht,u,L,Z,s.segment,s.lineStartIndex,s.lineStartIndex+s.lineLength,I,_,Y,!1);if(!Re)return{notEnoughRoom:!0};tt=[Re]}for(var Fe=0,kr=tt;Fe<kr.length;Fe+=1){var Ye=kr[Fe];a.addDynamicAttributes(z,Ye.point,Ye.angle)}return{}}function Le(s,c,u,h,g){var _=Wt(s.add(s.sub(c)._unit()),g).point,C=u.sub(_);return u.add(C._mult(h/C.mag()))}function Qe(s,c,u,h,g,_,C,S,I,z,L,Z,Y){var K=h?s-c:s+c,tt=K>0?1:-1,J=0;h&&(tt*=-1,J=Math.PI),tt<0&&(J+=Math.PI);for(var ft=tt>0?S+C:S+C+1,ht=ft,_t=g,gt=g,bt=0,Mt=0,zt=Math.abs(K);bt+Mt<=zt;){if((ft+=tt)<S||ft>=I)return null;if(gt=_t,(_t=Z[ft])===void 0){var Ut=new a.Point(z.getx(ft),z.gety(ft)),se=Wt(Ut,L);if(se.signedDistanceFromCamera>0)_t=Z[ft]=se.point;else{var re=ft-tt;_t=Le(bt===0?_:new a.Point(z.getx(re),z.gety(re)),Ut,gt,zt-bt+1,L)}}bt+=Mt,Mt=gt.dist(_t)}var fe=(zt-bt)/Mt,ee=_t.sub(gt),Te=ee.mult(fe)._add(gt);return Te._add(ee._unit()._perp()._mult(u*tt)),{point:Te,angle:J+Math.atan2(_t.y-gt.y,_t.x-gt.x),tileDistance:Y?{prevTileDistance:ft-tt===ht?0:z.gettileUnitDistanceFromAnchor(ft-tt),lastSegmentViewportDistance:zt-bt}:null}}Kt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Kt.prototype.insert=function(s,c,u,h,g){this._forEachCell(c,u,h,g,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(c),this.bboxes.push(u),this.bboxes.push(h),this.bboxes.push(g)},Kt.prototype.insertCircle=function(s,c,u,h){this._forEachCell(c-h,u-h,c+h,u+h,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(c),this.circles.push(u),this.circles.push(h)},Kt.prototype._insertBoxCell=function(s,c,u,h,g,_){this.boxCells[g].push(_)},Kt.prototype._insertCircleCell=function(s,c,u,h,g,_){this.circleCells[g].push(_)},Kt.prototype._query=function(s,c,u,h,g,_){if(u<0||s>this.width||h<0||c>this.height)return!g&&[];var C=[];if(s<=0&&c<=0&&this.width<=u&&this.height<=h){if(g)return!0;for(var S=0;S<this.boxKeys.length;S++)C.push({key:this.boxKeys[S],x1:this.bboxes[4*S],y1:this.bboxes[4*S+1],x2:this.bboxes[4*S+2],y2:this.bboxes[4*S+3]});for(var I=0;I<this.circleKeys.length;I++){var z=this.circles[3*I],L=this.circles[3*I+1],Z=this.circles[3*I+2];C.push({key:this.circleKeys[I],x1:z-Z,y1:L-Z,x2:z+Z,y2:L+Z})}return _?C.filter(_):C}var Y={hitTest:g,seenUids:{box:{},circle:{}}};return this._forEachCell(s,c,u,h,this._queryCell,C,Y,_),g?C.length>0:C},Kt.prototype._queryCircle=function(s,c,u,h,g){var _=s-u,C=s+u,S=c-u,I=c+u;if(C<0||_>this.width||I<0||S>this.height)return!h&&[];var z=[],L={hitTest:h,circle:{x:s,y:c,radius:u},seenUids:{box:{},circle:{}}};return this._forEachCell(_,S,C,I,this._queryCellCircle,z,L,g),h?z.length>0:z},Kt.prototype.query=function(s,c,u,h,g){return this._query(s,c,u,h,!1,g)},Kt.prototype.hitTest=function(s,c,u,h,g){return this._query(s,c,u,h,!0,g)},Kt.prototype.hitTestCircle=function(s,c,u,h){return this._queryCircle(s,c,u,!0,h)},Kt.prototype._queryCell=function(s,c,u,h,g,_,C,S){var I=C.seenUids,z=this.boxCells[g];if(z!==null)for(var L=this.bboxes,Z=0,Y=z;Z<Y.length;Z+=1){var K=Y[Z];if(!I.box[K]){I.box[K]=!0;var tt=4*K;if(s<=L[tt+2]&&c<=L[tt+3]&&u>=L[tt+0]&&h>=L[tt+1]&&(!S||S(this.boxKeys[K]))){if(C.hitTest)return _.push(!0),!0;_.push({key:this.boxKeys[K],x1:L[tt],y1:L[tt+1],x2:L[tt+2],y2:L[tt+3]})}}}var J=this.circleCells[g];if(J!==null)for(var ft=this.circles,ht=0,_t=J;ht<_t.length;ht+=1){var gt=_t[ht];if(!I.circle[gt]){I.circle[gt]=!0;var bt=3*gt;if(this._circleAndRectCollide(ft[bt],ft[bt+1],ft[bt+2],s,c,u,h)&&(!S||S(this.circleKeys[gt]))){if(C.hitTest)return _.push(!0),!0;var Mt=ft[bt],zt=ft[bt+1],Ut=ft[bt+2];_.push({key:this.circleKeys[gt],x1:Mt-Ut,y1:zt-Ut,x2:Mt+Ut,y2:zt+Ut})}}}},Kt.prototype._queryCellCircle=function(s,c,u,h,g,_,C,S){var I=C.circle,z=C.seenUids,L=this.boxCells[g];if(L!==null)for(var Z=this.bboxes,Y=0,K=L;Y<K.length;Y+=1){var tt=K[Y];if(!z.box[tt]){z.box[tt]=!0;var J=4*tt;if(this._circleAndRectCollide(I.x,I.y,I.radius,Z[J+0],Z[J+1],Z[J+2],Z[J+3])&&(!S||S(this.boxKeys[tt])))return _.push(!0),!0}}var ft=this.circleCells[g];if(ft!==null)for(var ht=this.circles,_t=0,gt=ft;_t<gt.length;_t+=1){var bt=gt[_t];if(!z.circle[bt]){z.circle[bt]=!0;var Mt=3*bt;if(this._circlesCollide(ht[Mt],ht[Mt+1],ht[Mt+2],I.x,I.y,I.radius)&&(!S||S(this.circleKeys[bt])))return _.push(!0),!0}}},Kt.prototype._forEachCell=function(s,c,u,h,g,_,C,S){for(var I=this._convertToXCellCoord(s),z=this._convertToYCellCoord(c),L=this._convertToXCellCoord(u),Z=this._convertToYCellCoord(h),Y=I;Y<=L;Y++)for(var K=z;K<=Z;K++){var tt=this.xCellCount*K+Y;if(g.call(this,s,c,u,h,tt,_,C,S))return}},Kt.prototype._convertToXCellCoord=function(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))},Kt.prototype._convertToYCellCoord=function(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))},Kt.prototype._circlesCollide=function(s,c,u,h,g,_){var C=h-s,S=g-c,I=u+_;return I*I>C*C+S*S},Kt.prototype._circleAndRectCollide=function(s,c,u,h,g,_,C){var S=(_-h)/2,I=Math.abs(s-(h+S));if(I>S+u)return!1;var z=(C-g)/2,L=Math.abs(c-(g+z));if(L>z+u)return!1;if(I<=S||L<=z)return!0;var Z=I-S,Y=L-z;return Z*Z+Y*Y<=u*u};var Tr=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ar(s,c){for(var u=0;u<s;u++){var h=c.length;c.resize(h+4),c.float32.set(Tr,3*h)}}function Rn(s,c,u){var h=c[0],g=c[1];return s[0]=u[0]*h+u[4]*g+u[12],s[1]=u[1]*h+u[5]*g+u[13],s[3]=u[3]*h+u[7]*g+u[15],s}var tr=function(s,c,u){c===void 0&&(c=new Kt(s.width+200,s.height+200,25)),u===void 0&&(u=new Kt(s.width+200,s.height+200,25)),this.transform=s,this.grid=c,this.ignoredGrid=u,this.pitchfactor=Math.cos(s._pitch)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+100,this.screenBottomBoundary=s.height+100,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200};function qr(s,c,u){s[c+4]=u?1:0}function We(s,c,u){return c*(a.EXTENT/(s.tileSize*Math.pow(2,u-s.tileID.overscaledZ)))}tr.prototype.placeCollisionBox=function(s,c,u,h,g){var _=this.projectAndGetPerspectiveRatio(h,s.anchorPointX,s.anchorPointY),C=u*_.perspectiveRatio,S=s.x1*C+_.point.x,I=s.y1*C+_.point.y,z=s.x2*C+_.point.x,L=s.y2*C+_.point.y;return!this.isInsideGrid(S,I,z,L)||!c&&this.grid.hitTest(S,I,z,L,g)?{box:[],offscreen:!1}:{box:[S,I,z,L],offscreen:this.isOffscreen(S,I,z,L)}},tr.prototype.approximateTileDistance=function(s,c,u,h,g){var _=g?1:h/this.pitchfactor,C=s.lastSegmentViewportDistance*u;return s.prevTileDistance+C+(_-1)*C*Math.abs(Math.sin(c))},tr.prototype.placeCollisionCircles=function(s,c,u,h,g,_,C,S,I,z,L,Z,Y){var K=[],tt=this.projectAnchor(I,g.anchorX,g.anchorY),J=S/24,ft=g.lineOffsetX*S,ht=g.lineOffsetY*S,_t=new a.Point(g.anchorX,g.anchorY),gt=we(J,C,ft,ht,!1,Wt(_t,z).point,_t,g,_,z,{},!0),bt=!1,Mt=!1,zt=!0,Ut=tt.perspectiveRatio*h,se=1/(h*u),re=0,fe=0;gt&&(re=this.approximateTileDistance(gt.first.tileDistance,gt.first.angle,se,tt.cameraDistance,Z),fe=this.approximateTileDistance(gt.last.tileDistance,gt.last.angle,se,tt.cameraDistance,Z));for(var ee=0;ee<s.length;ee+=5){var Te=s[ee],le=s[ee+1],Be=s[ee+2],je=s[ee+3];if(!gt||je<-re||je>fe)qr(s,ee,!1);else{var Re=this.projectPoint(I,Te,le),Fe=Be*Ut;if(K.length>0){var kr=Re.x-K[K.length-4],Ye=Re.y-K[K.length-3];if(Fe*Fe*2>kr*kr+Ye*Ye&&ee+8<s.length){var Ke=s[ee+8];if(Ke>-re&&Ke<fe){qr(s,ee,!1);continue}}}var wn=ee/5;K.push(Re.x,Re.y,Fe,wn),qr(s,ee,!0);var br=Re.x-Fe,He=Re.y-Fe,Vn=Re.x+Fe,Tn=Re.y+Fe;if(zt=zt&&this.isOffscreen(br,He,Vn,Tn),Mt=Mt||this.isInsideGrid(br,He,Vn,Tn),!c&&this.grid.hitTestCircle(Re.x,Re.y,Fe,Y)){if(!L)return{circles:[],offscreen:!1};bt=!0}}}return{circles:bt||!Mt?[]:K,offscreen:zt}},tr.prototype.queryRenderedSymbols=function(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var c=[],u=1/0,h=1/0,g=-1/0,_=-1/0,C=0,S=s;C<S.length;C+=1){var I=S[C],z=new a.Point(I.x+100,I.y+100);u=Math.min(u,z.x),h=Math.min(h,z.y),g=Math.max(g,z.x),_=Math.max(_,z.y),c.push(z)}for(var L={},Z={},Y=0,K=this.grid.query(u,h,g,_).concat(this.ignoredGrid.query(u,h,g,_));Y<K.length;Y+=1){var tt=K[Y],J=tt.key;if(L[J.bucketInstanceId]===void 0&&(L[J.bucketInstanceId]={}),!L[J.bucketInstanceId][J.featureIndex]){var ft=[new a.Point(tt.x1,tt.y1),new a.Point(tt.x2,tt.y1),new a.Point(tt.x2,tt.y2),new a.Point(tt.x1,tt.y2)];a.polygonIntersectsPolygon(c,ft)&&(L[J.bucketInstanceId][J.featureIndex]=!0,Z[J.bucketInstanceId]===void 0&&(Z[J.bucketInstanceId]=[]),Z[J.bucketInstanceId].push(J.featureIndex))}}return Z},tr.prototype.insertCollisionBox=function(s,c,u,h,g){var _={bucketInstanceId:u,featureIndex:h,collisionGroupID:g};(c?this.ignoredGrid:this.grid).insert(_,s[0],s[1],s[2],s[3])},tr.prototype.insertCollisionCircles=function(s,c,u,h,g){for(var _=c?this.ignoredGrid:this.grid,C={bucketInstanceId:u,featureIndex:h,collisionGroupID:g},S=0;S<s.length;S+=4)_.insertCircle(C,s[S],s[S+1],s[S+2])},tr.prototype.projectAnchor=function(s,c,u){var h=[c,u,0,1];return Rn(h,h,s),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/h[3]*.5,cameraDistance:h[3]}},tr.prototype.projectPoint=function(s,c,u){var h=[c,u,0,1];return Rn(h,h,s),new a.Point((h[0]/h[3]+1)/2*this.transform.width+100,(-h[1]/h[3]+1)/2*this.transform.height+100)},tr.prototype.projectAndGetPerspectiveRatio=function(s,c,u){var h=[c,u,0,1];return Rn(h,h,s),{point:new a.Point((h[0]/h[3]+1)/2*this.transform.width+100,(-h[1]/h[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/h[3]*.5}},tr.prototype.isOffscreen=function(s,c,u,h){return u<100||s>=this.screenRightBoundary||h<100||c>this.screenBottomBoundary},tr.prototype.isInsideGrid=function(s,c,u,h){return u>=0&&s<this.gridRightBoundary&&h>=0&&c<this.gridBottomBoundary};var an=function(s,c,u,h){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?c:-c))):h&&u?1:0,this.placed=u};an.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var zn=function(s,c,u,h,g){this.text=new an(s?s.text:null,c,u,g),this.icon=new an(s?s.icon:null,c,h,g)};zn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ei=function(s,c,u){this.text=s,this.icon=c,this.skipFade=u},ro=function(s,c,u,h,g){this.bucketInstanceId=s,this.featureIndex=c,this.sourceLayerIndex=u,this.bucketIndex=h,this.tileID=g},Dn=function(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}};function ho(s,c,u,h,g){var _=a.getAnchorAlignment(s),C=-(_.horizontalAlign-.5)*c,S=-(_.verticalAlign-.5)*u,I=a.evaluateVariableOffset(s,h);return new a.Point(C+I[0]*g,S+I[1]*g)}function ca(s,c,u,h,g,_){var C=s.x1,S=s.x2,I=s.y1,z=s.y2,L=s.anchorPointX,Z=s.anchorPointY,Y=new a.Point(c,u);return h&&Y._rotate(g?_:-_),{x1:C+Y.x,y1:I+Y.y,x2:S+Y.x,y2:z+Y.y,anchorPointX:L,anchorPointY:Z}}Dn.prototype.get=function(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){var c=++this.maxGroupID;this.collisionGroups[s]={ID:c,predicate:function(u){return u.collisionGroupID===c}}}return this.collisionGroups[s]};var $=function(s,c,u,h){this.transform=s.clone(),this.collisionIndex=new tr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=c,this.retainedQueryData={},this.collisionGroups=new Dn(u),this.prevPlacement=h,h&&(h.prevPlacement=void 0),this.placedOrientations={}};function X(s,c,u,h,g){s.emplaceBack(c?1:0,u?1:0,h||0,g||0),s.emplaceBack(c?1:0,u?1:0,h||0,g||0),s.emplaceBack(c?1:0,u?1:0,h||0,g||0),s.emplaceBack(c?1:0,u?1:0,h||0,g||0)}$.prototype.placeLayerTile=function(s,c,u,h){var g=c.getBucket(s),_=c.latestFeatureIndex;if(g&&_&&s.id===g.layerIds[0]){var C=c.collisionBoxArray,S=g.layers[0].layout,I=Math.pow(2,this.transform.zoom-c.tileID.overscaledZ),z=c.tileSize/a.EXTENT,L=this.transform.calculatePosMatrix(c.tileID.toUnwrapped()),Z=ne(L,S.get("text-pitch-alignment")==="map",S.get("text-rotation-alignment")==="map",this.transform,We(c,1,this.transform.zoom)),Y=ne(L,S.get("icon-pitch-alignment")==="map",S.get("icon-rotation-alignment")==="map",this.transform,We(c,1,this.transform.zoom));this.retainedQueryData[g.bucketInstanceId]=new ro(g.bucketInstanceId,_,g.sourceLayerIndex,g.index,c.tileID),this.placeLayerBucket(g,L,Z,Y,I,z,u,c.holdingForFade(),h,C)}},$.prototype.attemptAnchorPlacement=function(s,c,u,h,g,_,C,S,I,z,L,Z,Y,K,tt){var J,ft=[Z.textOffset0,Z.textOffset1],ht=ho(s,u,h,ft,g),_t=this.collisionIndex.placeCollisionBox(ca(c,ht.x,ht.y,_,C,this.transform.angle),L,S,I,z.predicate);if(!(tt&&this.collisionIndex.placeCollisionBox(ca(tt,ht.x,ht.y,_,C,this.transform.angle),L,S,I,z.predicate).box.length===0)&&_t.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[Z.crossTileID]&&this.prevPlacement.placements[Z.crossTileID]&&this.prevPlacement.placements[Z.crossTileID].text&&(J=this.prevPlacement.variableOffsets[Z.crossTileID].anchor),this.variableOffsets[Z.crossTileID]={textOffset:ft,width:u,height:h,anchor:s,textBoxScale:g,prevAnchor:J},this.markUsedJustification(Y,s,Z,K),Y.allowVerticalPlacement&&(this.markUsedOrientation(Y,K,Z),this.placedOrientations[Z.crossTileID]=K),{shift:ht,placedGlyphBoxes:_t}},$.prototype.placeLayerBucket=function(s,c,u,h,g,_,C,S,I,z){var L=this,Z=s.layers[0].layout,Y=a.evaluateSizeForZoom(s.textSizeData,this.transform.zoom),K=Z.get("text-optional"),tt=Z.get("icon-optional"),J=Z.get("text-allow-overlap"),ft=Z.get("icon-allow-overlap"),ht=J&&(ft||!s.hasIconData()||tt),_t=ft&&(J||!s.hasTextData()||K),gt=this.collisionGroups.get(s.sourceID),bt=Z.get("text-rotation-alignment")==="map",Mt=Z.get("text-pitch-alignment")==="map",zt=Z.get("icon-text-fit")!=="none",Ut=Z.get("symbol-z-order")==="viewport-y";!s.collisionArrays&&z&&s.deserializeCollisionBoxes(z);var se=function(le,Be){if(!I[le.crossTileID])if(S)L.placements[le.crossTileID]=new Ei(!1,!1,!1);else{var je,Re=!1,Fe=!1,kr=!0,Ye=null,Ke={box:null,offscreen:null},wn={box:null,offscreen:null},br=null,He=null,Vn=0,Tn=0,Ro=0;Be.textFeatureIndex&&(Vn=Be.textFeatureIndex),Be.verticalTextFeatureIndex&&(Tn=Be.verticalTextFeatureIndex);var Fi=Be.textBox;if(Fi){var Wo=function(ln){var Pr=a.WritingMode.horizontal;if(s.allowVerticalPlacement&&!ln&&L.prevPlacement){var Vr=L.prevPlacement.placedOrientations[le.crossTileID];Vr&&(L.placedOrientations[le.crossTileID]=Vr,Pr=Vr,L.markUsedOrientation(s,Pr,le))}return Pr},Xa=function(ln,Pr){if(s.allowVerticalPlacement&&le.numVerticalGlyphVertices>0&&Be.verticalTextBox)for(var Vr=0,gi=s.writingModes;Vr<gi.length&&(gi[Vr]===a.WritingMode.vertical?(Ke=Pr(),wn=Ke):Ke=ln(),!(Ke&&Ke.box&&Ke.box.length));Vr+=1);else Ke=ln()};if(Z.get("text-variable-anchor")){var Xn=Z.get("text-variable-anchor");if(L.prevPlacement&&L.prevPlacement.variableOffsets[le.crossTileID]){var ul=L.prevPlacement.variableOffsets[le.crossTileID];Xn.indexOf(ul.anchor)>0&&(Xn=Xn.filter(function(ln){return ln!==ul.anchor})).unshift(ul.anchor)}var Ka=function(ln,Pr,Vr){for(var gi=ln.x2-ln.x1,Ni=ln.y2-ln.y1,Ki=le.textBoxScale,go=zt&&!ft?Pr:null,ei={box:[],offscreen:!1},oo=J?2*Xn.length:Xn.length,Ql=0;Ql<oo;++Ql){var xc=Xn[Ql%Xn.length],wc=Ql>=Xn.length,zo=L.attemptAnchorPlacement(xc,ln,gi,Ni,Ki,bt,Mt,_,c,gt,wc,le,s,Vr,go);if(zo&&(ei=zo.placedGlyphBoxes)&&ei.box&&ei.box.length){Re=!0,Ye=zo.shift;break}}return ei};Xa(function(){return Ka(Fi,Be.iconBox,a.WritingMode.horizontal)},function(){var ln=Be.verticalTextBox,Pr=Ke&&Ke.box&&Ke.box.length;return s.allowVerticalPlacement&&!Pr&&le.numVerticalGlyphVertices>0&&ln?Ka(ln,Be.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Ke&&(Re=Ke.box,kr=Ke.offscreen);var ya=Wo(Ke&&Ke.box);if(!Re&&L.prevPlacement){var Xi=L.prevPlacement.variableOffsets[le.crossTileID];Xi&&(L.variableOffsets[le.crossTileID]=Xi,L.markUsedJustification(s,Xi.anchor,le,ya))}}else{var Yl=function(ln,Pr){var Vr=L.collisionIndex.placeCollisionBox(ln,Z.get("text-allow-overlap"),_,c,gt.predicate);return Vr&&Vr.box&&Vr.box.length&&(L.markUsedOrientation(s,Pr,le),L.placedOrientations[le.crossTileID]=Pr),Vr};Xa(function(){return Yl(Fi,a.WritingMode.horizontal)},function(){var ln=Be.verticalTextBox;return s.allowVerticalPlacement&&le.numVerticalGlyphVertices>0&&ln?Yl(ln,a.WritingMode.vertical):{box:null,offscreen:null}}),Wo(Ke&&Ke.box&&Ke.box.length)}}Re=(je=Ke)&&je.box&&je.box.length>0,kr=je&&je.offscreen;var Ho=Be.textCircles;if(Ho){var ks=s.text.placedSymbolArray.get(le.centerJustifiedTextSymbolIndex),Jl=a.evaluateSizeForFeature(s.textSizeData,Y,ks);br=L.collisionIndex.placeCollisionCircles(Ho,Z.get("text-allow-overlap"),g,_,ks,s.lineVertexArray,s.glyphOffsetArray,Jl,c,u,C,Mt,gt.predicate),Re=Z.get("text-allow-overlap")||br.circles.length>0,kr=kr&&br.offscreen}if(Be.iconFeatureIndex&&(Ro=Be.iconFeatureIndex),Be.iconBox){var Os=function(ln){var Pr=zt&&Ye?ca(ln,Ye.x,Ye.y,bt,Mt,L.transform.angle):ln;return L.collisionIndex.placeCollisionBox(Pr,Z.get("icon-allow-overlap"),_,c,gt.predicate)};Fe=wn&&wn.box&&wn.box.length&&Be.verticalIconBox?(He=Os(Be.verticalIconBox)).box.length>0:(He=Os(Be.iconBox)).box.length>0,kr=kr&&He.offscreen}var Ya=K||le.numHorizontalGlyphVertices===0&&le.numVerticalGlyphVertices===0,cl=tt||le.numIconVertices===0;Ya||cl?cl?Ya||(Fe=Fe&&Re):Re=Fe&&Re:Fe=Re=Fe&&Re,Re&&je&&je.box&&(wn&&wn.box&&Tn?L.collisionIndex.insertCollisionBox(je.box,Z.get("text-ignore-placement"),s.bucketInstanceId,Tn,gt.ID):L.collisionIndex.insertCollisionBox(je.box,Z.get("text-ignore-placement"),s.bucketInstanceId,Vn,gt.ID)),Fe&&He&&L.collisionIndex.insertCollisionBox(He.box,Z.get("icon-ignore-placement"),s.bucketInstanceId,Ro,gt.ID),Re&&br&&L.collisionIndex.insertCollisionCircles(br.circles,Z.get("text-ignore-placement"),s.bucketInstanceId,Vn,gt.ID),L.placements[le.crossTileID]=new Ei(Re||ht,Fe||_t,kr||s.justReloaded),I[le.crossTileID]=!0}};if(Ut)for(var re=s.getSortedSymbolIndexes(this.transform.angle),fe=re.length-1;fe>=0;--fe){var ee=re[fe];se(s.symbolInstances.get(ee),s.collisionArrays[ee])}else for(var Te=0;Te<s.symbolInstances.length;++Te)se(s.symbolInstances.get(Te),s.collisionArrays[Te]);s.justReloaded=!1},$.prototype.markUsedJustification=function(s,c,u,h){var g,_={left:u.leftJustifiedTextSymbolIndex,center:u.centerJustifiedTextSymbolIndex,right:u.rightJustifiedTextSymbolIndex};g=h===a.WritingMode.vertical?u.verticalPlacedTextSymbolIndex:_[a.getAnchorJustification(c)];for(var C=0,S=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex,u.verticalPlacedTextSymbolIndex];C<S.length;C+=1){var I=S[C];I>=0&&(s.text.placedSymbolArray.get(I).crossTileID=g>=0&&I!==g?0:u.crossTileID)}},$.prototype.markUsedOrientation=function(s,c,u){for(var h=c===a.WritingMode.horizontal||c===a.WritingMode.horizontalOnly?c:0,g=c===a.WritingMode.vertical?c:0,_=0,C=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex];_<C.length;_+=1){var S=C[_];s.text.placedSymbolArray.get(S).placedOrientation=h}u.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(u.verticalPlacedTextSymbolIndex).placedOrientation=g)},$.prototype.commit=function(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;var c=this.prevPlacement,u=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;var h=c?c.symbolFadeChange(s):1,g=c?c.opacities:{},_=c?c.variableOffsets:{},C=c?c.placedOrientations:{};for(var S in this.placements){var I=this.placements[S],z=g[S];z?(this.opacities[S]=new zn(z,h,I.text,I.icon),u=u||I.text!==z.text.placed||I.icon!==z.icon.placed):(this.opacities[S]=new zn(null,h,I.text,I.icon,I.skipFade),u=u||I.text||I.icon)}for(var L in g){var Z=g[L];if(!this.opacities[L]){var Y=new zn(Z,h,!1,!1);Y.isHidden()||(this.opacities[L]=Y,u=u||Z.text.placed||Z.icon.placed)}}for(var K in _)this.variableOffsets[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.variableOffsets[K]=_[K]);for(var tt in C)this.placedOrientations[tt]||!this.opacities[tt]||this.opacities[tt].isHidden()||(this.placedOrientations[tt]=C[tt]);u?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:s)},$.prototype.updateLayerOpacities=function(s,c){for(var u={},h=0,g=c;h<g.length;h+=1){var _=g[h],C=_.getBucket(s);C&&_.latestFeatureIndex&&s.id===C.layerIds[0]&&this.updateBucketOpacities(C,u,_.collisionBoxArray)}},$.prototype.updateBucketOpacities=function(s,c,u){var h=this;s.hasTextData()&&s.text.opacityVertexArray.clear(),s.hasIconData()&&s.icon.opacityVertexArray.clear(),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear(),s.hasIconCollisionCircleData()&&s.iconCollisionCircle.collisionVertexArray.clear(),s.hasTextCollisionCircleData()&&s.textCollisionCircle.collisionVertexArray.clear();var g=s.layers[0].layout,_=new zn(null,0,!1,!1,!0),C=g.get("text-allow-overlap"),S=g.get("icon-allow-overlap"),I=g.get("text-variable-anchor"),z=g.get("text-rotation-alignment")==="map",L=g.get("text-pitch-alignment")==="map",Z=g.get("icon-text-fit")!=="none",Y=new zn(null,0,C&&(S||!s.hasIconData()||g.get("icon-optional")),S&&(C||!s.hasTextData()||g.get("text-optional")),!0);!s.collisionArrays&&u&&(s.hasIconCollisionBoxData()||s.hasIconCollisionCircleData()||s.hasTextCollisionBoxData()||s.hasTextCollisionCircleData())&&s.deserializeCollisionBoxes(u);for(var K=function(ft,ht,_t){for(var gt=0;gt<ht/4;gt++)ft.opacityVertexArray.emplaceBack(_t)},tt=function(ft){var ht=s.symbolInstances.get(ft),_t=ht.numHorizontalGlyphVertices,gt=ht.numVerticalGlyphVertices,bt=ht.crossTileID,Mt=c[bt],zt=h.opacities[bt];Mt?zt=_:zt||(zt=Y,h.opacities[bt]=zt),c[bt]=!0;var Ut=_t>0||gt>0,se=ht.numIconVertices>0,re=h.placedOrientations[ht.crossTileID],fe=re===a.WritingMode.vertical,ee=re===a.WritingMode.horizontal||re===a.WritingMode.horizontalOnly;if(Ut){var Te=Hn(zt.text),le=fe?Ti:Te;K(s.text,_t,le);var Be=ee?Ti:Te;K(s.text,gt,Be);var je=zt.text.isHidden();[ht.rightJustifiedTextSymbolIndex,ht.centerJustifiedTextSymbolIndex,ht.leftJustifiedTextSymbolIndex].forEach(function(Xn){Xn>=0&&(s.text.placedSymbolArray.get(Xn).hidden=je||fe?1:0)}),ht.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(ht.verticalPlacedTextSymbolIndex).hidden=je||ee?1:0);var Re=h.variableOffsets[ht.crossTileID];Re&&h.markUsedJustification(s,Re.anchor,ht,re);var Fe=h.placedOrientations[ht.crossTileID];Fe&&(h.markUsedJustification(s,"left",ht,Fe),h.markUsedOrientation(s,Fe,ht))}if(se){var kr=Hn(zt.icon),Ye=!(Z&&ht.verticalPlacedIconSymbolIndex&&fe);if(ht.placedIconSymbolIndex>=0){var Ke=Ye?kr:Ti;K(s.icon,ht.numIconVertices,Ke),s.icon.placedSymbolArray.get(ht.placedIconSymbolIndex).hidden=zt.icon.isHidden()}if(ht.verticalPlacedIconSymbolIndex>=0){var wn=Ye?Ti:kr;K(s.icon,ht.numVerticalIconVertices,wn),s.icon.placedSymbolArray.get(ht.verticalPlacedIconSymbolIndex).hidden=zt.icon.isHidden()}}if(s.hasIconCollisionBoxData()||s.hasIconCollisionCircleData()||s.hasTextCollisionBoxData()||s.hasTextCollisionCircleData()){var br=s.collisionArrays[ft];if(br){var He=new a.Point(0,0);if(br.textBox||br.verticalTextBox){var Vn=!0;if(I){var Tn=h.variableOffsets[bt];Tn?(He=ho(Tn.anchor,Tn.width,Tn.height,Tn.textOffset,Tn.textBoxScale),z&&He._rotate(L?h.transform.angle:-h.transform.angle)):Vn=!1}br.textBox&&X(s.textCollisionBox.collisionVertexArray,zt.text.placed,!Vn||fe,He.x,He.y),br.verticalTextBox&&X(s.textCollisionBox.collisionVertexArray,zt.text.placed,!Vn||ee,He.x,He.y)}var Ro=!!(!ee&&br.verticalIconBox);br.iconBox&&X(s.iconCollisionBox.collisionVertexArray,zt.icon.placed,Ro,Z?He.x:0,Z?He.y:0),br.verticalIconBox&&X(s.iconCollisionBox.collisionVertexArray,zt.icon.placed,!Ro,Z?He.x:0,Z?He.y:0);var Fi=br.textCircles;if(Fi&&s.hasTextCollisionCircleData())for(var Wo=0;Wo<Fi.length;Wo+=5){var Xa=Mt||Fi[Wo+4]===0;X(s.textCollisionCircle.collisionVertexArray,zt.text.placed,Xa)}}}},J=0;J<s.symbolInstances.length;J++)tt(J);s.sortFeatures(this.transform.angle),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.hasIconCollisionCircleData()&&s.iconCollisionCircle.collisionVertexBuffer&&s.iconCollisionCircle.collisionVertexBuffer.updateData(s.iconCollisionCircle.collisionVertexArray),s.hasTextCollisionCircleData()&&s.textCollisionCircle.collisionVertexBuffer&&s.textCollisionCircle.collisionVertexBuffer.updateData(s.textCollisionCircle.collisionVertexArray)},$.prototype.symbolFadeChange=function(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},$.prototype.zoomAdjustment=function(s){return Math.max(0,(this.transform.zoom-s)/1.5)},$.prototype.hasTransitions=function(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration},$.prototype.stillRecent=function(s,c){var u=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*u>s},$.prototype.setStale=function(){this.stale=!0};var ut=Math.pow(2,25),It=Math.pow(2,24),Ht=Math.pow(2,17),he=Math.pow(2,16),Pe=Math.pow(2,9),Sn=Math.pow(2,8),Ln=Math.pow(2,1);function Hn(s){if(s.opacity===0&&!s.placed)return 0;if(s.opacity===1&&s.placed)return 4294967295;var c=s.placed?1:0,u=Math.floor(127*s.opacity);return u*ut+c*It+u*Ht+c*he+u*Pe+c*Sn+u*Ln+c}var Ti=0,Vp=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Vp.prototype.continuePlacement=function(s,c,u,h,g){for(;this._currentTileIndex<s.length;){var _=s[this._currentTileIndex];if(c.placeLayerTile(h,_,u,this._seenCrossTileIDs),this._currentTileIndex++,g())return!0}};var ds=function(s,c,u,h,g,_,C){this.placement=new $(s,g,_,C),this._currentPlacementIndex=c.length-1,this._forceFullPlacement=u,this._showCollisionBoxes=h,this._done=!1};ds.prototype.isDone=function(){return this._done},ds.prototype.continuePlacement=function(s,c,u){for(var h=this,g=a.browser.now(),_=function(){var I=a.browser.now()-g;return!h._forceFullPlacement&&I>2};this._currentPlacementIndex>=0;){var C=c[s[this._currentPlacementIndex]],S=this.placement.collisionIndex.transform.zoom;if(C.type==="symbol"&&(!C.minzoom||C.minzoom<=S)&&(!C.maxzoom||C.maxzoom>S)){if(this._inProgressLayer||(this._inProgressLayer=new Vp),this._inProgressLayer.continuePlacement(u[C.source],this.placement,this._showCollisionBoxes,C,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},ds.prototype.commit=function(s){return this.placement.commit(s),this.placement};var oc=512/a.EXTENT/2,Qs=function(s,c,u){this.tileID=s,this.indexedSymbolInstances={},this.bucketInstanceId=u;for(var h=0;h<c.length;h++){var g=c.get(h),_=g.key;this.indexedSymbolInstances[_]||(this.indexedSymbolInstances[_]=[]),this.indexedSymbolInstances[_].push({crossTileID:g.crossTileID,coord:this.getScaledCoordinates(g,s)})}};Qs.prototype.getScaledCoordinates=function(s,c){var u=c.canonical.z-this.tileID.canonical.z,h=oc/Math.pow(2,u);return{x:Math.floor((c.canonical.x*a.EXTENT+s.anchorX)*h),y:Math.floor((c.canonical.y*a.EXTENT+s.anchorY)*h)}},Qs.prototype.findMatches=function(s,c,u){for(var h=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z),g=0;g<s.length;g++){var _=s.get(g);if(!_.crossTileID){var C=this.indexedSymbolInstances[_.key];if(C)for(var S=this.getScaledCoordinates(_,c),I=0,z=C;I<z.length;I+=1){var L=z[I];if(Math.abs(L.coord.x-S.x)<=h&&Math.abs(L.coord.y-S.y)<=h&&!u[L.crossTileID]){u[L.crossTileID]=!0,_.crossTileID=L.crossTileID;break}}}}};var Bl=function(){this.maxCrossTileID=0};Bl.prototype.generate=function(){return++this.maxCrossTileID};var ms=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ms.prototype.handleWrapJump=function(s){var c=Math.round((s-this.lng)/360);if(c!==0)for(var u in this.indexes){var h=this.indexes[u],g={};for(var _ in h){var C=h[_];C.tileID=C.tileID.unwrapTo(C.tileID.wrap+c),g[C.tileID.key]=C}this.indexes[u]=g}this.lng=s},ms.prototype.addBucket=function(s,c,u){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(var h=0;h<c.symbolInstances.length;h++)c.symbolInstances.get(h).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});var g=this.usedCrossTileIDs[s.overscaledZ];for(var _ in this.indexes){var C=this.indexes[_];if(Number(_)>s.overscaledZ)for(var S in C){var I=C[S];I.tileID.isChildOf(s)&&I.findMatches(c.symbolInstances,s,g)}else{var z=C[s.scaledTo(Number(_)).key];z&&z.findMatches(c.symbolInstances,s,g)}}for(var L=0;L<c.symbolInstances.length;L++){var Z=c.symbolInstances.get(L);Z.crossTileID||(Z.crossTileID=u.generate(),g[Z.crossTileID]=!0)}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new Qs(s,c.symbolInstances,c.bucketInstanceId),!0},ms.prototype.removeBucketCrossTileIDs=function(s,c){for(var u in c.indexedSymbolInstances)for(var h=0,g=c.indexedSymbolInstances[u];h<g.length;h+=1){var _=g[h];delete this.usedCrossTileIDs[s][_.crossTileID]}},ms.prototype.removeStaleBuckets=function(s){var c=!1;for(var u in this.indexes){var h=this.indexes[u];for(var g in h)s[h[g].bucketInstanceId]||(this.removeBucketCrossTileIDs(u,h[g]),delete h[g],c=!0)}return c};var tl=function(){this.layerIndexes={},this.crossTileIDs=new Bl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};tl.prototype.addLayer=function(s,c,u){var h=this.layerIndexes[s.id];h===void 0&&(h=this.layerIndexes[s.id]=new ms);var g=!1,_={};h.handleWrapJump(u);for(var C=0,S=c;C<S.length;C+=1){var I=S[C],z=I.getBucket(s);z&&s.id===z.layerIds[0]&&(z.bucketInstanceId||(z.bucketInstanceId=++this.maxBucketInstanceId),h.addBucket(I.tileID,z,this.crossTileIDs)&&(g=!0),_[z.bucketInstanceId]=!0)}return h.removeStaleBuckets(_)&&(g=!0),g},tl.prototype.pruneUnusedLayers=function(s){var c={};for(var u in s.forEach(function(h){c[h]=!0}),this.layerIndexes)c[u]||delete this.layerIndexes[u]};var Fl=function(s,c){return a.emitValidationErrors(s,c&&c.filter(function(u){return u.identifier!=="source.canvas"}))},el=a.pick(rt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),rl=a.pick(rt,["setCenter","setZoom","setBearing","setPitch"]),jp=function(){var s={},c=a.styleSpec.$version;for(var u in a.styleSpec.$root){var h=a.styleSpec.$root[u];if(h.required){var g=null;(g=u==="version"?c:h.type==="array"?[]:{})!=null&&(s[u]=g)}}return s}(),En=function(s){function c(u,h){var g=this;h===void 0&&(h={}),s.call(this),this.map=u,this.dispatcher=new Nt((D||(D=new O),D),this),this.imageManager=new dt,this.imageManager.setEventedParent(this),this.glyphManager=new Dt(u._requestManager,h.localIdeographFontFamily),this.lineAtlas=new te(256,512),this.crossTileSymbolIndex=new tl,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var _=this;this._rtlTextPluginCallback=c.registerForPluginStateChange(function(C){var S={pluginStatus:C.pluginStatus,pluginURL:C.pluginURL};_.dispatcher.broadcast("syncRTLPluginState",S,function(I,z){if(a.triggerPluginCompletionEvent(I),z&&z.every(function(Z){return Z}))for(var L in _.sourceCaches)_.sourceCaches[L].reload()})}),this.on("data",function(C){if(C.dataType==="source"&&C.sourceDataType==="metadata"){var S=g.sourceCaches[C.sourceId];if(S){var I=S.getSource();if(I&&I.vectorLayerIds)for(var z in g._layers){var L=g._layers[z];L.source===I.id&&g._validateLayer(L)}}}})}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.loadURL=function(u,h){var g=this;h===void 0&&(h={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var _=typeof h.validate=="boolean"?h.validate:!a.isGoongURL(u);u=this.map._requestManager.normalizeStyleURL(u,h.accessToken);var C=this.map._requestManager.transformRequest(u,a.ResourceType.Style);this._request=a.getJSON(C,function(S,I){g._request=null,S?g.fire(new a.ErrorEvent(S)):I&&g._load(I,_)})},c.prototype.loadJSON=function(u,h){var g=this;h===void 0&&(h={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){g._request=null,g._load(u,h.validate!==!1)})},c.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(jp,!1)},c.prototype._load=function(u,h){var g=this;if(!h||!Fl(this,a.validateStyle(u))){for(var _ in this._loaded=!0,this.stylesheet=u,u.sources)this.addSource(_,u.sources[_],{validate:!1});u.sprite?this._spriteRequest=function(L,Z,Y){var K,tt,J,ft=a.browser.devicePixelRatio>1?"@2x":"",ht=a.getJSON(Z.transformRequest(Z.normalizeSpriteURL(L,ft,".json"),a.ResourceType.SpriteJSON),function(bt,Mt){ht=null,J||(J=bt,K=Mt,gt())}),_t=a.getImage(Z.transformRequest(Z.normalizeSpriteURL(L,ft,".png"),a.ResourceType.SpriteImage),function(bt,Mt){_t=null,J||(J=bt,tt=Mt,gt())});function gt(){if(J)Y(J);else if(K&&tt){var bt=a.browser.getImageData(tt),Mt={};for(var zt in K){var Ut=K[zt],se=Ut.width,re=Ut.height,fe=Ut.x,ee=Ut.y,Te=Ut.sdf,le=Ut.pixelRatio,Be=Ut.stretchX,je=Ut.stretchY,Re=Ut.content,Fe=new a.RGBAImage({width:se,height:re});a.RGBAImage.copy(bt,Fe,{x:fe,y:ee},{x:0,y:0},{width:se,height:re}),Mt[zt]={data:Fe,pixelRatio:le,sdf:Te,stretchX:Be,stretchY:je,content:Re}}Y(null,Mt)}}return{cancel:function(){ht&&(ht.cancel(),ht=null),_t&&(_t.cancel(),_t=null)}}}(u.sprite,this.map._requestManager,function(L,Z){if(g._spriteRequest=null,L)g.fire(new a.ErrorEvent(L));else if(Z)for(var Y in Z)g.imageManager.addImage(Y,Z[Y]);g.imageManager.setLoaded(!0),g.dispatcher.broadcast("setImages",g.imageManager.listImages()),g.fire(new a.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(u.glyphs);var C=Q(this.stylesheet.layers);this._order=C.map(function(L){return L.id}),this._layers={};for(var S=0,I=C;S<I.length;S+=1){var z=I[S];(z=a.createStyleLayer(z)).setEventedParent(this,{layer:{id:z.id}}),this._layers[z.id]=z}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Jt(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},c.prototype._validateLayer=function(u){var h=this.sourceCaches[u.source];if(h){var g=u.sourceLayer;if(g){var _=h.getSource();(_.type==="geojson"||_.vectorLayerIds&&_.vectorLayerIds.indexOf(g)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+g+'" does not exist on source "'+_.id+'" as specified by style layer "'+u.id+'"')))}}},c.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var u in this.sourceCaches)if(!this.sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()},c.prototype._serializeLayers=function(u){for(var h=[],g=0,_=u;g<_.length;g+=1){var C=_[g],S=this._layers[C];S.type!=="custom"&&h.push(S.serialize())}return h},c.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var u in this.sourceCaches)if(this.sourceCaches[u].hasTransition())return!0;for(var h in this._layers)if(this._layers[h].hasTransition())return!0;return!1},c.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},c.prototype.update=function(u){if(this._loaded){var h=this._changed;if(this._changed){var g=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);for(var C in(g.length||_.length)&&this._updateWorkerLayers(g,_),this._updatedSources){var S=this._updatedSources[C];S==="reload"?this._reloadSource(C):S==="clear"&&this._clearSource(C)}for(var I in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[I].updateTransitions(u);this.light.updateTransitions(u),this._resetUpdates()}for(var z in this.sourceCaches)this.sourceCaches[z].used=!1;for(var L=0,Z=this._order;L<Z.length;L+=1){var Y=Z[L],K=this._layers[Y];K.recalculate(u,this.imageManager.listImages()),!K.isHidden(u.zoom)&&K.source&&(this.sourceCaches[K.source].used=!0)}this.light.recalculate(u),this.z=u.zoom,h&&this.fire(new a.Event("data",{dataType:"style"}))}},c.prototype._updateTilesForChangedImages=function(){var u=Object.keys(this._changedImages);if(u.length){for(var h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}},c.prototype._updateWorkerLayers=function(u,h){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(u),removedIds:h})},c.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},c.prototype.setState=function(u){var h=this;if(this._checkLoaded(),Fl(this,a.validateStyle(u)))return!1;(u=a.clone$1(u)).layers=Q(u.layers);var g=jt(this.serialize(),u).filter(function(C){return!(C.command in rl)});if(g.length===0)return!1;var _=g.filter(function(C){return!(C.command in el)});if(_.length>0)throw new Error("Unimplemented: "+_.map(function(C){return C.command}).join(", ")+".");return g.forEach(function(C){C.command!=="setTransition"&&h[C.command].apply(h,C.args)}),this.stylesheet=u,!0},c.prototype.addImage=function(u,h){if(this.getImage(u))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(u,h),this._changedImages[u]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},c.prototype.updateImage=function(u,h){this.imageManager.updateImage(u,h)},c.prototype.getImage=function(u){return this.imageManager.getImage(u)},c.prototype.removeImage=function(u){if(!this.getImage(u))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(u),this._changedImages[u]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},c.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},c.prototype.addSource=function(u,h,g){var _=this;if(g===void 0&&(g={}),this._checkLoaded(),this.sourceCaches[u]!==void 0)throw new Error("There is already a source with this ID");if(!h.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(h).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(h.type)>=0)||!this._validate(a.validateStyle.source,"sources."+u,h,null,g)){this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);var C=this.sourceCaches[u]=new qi(u,h,this.dispatcher);C.style=this,C.setEventedParent(this,function(){return{isSourceLoaded:_.loaded(),source:C.serialize(),sourceId:u}}),C.onAdd(this.map),this._changed=!0}},c.prototype.removeSource=function(u){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error("There is no source with this ID");for(var h in this._layers)if(this._layers[h].source===u)return this.fire(new a.ErrorEvent(new Error('Source "'+u+'" cannot be removed while layer "'+h+'" is using it.')));var g=this.sourceCaches[u];delete this.sourceCaches[u],delete this._updatedSources[u],g.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),g.setEventedParent(null),g.clearTiles(),g.onRemove&&g.onRemove(this.map),this._changed=!0},c.prototype.setGeoJSONSourceData=function(u,h){this._checkLoaded(),this.sourceCaches[u].getSource().setData(h),this._changed=!0},c.prototype.getSource=function(u){return this.sourceCaches[u]&&this.sourceCaches[u].getSource()},c.prototype.addLayer=function(u,h,g){g===void 0&&(g={}),this._checkLoaded();var _=u.id;if(this.getLayer(_))this.fire(new a.ErrorEvent(new Error('Layer with id "'+_+'" already exists on this map')));else{var C;if(u.type==="custom"){if(Fl(this,a.validateCustomStyleLayer(u)))return;C=a.createStyleLayer(u)}else{if(typeof u.source=="object"&&(this.addSource(_,u.source),u=a.clone$1(u),u=a.extend(u,{source:_})),this._validate(a.validateStyle.layer,"layers."+_,u,{arrayIndex:-1},g))return;C=a.createStyleLayer(u),this._validateLayer(C),C.setEventedParent(this,{layer:{id:_}})}var S=h?this._order.indexOf(h):this._order.length;if(h&&S===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+h+'" does not exist on this map.')));else{if(this._order.splice(S,0,_),this._layerOrderChanged=!0,this._layers[_]=C,this._removedLayers[_]&&C.source&&C.type!=="custom"){var I=this._removedLayers[_];delete this._removedLayers[_],I.type!==C.type?this._updatedSources[C.source]="clear":(this._updatedSources[C.source]="reload",this.sourceCaches[C.source].pause())}this._updateLayer(C),C.onAdd&&C.onAdd(this.map)}}},c.prototype.moveLayer=function(u,h){if(this._checkLoaded(),this._changed=!0,this._layers[u]){if(u!==h){var g=this._order.indexOf(u);this._order.splice(g,1);var _=h?this._order.indexOf(h):this._order.length;h&&_===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+h+'" does not exist on this map.'))):(this._order.splice(_,0,u),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be moved.")))},c.prototype.removeLayer=function(u){this._checkLoaded();var h=this._layers[u];if(h){h.setEventedParent(null);var g=this._order.indexOf(u);this._order.splice(g,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=h,delete this._layers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],h.onRemove&&h.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be removed.")))},c.prototype.getLayer=function(u){return this._layers[u]},c.prototype.setLayerZoomRange=function(u,h,g){this._checkLoaded();var _=this.getLayer(u);_?_.minzoom===h&&_.maxzoom===g||(h!=null&&(_.minzoom=h),g!=null&&(_.maxzoom=g),this._updateLayer(_)):this.fire(new a.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot have zoom extent.")))},c.prototype.setFilter=function(u,h,g){g===void 0&&(g={}),this._checkLoaded();var _=this.getLayer(u);if(_){if(!a.deepEqual(_.filter,h))return h==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(a.validateStyle.filter,"layers."+_.id+".filter",h,null,g)||(_.filter=a.clone$1(h),this._updateLayer(_)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be filtered.")))},c.prototype.getFilter=function(u){return a.clone$1(this.getLayer(u).filter)},c.prototype.setLayoutProperty=function(u,h,g,_){_===void 0&&(_={}),this._checkLoaded();var C=this.getLayer(u);C?a.deepEqual(C.getLayoutProperty(h),g)||(C.setLayoutProperty(h,g,_),this._updateLayer(C)):this.fire(new a.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be styled.")))},c.prototype.getLayoutProperty=function(u,h){var g=this.getLayer(u);if(g)return g.getLayoutProperty(h);this.fire(new a.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style.")))},c.prototype.setPaintProperty=function(u,h,g,_){_===void 0&&(_={}),this._checkLoaded();var C=this.getLayer(u);C?a.deepEqual(C.getPaintProperty(h),g)||(C.setPaintProperty(h,g,_)&&this._updateLayer(C),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+u+"' does not exist in the map's style and cannot be styled.")))},c.prototype.getPaintProperty=function(u,h){return this.getLayer(u).getPaintProperty(h)},c.prototype.setFeatureState=function(u,h){this._checkLoaded();var g=u.source,_=u.sourceLayer,C=this.sourceCaches[g];if(C!==void 0){var S=C.getSource().type;S==="geojson"&&_?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):S!=="vector"||_?(u.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),C.setFeatureState(_,u.id,h)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+g+"' does not exist in the map's style.")))},c.prototype.removeFeatureState=function(u,h){this._checkLoaded();var g=u.source,_=this.sourceCaches[g];if(_!==void 0){var C=_.getSource().type,S=C==="vector"?u.sourceLayer:void 0;C!=="vector"||S?h&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):_.removeFeatureState(S,u.id,h):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+g+"' does not exist in the map's style.")))},c.prototype.getFeatureState=function(u){this._checkLoaded();var h=u.source,g=u.sourceLayer,_=this.sourceCaches[h];if(_!==void 0){if(_.getSource().type!=="vector"||g)return u.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),_.getFeatureState(g,u.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+h+"' does not exist in the map's style.")))},c.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},c.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(u){return u.serialize()}),layers:this._serializeLayers(this._order)},function(u){return u!==void 0})},c.prototype._updateLayer=function(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.sourceCaches[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.sourceCaches[u.source].pause()),this._changed=!0},c.prototype._flattenAndSortRenderedFeatures=function(u){for(var h=this,g=function(fe){return h._layers[fe].type==="fill-extrusion"},_={},C=[],S=this._order.length-1;S>=0;S--){var I=this._order[S];if(g(I)){_[I]=S;for(var z=0,L=u;z<L.length;z+=1){var Z=L[z][I];if(Z)for(var Y=0,K=Z;Y<K.length;Y+=1){var tt=K[Y];C.push(tt)}}}}C.sort(function(fe,ee){return ee.intersectionZ-fe.intersectionZ});for(var J=[],ft=this._order.length-1;ft>=0;ft--){var ht=this._order[ft];if(g(ht))for(var _t=C.length-1;_t>=0;_t--){var gt=C[_t].feature;if(_[gt.layer.id]<ft)break;J.push(gt),C.pop()}else for(var bt=0,Mt=u;bt<Mt.length;bt+=1){var zt=Mt[bt][ht];if(zt)for(var Ut=0,se=zt;Ut<se.length;Ut+=1){var re=se[Ut];J.push(re.feature)}}}return J},c.prototype.queryRenderedFeatures=function(u,h,g){h&&h.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",h.filter,null,h);var _={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var C=0,S=h.layers;C<S.length;C+=1){var I=S[C],z=this._layers[I];if(!z)return this.fire(new a.ErrorEvent(new Error("The layer '"+I+"' does not exist in the map's style and cannot be queried for features."))),[];_[z.source]=!0}}var L=[];for(var Z in this.sourceCaches)h.layers&&!_[Z]||L.push(Ee(this.sourceCaches[Z],this._layers,u,h,g));return this.placement&&L.push(function(Y,K,tt,J,ft,ht){for(var _t={},gt=ft.queryRenderedSymbols(tt),bt=[],Mt=0,zt=Object.keys(gt).map(Number);Mt<zt.length;Mt+=1){var Ut=zt[Mt];bt.push(ht[Ut])}bt.sort(lr);for(var se=function(){var le=fe[re],Be=le.featureIndex.lookupSymbolFeatures(gt[le.bucketInstanceId],le.bucketIndex,le.sourceLayerIndex,J.filter,J.layers,Y);for(var je in Be){var Re=_t[je]=_t[je]||[],Fe=Be[je];Fe.sort(function(wn,br){var He=le.featureSortOrder;if(He){var Vn=He.indexOf(wn.featureIndex);return He.indexOf(br.featureIndex)-Vn}return br.featureIndex-wn.featureIndex});for(var kr=0,Ye=Fe;kr<Ye.length;kr+=1){var Ke=Ye[kr];Re.push(Ke)}}},re=0,fe=bt;re<fe.length;re+=1)se();var ee=function(le){_t[le].forEach(function(Be){var je=Be.feature,Re=Y[le],Fe=K[Re.source].getFeatureState(je.layer["source-layer"],je.id);je.source=je.layer.source,je.layer["source-layer"]&&(je.sourceLayer=je.layer["source-layer"]),je.state=Fe})};for(var Te in _t)ee(Te);return _t}(this._layers,this.sourceCaches,u,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(L)},c.prototype.querySourceFeatures=function(u,h){h&&h.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",h.filter,null,h);var g=this.sourceCaches[u];return g?function(_,C){for(var S=_.getRenderableIds().map(function(K){return _.getTileByID(K)}),I=[],z={},L=0;L<S.length;L++){var Z=S[L],Y=Z.tileID.canonical.key;z[Y]||(z[Y]=!0,Z.querySourceFeatures(I,C))}return I}(g,h):[]},c.prototype.addSourceType=function(u,h,g){return c.getSourceType(u)?g(new Error('A source type called "'+u+'" already exists.')):(c.setSourceType(u,h),h.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:u,url:h.workerSourceURL},g):g(null,null))},c.prototype.getLight=function(){return this.light.getLight()},c.prototype.setLight=function(u,h){h===void 0&&(h={}),this._checkLoaded();var g=this.light.getLight(),_=!1;for(var C in u)if(!a.deepEqual(u[C],g[C])){_=!0;break}if(_){var S={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,h),this.light.updateTransitions(S)}},c.prototype._validate=function(u,h,g,_,C){return C===void 0&&(C={}),(!C||C.validate!==!1)&&Fl(this,u.call(a.validateStyle,a.extend({key:h,style:this.serialize(),value:g,styleSpec:a.styleSpec},_)))},c.prototype._remove=function(){for(var u in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[u].setEventedParent(null);for(var h in this.sourceCaches)this.sourceCaches[h].clearTiles(),this.sourceCaches[h].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},c.prototype._clearSource=function(u){this.sourceCaches[u].clearTiles()},c.prototype._reloadSource=function(u){this.sourceCaches[u].resume(),this.sourceCaches[u].reload()},c.prototype._updateSources=function(u){for(var h in this.sourceCaches)this.sourceCaches[h].update(u)},c.prototype._generateCollisionBoxes=function(){for(var u in this.sourceCaches)this._reloadSource(u)},c.prototype._updatePlacement=function(u,h,g,_,C){C===void 0&&(C=!1);for(var S=!1,I=!1,z={},L=0,Z=this._order;L<Z.length;L+=1){var Y=Z[L],K=this._layers[Y];if(K.type==="symbol"){if(!z[K.source]){var tt=this.sourceCaches[K.source];z[K.source]=tt.getRenderableIds(!0).map(function(bt){return tt.getTileByID(bt)}).sort(function(bt,Mt){return Mt.tileID.overscaledZ-bt.tileID.overscaledZ||(bt.tileID.isLessThan(Mt.tileID)?-1:1)})}var J=this.crossTileSymbolIndex.addLayer(K,z[K.source],u.center.lng);S=S||J}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((C=C||this._layerOrderChanged||g===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),u.zoom))&&(this.pauseablePlacement=new ds(u,this._order,C,h,g,_,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,z),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),I=!0),S&&this.pauseablePlacement.placement.setStale()),I||S)for(var ft=0,ht=this._order;ft<ht.length;ft+=1){var _t=ht[ft],gt=this._layers[_t];gt.type==="symbol"&&this.placement.updateLayerOpacities(gt,z[gt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},c.prototype._releaseSymbolFadeTiles=function(){for(var u in this.sourceCaches)this.sourceCaches[u].releaseSymbolFadeTiles()},c.prototype.getImages=function(u,h,g){this.imageManager.getImages(h.icons,g),this._updateTilesForChangedImages();var _=this.sourceCaches[h.source];_&&_.setDependencies(h.tileID.key,h.type,h.icons)},c.prototype.getGlyphs=function(u,h,g){this.glyphManager.getGlyphs(h.stacks,g)},c.prototype.getResource=function(u,h,g){return a.makeRequest(h,g)},c}(a.Evented);En.getSourceType=function(s){return vr[s]},En.setSourceType=function(s,c){vr[s]=c},En.registerForPluginStateChange=a.registerForPluginStateChange;var ys=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Oo=Qr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),pa=Qr(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),La=Qr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ba=Qr(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Fa=Qr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Na=Qr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),$p=Qr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Zp=Qr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),gs=Qr("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),Ad=Qr("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),kd=Qr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Od=Qr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Rd=Qr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),zd=Qr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Dd=Qr(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Ua=Qr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Va=Qr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),vs=Qr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),qp=Qr(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Wp=Qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),ac=Qr(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}`),ja=Qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),sc=Qr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),_s=Qr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),bs=Qr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),Hp=Qr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Qr(s,c){var u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,h={};return{fragmentSource:s=s.replace(u,function(g,_,C,S,I){return h[I]=!0,_==="define"?`
#ifndef HAS_UNIFORM_u_`+I+`
varying `+C+" "+S+" "+I+`;
#else
uniform `+C+" "+S+" u_"+I+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+I+`
    `+C+" "+S+" "+I+" = u_"+I+`;
#endif
`}),vertexSource:c=c.replace(u,function(g,_,C,S,I){var z=S==="float"?"vec2":"vec4",L=I.match(/color/)?"color":z;return h[I]?_==="define"?`
#ifndef HAS_UNIFORM_u_`+I+`
uniform lowp float u_`+I+`_t;
attribute `+C+" "+z+" a_"+I+`;
varying `+C+" "+S+" "+I+`;
#else
uniform `+C+" "+S+" u_"+I+`;
#endif
`:L==="vec4"?`
#ifndef HAS_UNIFORM_u_`+I+`
    `+I+" = a_"+I+`;
#else
    `+C+" "+S+" "+I+" = u_"+I+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+I+`
    `+I+" = unpack_mix_"+L+"(a_"+I+", u_"+I+`_t);
#else
    `+C+" "+S+" "+I+" = u_"+I+`;
#endif
`:_==="define"?`
#ifndef HAS_UNIFORM_u_`+I+`
uniform lowp float u_`+I+`_t;
attribute `+C+" "+z+" a_"+I+`;
#else
uniform `+C+" "+S+" u_"+I+`;
#endif
`:L==="vec4"?`
#ifndef HAS_UNIFORM_u_`+I+`
    `+C+" "+S+" "+I+" = a_"+I+`;
#else
    `+C+" "+S+" "+I+" = u_"+I+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+I+`
    `+C+" "+S+" "+I+" = unpack_mix_"+L+"(a_"+I+", u_"+I+`_t);
#else
    `+C+" "+S+" "+I+" = u_"+I+`;
#endif
`})}}var tn=Object.freeze({__proto__:null,prelude:Oo,background:pa,backgroundPattern:La,circle:Ba,clippingMask:Fa,heatmap:Na,heatmapTexture:$p,collisionBox:Zp,collisionCircle:gs,debug:Ad,fill:kd,fillOutline:Od,fillOutlinePattern:Rd,fillPattern:zd,fillExtrusion:Dd,fillExtrusionPattern:Ua,hillshadePrepare:Va,hillshade:vs,line:qp,lineGradient:Wp,linePattern:ac,lineSDF:ja,raster:sc,symbolIcon:_s,symbolSDF:bs,symbolTextAndIcon:Hp}),$a=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};$a.prototype.bind=function(s,c,u,h,g,_,C,S){this.context=s;for(var I=this.boundPaintVertexBuffers.length!==h.length,z=0;!I&&z<h.length;z++)this.boundPaintVertexBuffers[z]!==h[z]&&(I=!0);var L=!this.vao||this.boundProgram!==c||this.boundLayoutVertexBuffer!==u||I||this.boundIndexBuffer!==g||this.boundVertexOffset!==_||this.boundDynamicVertexBuffer!==C||this.boundDynamicVertexBuffer2!==S;!s.extVertexArrayObject||L?this.freshBind(c,u,h,g,_,C,S):(s.bindVertexArrayOES.set(this.vao),C&&C.bind(),g&&g.dynamicDraw&&g.bind(),S&&S.bind())},$a.prototype.freshBind=function(s,c,u,h,g,_,C){var S,I=s.numAttributes,z=this.context,L=z.gl;if(z.extVertexArrayObject)this.vao&&this.destroy(),this.vao=z.extVertexArrayObject.createVertexArrayOES(),z.bindVertexArrayOES.set(this.vao),S=0,this.boundProgram=s,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=u,this.boundIndexBuffer=h,this.boundVertexOffset=g,this.boundDynamicVertexBuffer=_,this.boundDynamicVertexBuffer2=C;else{S=z.currentNumAttributes||0;for(var Z=I;Z<S;Z++)L.disableVertexAttribArray(Z)}c.enableAttributes(L,s);for(var Y=0,K=u;Y<K.length;Y+=1)K[Y].enableAttributes(L,s);_&&_.enableAttributes(L,s),C&&C.enableAttributes(L,s),c.bind(),c.setVertexAttribPointers(L,s,g);for(var tt=0,J=u;tt<J.length;tt+=1){var ft=J[tt];ft.bind(),ft.setVertexAttribPointers(L,s,g)}_&&(_.bind(),_.setVertexAttribPointers(L,s,g)),h&&h.bind(),C&&(C.bind(),C.setVertexAttribPointers(L,s,g)),z.currentNumAttributes=I},$a.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Gp=function(s,c,u,h,g){var _=s.gl;this.program=_.createProgram();var C=u.defines();g&&C.push("#define OVERDRAW_INSPECTOR;");var S=C.concat(Oo.fragmentSource,c.fragmentSource).join(`
`),I=C.concat(Oo.vertexSource,c.vertexSource).join(`
`),z=_.createShader(_.FRAGMENT_SHADER);if(_.isContextLost())this.failedToCreate=!0;else{_.shaderSource(z,S),_.compileShader(z),_.attachShader(this.program,z);var L=_.createShader(_.VERTEX_SHADER);if(_.isContextLost())this.failedToCreate=!0;else{_.shaderSource(L,I),_.compileShader(L),_.attachShader(this.program,L);for(var Z=u.layoutAttributes||[],Y=0;Y<Z.length;Y++)_.bindAttribLocation(this.program,Y,Z[Y].name);_.linkProgram(this.program),this.numAttributes=_.getProgramParameter(this.program,_.ACTIVE_ATTRIBUTES),this.attributes={};for(var K={},tt=0;tt<this.numAttributes;tt++){var J=_.getActiveAttrib(this.program,tt);J&&(this.attributes[J.name]=_.getAttribLocation(this.program,J.name))}for(var ft=_.getProgramParameter(this.program,_.ACTIVE_UNIFORMS),ht=0;ht<ft;ht++){var _t=_.getActiveUniform(this.program,ht);_t&&(K[_t.name]=_.getUniformLocation(this.program,_t.name))}this.fixedUniforms=h(s,K),this.binderUniforms=u.getUniforms(s,K)}}};function xs(s,c,u){var h=1/We(u,1,c.transform.tileZoom),g=Math.pow(2,u.tileID.overscaledZ),_=u.tileSize*Math.pow(2,c.transform.tileZoom)/g,C=_*(u.tileID.canonical.x+u.tileID.wrap*g),S=_*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_scale:[a.browser.devicePixelRatio,h,s.fromScale,s.toScale],u_fade:s.t,u_pixel_coord_upper:[C>>16,S>>16],u_pixel_coord_lower:[65535&C,65535&S]}}Gp.prototype.draw=function(s,c,u,h,g,_,C,S,I,z,L,Z,Y,K,tt,J){var ft,ht=s.gl;if(!this.failedToCreate){for(var _t in s.program.set(this.program),s.setDepthMode(u),s.setStencilMode(h),s.setColorMode(g),s.setCullFace(_),this.fixedUniforms)this.fixedUniforms[_t].set(C[_t]);K&&K.setUniforms(s,this.binderUniforms,Z,{zoom:Y});for(var gt=(ft={},ft[ht.LINES]=2,ft[ht.TRIANGLES]=3,ft[ht.LINE_STRIP]=1,ft)[c],bt=0,Mt=L.get();bt<Mt.length;bt+=1){var zt=Mt[bt],Ut=zt.vaos||(zt.vaos={});(Ut[S]||(Ut[S]=new $a)).bind(s,this,I,K?K.getPaintVertexBuffers():[],z,zt.vertexOffset,tt,J),ht.drawElements(c,zt.primitiveLength*gt,ht.UNSIGNED_SHORT,zt.primitiveOffset*gt*2)}}};var Xp=function(s,c,u,h){var g=c.style.light,_=g.properties.get("position"),C=[_.x,_.y,_.z],S=a.create$1();g.properties.get("anchor")==="viewport"&&a.fromRotation(S,-c.transform.angle),a.transformMat3(C,C,S);var I=g.properties.get("color");return{u_matrix:s,u_lightpos:C,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[I.r,I.g,I.b],u_vertical_gradient:+u,u_opacity:h}},Ld=function(s,c,u,h,g,_,C){return a.extend(Xp(s,c,u,h),xs(_,c,C),{u_height_factor:-Math.pow(2,g.overscaledZ)/C.tileSize/8})},lc=function(s){return{u_matrix:s}},Kp=function(s,c,u,h){return a.extend(lc(s),xs(u,c,h))},nl=function(s,c){return{u_matrix:s,u_world:c}},Nl=function(s,c,u,h,g){return a.extend(Kp(s,c,u,h),{u_world:g})},Ul=function(s,c,u,h){var g,_,C=s.transform;if(h.paint.get("circle-pitch-alignment")==="map"){var S=We(u,1,C.zoom);g=!0,_=[S,S]}else g=!1,_=C.pixelsToGLUnits;return{u_camera_to_center_distance:C.cameraToCenterDistance,u_scale_with_map:+(h.paint.get("circle-pitch-scale")==="map"),u_matrix:s.translatePosMatrix(c.posMatrix,u,h.paint.get("circle-translate"),h.paint.get("circle-translate-anchor")),u_pitch_with_map:+g,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:_}},ws=function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_camera_to_center_distance:new a.Uniform1f(s,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(s,c.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(s,c.u_extrude_scale),u_overscale_factor:new a.Uniform1f(s,c.u_overscale_factor)}},Cs=function(s,c,u){var h=We(u,1,c.zoom),g=Math.pow(2,c.zoom-u.tileID.overscaledZ),_=u.tileID.overscaleFactor();return{u_matrix:s,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:h,u_extrude_scale:[c.pixelsToGLUnits[0]/(h*g),c.pixelsToGLUnits[1]/(h*g)],u_overscale_factor:_}},Vl=function(s,c){return{u_matrix:s,u_color:c}},Ss=function(s){return{u_matrix:s}},fo=function(s,c,u,h){return{u_matrix:s,u_extrude_scale:We(c,1,u),u_intensity:h}};function Yp(s,c){var u=Math.pow(2,c.canonical.z),h=c.canonical.y;return[new a.MercatorCoordinate(0,h/u).toLngLat().lat,new a.MercatorCoordinate(0,(h+1)/u).toLngLat().lat]}var jl=function(s,c,u){var h=s.transform;return{u_matrix:Qp(s,c,u),u_ratio:1/We(c,1,h.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/h.pixelsToGLUnits[0],1/h.pixelsToGLUnits[1]]}},Jp=function(s,c,u){return a.extend(jl(s,c,u),{u_image:0})},Es=function(s,c,u,h){var g=s.transform,_=Zl(c,g);return{u_matrix:Qp(s,c,u),u_texsize:c.imageAtlasTexture.size,u_ratio:1/We(c,1,g.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[a.browser.devicePixelRatio,_,h.fromScale,h.toScale],u_fade:h.t,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},$l=function(s,c,u,h,g){var _=s.transform,C=s.lineAtlas,S=Zl(c,_),I=u.layout.get("line-cap")==="round",z=C.getDash(h.from,I),L=C.getDash(h.to,I),Z=z.width*g.fromScale,Y=L.width*g.toScale;return a.extend(jl(s,c,u),{u_patternscale_a:[S/Z,-z.height/2],u_patternscale_b:[S/Y,-L.height/2],u_sdfgamma:C.width/(256*Math.min(Z,Y)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:z.y,u_tex_y_b:L.y,u_mix:g.t})};function Zl(s,c){return 1/We(s,1,c.tileZoom)}function Qp(s,c,u){return s.translatePosMatrix(c.tileID.posMatrix,c,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}var ql=function(s,c,u,h,g){return{u_matrix:s,u_tl_parent:c,u_scale_parent:u,u_buffer_scale:1,u_fade_t:h.mix,u_opacity:h.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(C=g.paint.get("raster-saturation"),C>0?1-1/(1.001-C):-C),u_contrast_factor:(_=g.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:Bd(g.paint.get("raster-hue-rotate"))};var _,C};function Bd(s){s*=Math.PI/180;var c=Math.sin(s),u=Math.cos(s);return[(2*u+1)/3,(-Math.sqrt(3)*c-u+1)/3,(Math.sqrt(3)*c-u+1)/3]}var il=function(s,c,u,h,g,_,C,S,I,z){var L=g.transform;return{u_is_size_zoom_constant:+(s==="constant"||s==="source"),u_is_size_feature_constant:+(s==="constant"||s==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:L.cameraToCenterDistance,u_pitch:L.pitch/360*2*Math.PI,u_rotate_symbol:+u,u_aspect_ratio:L.width/L.height,u_fade_change:g.options.fadeDuration?g.symbolFadeChange:1,u_matrix:_,u_label_plane_matrix:C,u_coord_matrix:S,u_is_text:+I,u_pitch_with_map:+h,u_texsize:z,u_texture:0}},Wl=function(s,c,u,h,g,_,C,S,I,z,L){var Z=g.transform;return a.extend(il(s,c,u,h,g,_,C,S,I,z),{u_gamma_scale:h?Math.cos(Z._pitch)*Z.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+L})},th=function(s,c,u,h,g,_,C,S,I,z){return a.extend(Wl(s,c,u,h,g,_,C,S,!0,I,!0),{u_texsize_icon:z,u_texture_icon:1})},eh=function(s,c,u){return{u_matrix:s,u_opacity:c,u_color:u}},Hl=function(s,c,u,h,g,_){return a.extend(function(C,S,I,z){var L=I.imageManager.getPattern(C.from.toString()),Z=I.imageManager.getPattern(C.to.toString()),Y=I.imageManager.getPixelSize(),K=Y.width,tt=Y.height,J=Math.pow(2,z.tileID.overscaledZ),ft=z.tileSize*Math.pow(2,I.transform.tileZoom)/J,ht=ft*(z.tileID.canonical.x+z.tileID.wrap*J),_t=ft*z.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:L.tl,u_pattern_br_a:L.br,u_pattern_tl_b:Z.tl,u_pattern_br_b:Z.br,u_texsize:[K,tt],u_mix:S.t,u_pattern_size_a:L.displaySize,u_pattern_size_b:Z.displaySize,u_scale_a:S.fromScale,u_scale_b:S.toScale,u_tile_units_to_pixels:1/We(z,1,I.transform.tileZoom),u_pixel_coord_upper:[ht>>16,_t>>16],u_pixel_coord_lower:[65535&ht,65535&_t]}}(h,_,u,g),{u_matrix:s,u_opacity:c})},uc={fillExtrusion:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_lightpos:new a.Uniform3f(s,c.u_lightpos),u_lightintensity:new a.Uniform1f(s,c.u_lightintensity),u_lightcolor:new a.Uniform3f(s,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(s,c.u_vertical_gradient),u_opacity:new a.Uniform1f(s,c.u_opacity)}},fillExtrusionPattern:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_lightpos:new a.Uniform3f(s,c.u_lightpos),u_lightintensity:new a.Uniform1f(s,c.u_lightintensity),u_lightcolor:new a.Uniform3f(s,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(s,c.u_vertical_gradient),u_height_factor:new a.Uniform1f(s,c.u_height_factor),u_image:new a.Uniform1i(s,c.u_image),u_texsize:new a.Uniform2f(s,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(s,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(s,c.u_pixel_coord_lower),u_scale:new a.Uniform4f(s,c.u_scale),u_fade:new a.Uniform1f(s,c.u_fade),u_opacity:new a.Uniform1f(s,c.u_opacity)}},fill:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix)}},fillPattern:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_image:new a.Uniform1i(s,c.u_image),u_texsize:new a.Uniform2f(s,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(s,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(s,c.u_pixel_coord_lower),u_scale:new a.Uniform4f(s,c.u_scale),u_fade:new a.Uniform1f(s,c.u_fade)}},fillOutline:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_world:new a.Uniform2f(s,c.u_world)}},fillOutlinePattern:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_world:new a.Uniform2f(s,c.u_world),u_image:new a.Uniform1i(s,c.u_image),u_texsize:new a.Uniform2f(s,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(s,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(s,c.u_pixel_coord_lower),u_scale:new a.Uniform4f(s,c.u_scale),u_fade:new a.Uniform1f(s,c.u_fade)}},circle:function(s,c){return{u_camera_to_center_distance:new a.Uniform1f(s,c.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(s,c.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(s,c.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(s,c.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(s,c.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(s,c.u_matrix)}},collisionBox:ws,collisionCircle:ws,debug:function(s,c){return{u_color:new a.UniformColor(s,c.u_color),u_matrix:new a.UniformMatrix4f(s,c.u_matrix)}},clippingMask:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix)}},heatmap:function(s,c){return{u_extrude_scale:new a.Uniform1f(s,c.u_extrude_scale),u_intensity:new a.Uniform1f(s,c.u_intensity),u_matrix:new a.UniformMatrix4f(s,c.u_matrix)}},heatmapTexture:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_world:new a.Uniform2f(s,c.u_world),u_image:new a.Uniform1i(s,c.u_image),u_color_ramp:new a.Uniform1i(s,c.u_color_ramp),u_opacity:new a.Uniform1f(s,c.u_opacity)}},hillshade:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_image:new a.Uniform1i(s,c.u_image),u_latrange:new a.Uniform2f(s,c.u_latrange),u_light:new a.Uniform2f(s,c.u_light),u_shadow:new a.UniformColor(s,c.u_shadow),u_highlight:new a.UniformColor(s,c.u_highlight),u_accent:new a.UniformColor(s,c.u_accent)}},hillshadePrepare:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_image:new a.Uniform1i(s,c.u_image),u_dimension:new a.Uniform2f(s,c.u_dimension),u_zoom:new a.Uniform1f(s,c.u_zoom),u_maxzoom:new a.Uniform1f(s,c.u_maxzoom),u_unpack:new a.Uniform4f(s,c.u_unpack)}},line:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_ratio:new a.Uniform1f(s,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(s,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(s,c.u_units_to_pixels)}},lineGradient:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_ratio:new a.Uniform1f(s,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(s,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(s,c.u_units_to_pixels),u_image:new a.Uniform1i(s,c.u_image)}},linePattern:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_texsize:new a.Uniform2f(s,c.u_texsize),u_ratio:new a.Uniform1f(s,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(s,c.u_device_pixel_ratio),u_image:new a.Uniform1i(s,c.u_image),u_units_to_pixels:new a.Uniform2f(s,c.u_units_to_pixels),u_scale:new a.Uniform4f(s,c.u_scale),u_fade:new a.Uniform1f(s,c.u_fade)}},lineSDF:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_ratio:new a.Uniform1f(s,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(s,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(s,c.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(s,c.u_patternscale_a),u_patternscale_b:new a.Uniform2f(s,c.u_patternscale_b),u_sdfgamma:new a.Uniform1f(s,c.u_sdfgamma),u_image:new a.Uniform1i(s,c.u_image),u_tex_y_a:new a.Uniform1f(s,c.u_tex_y_a),u_tex_y_b:new a.Uniform1f(s,c.u_tex_y_b),u_mix:new a.Uniform1f(s,c.u_mix)}},raster:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_tl_parent:new a.Uniform2f(s,c.u_tl_parent),u_scale_parent:new a.Uniform1f(s,c.u_scale_parent),u_buffer_scale:new a.Uniform1f(s,c.u_buffer_scale),u_fade_t:new a.Uniform1f(s,c.u_fade_t),u_opacity:new a.Uniform1f(s,c.u_opacity),u_image0:new a.Uniform1i(s,c.u_image0),u_image1:new a.Uniform1i(s,c.u_image1),u_brightness_low:new a.Uniform1f(s,c.u_brightness_low),u_brightness_high:new a.Uniform1f(s,c.u_brightness_high),u_saturation_factor:new a.Uniform1f(s,c.u_saturation_factor),u_contrast_factor:new a.Uniform1f(s,c.u_contrast_factor),u_spin_weights:new a.Uniform3f(s,c.u_spin_weights)}},symbolIcon:function(s,c){return{u_is_size_zoom_constant:new a.Uniform1i(s,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(s,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(s,c.u_size_t),u_size:new a.Uniform1f(s,c.u_size),u_camera_to_center_distance:new a.Uniform1f(s,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(s,c.u_pitch),u_rotate_symbol:new a.Uniform1i(s,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(s,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(s,c.u_fade_change),u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(s,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(s,c.u_coord_matrix),u_is_text:new a.Uniform1f(s,c.u_is_text),u_pitch_with_map:new a.Uniform1i(s,c.u_pitch_with_map),u_texsize:new a.Uniform2f(s,c.u_texsize),u_texture:new a.Uniform1i(s,c.u_texture)}},symbolSDF:function(s,c){return{u_is_size_zoom_constant:new a.Uniform1i(s,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(s,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(s,c.u_size_t),u_size:new a.Uniform1f(s,c.u_size),u_camera_to_center_distance:new a.Uniform1f(s,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(s,c.u_pitch),u_rotate_symbol:new a.Uniform1i(s,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(s,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(s,c.u_fade_change),u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(s,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(s,c.u_coord_matrix),u_is_text:new a.Uniform1f(s,c.u_is_text),u_pitch_with_map:new a.Uniform1i(s,c.u_pitch_with_map),u_texsize:new a.Uniform2f(s,c.u_texsize),u_texture:new a.Uniform1i(s,c.u_texture),u_gamma_scale:new a.Uniform1f(s,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(s,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1f(s,c.u_is_halo)}},symbolTextAndIcon:function(s,c){return{u_is_size_zoom_constant:new a.Uniform1i(s,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(s,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(s,c.u_size_t),u_size:new a.Uniform1f(s,c.u_size),u_camera_to_center_distance:new a.Uniform1f(s,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(s,c.u_pitch),u_rotate_symbol:new a.Uniform1i(s,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(s,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(s,c.u_fade_change),u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(s,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(s,c.u_coord_matrix),u_is_text:new a.Uniform1f(s,c.u_is_text),u_pitch_with_map:new a.Uniform1i(s,c.u_pitch_with_map),u_texsize:new a.Uniform2f(s,c.u_texsize),u_texsize_icon:new a.Uniform2f(s,c.u_texsize_icon),u_texture:new a.Uniform1i(s,c.u_texture),u_texture_icon:new a.Uniform1i(s,c.u_texture_icon),u_gamma_scale:new a.Uniform1f(s,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(s,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1f(s,c.u_is_halo)}},background:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_opacity:new a.Uniform1f(s,c.u_opacity),u_color:new a.UniformColor(s,c.u_color)}},backgroundPattern:function(s,c){return{u_matrix:new a.UniformMatrix4f(s,c.u_matrix),u_opacity:new a.Uniform1f(s,c.u_opacity),u_image:new a.Uniform1i(s,c.u_image),u_pattern_tl_a:new a.Uniform2f(s,c.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(s,c.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(s,c.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(s,c.u_pattern_br_b),u_texsize:new a.Uniform2f(s,c.u_texsize),u_mix:new a.Uniform1f(s,c.u_mix),u_pattern_size_a:new a.Uniform2f(s,c.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(s,c.u_pattern_size_b),u_scale_a:new a.Uniform1f(s,c.u_scale_a),u_scale_b:new a.Uniform1f(s,c.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(s,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(s,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(s,c.u_tile_units_to_pixels)}}};function cc(s,c,u,h,g,_,C,S){for(var I=s.context,z=I.gl,L=g?s.useProgram("collisionCircle"):s.useProgram("collisionBox"),Z=0;Z<h.length;Z++){var Y=h[Z],K=c.getTile(Y),tt=K.getBucket(u);if(tt){var J=g?S?tt.textCollisionCircle:tt.iconCollisionCircle:S?tt.textCollisionBox:tt.iconCollisionBox;if(J){var ft=Y.posMatrix;_[0]===0&&_[1]===0||(ft=s.translatePosMatrix(Y.posMatrix,K,_,C)),L.draw(I,g?z.TRIANGLES:z.LINES,yr.disabled,fn.disabled,s.colorModeForRenderPass(),At.disabled,Cs(ft,s.transform,K),u.id,J.layoutVertexBuffer,J.indexBuffer,J.segments,null,s.transform.zoom,null,null,J.collisionVertexBuffer)}}}}function pc(s,c,u,h,g,_,C){cc(s,c,u,h,!1,g,_,C),cc(s,c,u,h,!0,g,_,C)}var rh=a.identity(new Float32Array(16));function nh(s,c,u,h,g,_){var C=a.getAnchorAlignment(s),S=-(C.horizontalAlign-.5)*c,I=-(C.verticalAlign-.5)*u,z=a.evaluateVariableOffset(s,h);return new a.Point((S/g+z[0])*_,(I/g+z[1])*_)}function Ts(s,c,u,h,g,_,C,S,I,z,L){var Z=s.text.placedSymbolArray,Y=s.text.dynamicLayoutVertexArray,K=s.icon.dynamicLayoutVertexArray,tt={};Y.clear();for(var J=0;J<Z.length;J++){var ft=Z.get(J),ht=s.allowVerticalPlacement&&!ft.placedOrientation,_t=ft.hidden||!ft.crossTileID||ht?null:h[ft.crossTileID];if(_t){var gt=new a.Point(ft.anchorX,ft.anchorY),bt=Wt(gt,u?S:C),Mt=.5+_.cameraToCenterDistance/bt.signedDistanceFromCamera*.5,zt=g.evaluateSizeForFeature(s.textSizeData,z,ft)*Mt/a.ONE_EM;u&&(zt*=s.tilePixelRatio/I);for(var Ut=_t.width,se=_t.height,re=nh(_t.anchor,Ut,se,_t.textOffset,_t.textBoxScale,zt),fe=u?Wt(gt.add(re),C).point:bt.point.add(c?re.rotate(-_.angle):re),ee=s.allowVerticalPlacement&&ft.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Te=0;Te<ft.numGlyphs;Te++)a.addDynamicAttributes(Y,fe,ee);L&&ft.associatedIconIndex>=0&&(tt[ft.associatedIconIndex]={shiftedAnchor:fe,angle:ee})}else ar(ft.numGlyphs,Y)}if(L){K.clear();for(var le=s.icon.placedSymbolArray,Be=0;Be<le.length;Be++){var je=le.get(Be);if(je.hidden)ar(je.numGlyphs,K);else{var Re=tt[Be];if(Re)for(var Fe=0;Fe<je.numGlyphs;Fe++)a.addDynamicAttributes(K,Re.shiftedAnchor,Re.angle);else ar(je.numGlyphs,K)}}s.icon.dynamicLayoutVertexBuffer.updateData(K)}s.text.dynamicLayoutVertexBuffer.updateData(Y)}function ih(s,c,u){return u.iconsInText&&c?"symbolTextAndIcon":s?"symbolSDF":"symbolIcon"}function hc(s,c,u,h,g,_,C,S,I,z,L,Z){for(var Y,K,tt=s.context,J=tt.gl,ft=s.transform,ht=S==="map",_t=I==="map",gt=ht&&u.layout.get("symbol-placement")!=="point",bt=ht&&!_t&&!gt,Mt=u.layout.get("symbol-sort-key").constantOr(1)!==void 0,zt=s.depthModeForSublayer(0,yr.ReadOnly),Ut=u.layout.get("text-variable-anchor"),se=[],re=0,fe=h;re<fe.length;re+=1){var ee=fe[re],Te=c.getTile(ee),le=Te.getBucket(u);if(le){var Be=g?le.text:le.icon;if(Be&&Be.segments.get().length){var je=Be.programConfigurations.get(u.id),Re=g||le.sdfIcons,Fe=g?le.textSizeData:le.iconSizeData,kr=_t||ft.pitch!==0;Y||(Y=s.useProgram(ih(Re,g,le),je),K=a.evaluateSizeForZoom(Fe,ft.zoom));var Ye=void 0,Ke=[0,0],wn=void 0,br=void 0,He=null,Vn=void 0;if(g){if(wn=Te.glyphAtlasTexture,br=J.LINEAR,Ye=Te.glyphAtlasTexture.size,le.iconsInText){Ke=Te.imageAtlasTexture.size,He=Te.imageAtlasTexture;var Tn=Fe.kind==="composite"||Fe.kind==="camera";Vn=kr||s.options.rotating||s.options.zooming||Tn?J.LINEAR:J.NEAREST}}else{var Ro=u.layout.get("icon-size").constantOr(0)!==1||le.iconsNeedLinear;wn=Te.imageAtlasTexture,br=Re||s.options.rotating||s.options.zooming||Ro||kr?J.LINEAR:J.NEAREST,Ye=Te.imageAtlasTexture.size}var Fi=We(Te,1,s.transform.zoom),Wo=ne(ee.posMatrix,_t,ht,s.transform,Fi),Xa=de(ee.posMatrix,_t,ht,s.transform,Fi),Xn=Ut&&le.hasTextData(),ul=u.layout.get("icon-text-fit")!=="none"&&Xn&&le.hasIconData();gt&&De(le,ee.posMatrix,s,g,Wo,Xa,_t,z);var Ka=s.translatePosMatrix(ee.posMatrix,Te,_,C),ya=gt||g&&Ut||ul?rh:Wo,Xi=s.translatePosMatrix(Xa,Te,_,C,!0),Yl=Re&&u.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ho={program:Y,buffers:Be,uniformValues:Re?le.iconsInText?th(Fe.kind,K,bt,_t,s,Ka,ya,Xi,Ye,Ke):Wl(Fe.kind,K,bt,_t,s,Ka,ya,Xi,g,Ye,!0):il(Fe.kind,K,bt,_t,s,Ka,ya,Xi,g,Ye),atlasTexture:wn,atlasTextureIcon:He,atlasInterpolation:br,atlasInterpolationIcon:Vn,isSDF:Re,hasHalo:Yl};if(Mt)for(var ks=0,Jl=Be.segments.get();ks<Jl.length;ks+=1){var Os=Jl[ks];se.push({segments:new a.SegmentVector([Os]),sortKey:Os.sortKey,state:Ho})}else se.push({segments:Be.segments,sortKey:0,state:Ho})}}}Mt&&se.sort(function(gi,Ni){return gi.sortKey-Ni.sortKey});for(var Ya=0,cl=se;Ya<cl.length;Ya+=1){var ln=cl[Ya],Pr=ln.state;if(tt.activeTexture.set(J.TEXTURE0),Pr.atlasTexture.bind(Pr.atlasInterpolation,J.CLAMP_TO_EDGE),Pr.atlasTextureIcon&&(tt.activeTexture.set(J.TEXTURE1),Pr.atlasTextureIcon&&Pr.atlasTextureIcon.bind(Pr.atlasInterpolationIcon,J.CLAMP_TO_EDGE)),Pr.isSDF){var Vr=Pr.uniformValues;Pr.hasHalo&&(Vr.u_is_halo=1,fc(Pr.buffers,ln.segments,u,s,Pr.program,zt,L,Z,Vr)),Vr.u_is_halo=0}fc(Pr.buffers,ln.segments,u,s,Pr.program,zt,L,Z,Pr.uniformValues)}}function fc(s,c,u,h,g,_,C,S,I){var z=h.context,L=z.gl;g.draw(z,L.TRIANGLES,_,C,S,At.disabled,I,u.id,s.layoutVertexBuffer,s.indexBuffer,c,u.paint,h.transform.zoom,s.programConfigurations.get(u.id),s.dynamicLayoutVertexBuffer,s.opacityVertexBuffer)}function dc(s,c,u,h,g,_,C){var S,I,z,L,Z,Y=s.context.gl,K=u.paint.get("fill-pattern"),tt=K&&K.constantOr(1),J=u.getCrossfadeParameters();C?(I=tt&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",S=Y.LINES):(I=tt?"fillPattern":"fill",S=Y.TRIANGLES);for(var ft=0,ht=h;ft<ht.length;ft+=1){var _t=ht[ft],gt=c.getTile(_t);if(!tt||gt.patternsLoaded()){var bt=gt.getBucket(u);if(bt){var Mt=bt.programConfigurations.get(u.id),zt=s.useProgram(I,Mt);tt&&(s.context.activeTexture.set(Y.TEXTURE0),gt.imageAtlasTexture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),Mt.updatePatternPaintBuffers(J));var Ut=K.constantOr(null);if(Ut&&gt.imageAtlas){var se=gt.imageAtlas,re=se.patternPositions[Ut.to.toString()],fe=se.patternPositions[Ut.from.toString()];re&&fe&&Mt.setConstantPatternPositions(re,fe)}var ee=s.translatePosMatrix(_t.posMatrix,gt,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(C){L=bt.indexBuffer2,Z=bt.segments2;var Te=[Y.drawingBufferWidth,Y.drawingBufferHeight];z=I==="fillOutlinePattern"&&tt?Nl(ee,s,J,gt,Te):nl(ee,Te)}else L=bt.indexBuffer,Z=bt.segments,z=tt?Kp(ee,s,J,gt):lc(ee);zt.draw(s.context,S,g,s.stencilModeForClipping(_t),_,At.disabled,z,u.id,bt.layoutVertexBuffer,L,Z,u.paint,s.transform.zoom,Mt)}}}}function Hi(s,c,u,h,g,_,C){for(var S=s.context,I=S.gl,z=u.paint.get("fill-extrusion-pattern"),L=z.constantOr(1),Z=u.getCrossfadeParameters(),Y=u.paint.get("fill-extrusion-opacity"),K=0,tt=h;K<tt.length;K+=1){var J=tt[K],ft=c.getTile(J),ht=ft.getBucket(u);if(ht){var _t=ht.programConfigurations.get(u.id),gt=s.useProgram(L?"fillExtrusionPattern":"fillExtrusion",_t);L&&(s.context.activeTexture.set(I.TEXTURE0),ft.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),_t.updatePatternPaintBuffers(Z));var bt=z.constantOr(null);if(bt&&ft.imageAtlas){var Mt=ft.imageAtlas,zt=Mt.patternPositions[bt.to.toString()],Ut=Mt.patternPositions[bt.from.toString()];zt&&Ut&&_t.setConstantPatternPositions(zt,Ut)}var se=s.translatePosMatrix(J.posMatrix,ft,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),re=u.paint.get("fill-extrusion-vertical-gradient"),fe=L?Ld(se,s,re,Y,J,Z,ft):Xp(se,s,re,Y);gt.draw(S,S.gl.TRIANGLES,g,_,C,At.backCCW,fe,u.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,u.paint,s.transform.zoom,_t)}}}function Fd(s,c,u,h,g,_){var C=s.context,S=C.gl,I=c.fbo;if(I){var z=s.useProgram("hillshade");C.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,I.colorAttachment.get());var L=function(Z,Y,K){var tt=K.paint.get("hillshade-shadow-color"),J=K.paint.get("hillshade-highlight-color"),ft=K.paint.get("hillshade-accent-color"),ht=K.paint.get("hillshade-illumination-direction")*(Math.PI/180);K.paint.get("hillshade-illumination-anchor")==="viewport"&&(ht-=Z.transform.angle);var _t=!Z.options.moving;return{u_matrix:Z.transform.calculatePosMatrix(Y.tileID.toUnwrapped(),_t),u_image:0,u_latrange:Yp(Z,Y.tileID),u_light:[K.paint.get("hillshade-exaggeration"),ht],u_shadow:tt,u_highlight:J,u_accent:ft}}(s,c,u);z.draw(C,S.TRIANGLES,h,g,_,At.disabled,L,u.id,s.rasterBoundsBuffer,s.quadTriangleIndexBuffer,s.rasterBoundsSegments)}}function Za(s,c,u,h,g,_,C){var S=s.context,I=S.gl,z=c.dem;if(z&&z.data){var L=z.dim,Z=z.stride,Y=z.getPixels();if(S.activeTexture.set(I.TEXTURE1),S.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||s.getTileTexture(Z),c.demTexture){var K=c.demTexture;K.update(Y,{premultiply:!1}),K.bind(I.NEAREST,I.CLAMP_TO_EDGE)}else c.demTexture=new a.Texture(S,Y,I.RGBA,{premultiply:!1}),c.demTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE);S.activeTexture.set(I.TEXTURE0);var tt=c.fbo;if(!tt){var J=new a.Texture(S,{width:L,height:L,data:null},I.RGBA);J.bind(I.LINEAR,I.CLAMP_TO_EDGE),(tt=c.fbo=S.createFramebuffer(L,L)).colorAttachment.set(J.texture)}S.bindFramebuffer.set(tt.framebuffer),S.viewport.set([0,0,L,L]),s.useProgram("hillshadePrepare").draw(S,I.TRIANGLES,g,_,C,At.disabled,function(ft,ht,_t){var gt=ht.stride,bt=a.create();return a.ortho(bt,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(bt,bt,[0,-a.EXTENT,0]),{u_matrix:bt,u_image:1,u_dimension:[gt,gt],u_zoom:ft.overscaledZ,u_maxzoom:_t,u_unpack:ht.getUnpackVector()}}(c.tileID,z,h),u.id,s.rasterBoundsBuffer,s.quadTriangleIndexBuffer,s.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function oh(s,c,u,h,g){var _=h.paint.get("raster-fade-duration");if(_>0){var C=a.browser.now(),S=(C-s.timeAdded)/_,I=c?(C-c.timeAdded)/_:-1,z=u.getSource(),L=g.coveringZoomLevel({tileSize:z.tileSize,roundZoom:z.roundZoom}),Z=!c||Math.abs(c.tileID.overscaledZ-L)>Math.abs(s.tileID.overscaledZ-L),Y=Z&&s.refreshedUponExpiration?1:a.clamp(Z?S:1-I,0,1);return s.refreshedUponExpiration&&S>=1&&(s.refreshedUponExpiration=!1),c?{opacity:1,mix:1-Y}:{opacity:Y,mix:0}}return{opacity:1,mix:0}}function Ps(s,c,u){var h=s.context,g=h.gl,_=u.posMatrix,C=s.useProgram("debug"),S=yr.disabled,I=fn.disabled,z=s.colorModeForRenderPass(),L="$debug";C.draw(h,g.LINE_STRIP,S,I,z,At.disabled,Vl(_,a.Color.red),L,s.debugBuffer,s.tileBorderIndexBuffer,s.debugSegments);var Z=c.getTileByID(u.key).latestRawTileData,Y=Z&&Z.byteLength||0,K=Math.floor(Y/1024),tt=c.getTile(u).tileSize,J=512/Math.min(tt,512),ft=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(ft+=" => "+u.overscaledZ);for(var ht=function(Be,je,Re,Fe){Fe=Fe||1;var kr,Ye,Ke,wn,br,He,Vn,Tn,Ro=[];for(kr=0,Ye=Be.length;kr<Ye;kr++)if(br=ol[Be[kr]]){for(Tn=null,Ke=0,wn=br[1].length;Ke<wn;Ke+=2)br[1][Ke]===-1&&br[1][Ke+1]===-1?Tn=null:(He=je+br[1][Ke]*Fe,Vn=Re-br[1][Ke+1]*Fe,Tn&&Ro.push(Tn.x,Tn.y,He,Vn),Tn={x:He,y:Vn});je+=br[0]*Fe}return Ro}(ft+" "+K+"kb",50,200*J,5*J),_t=new a.StructArrayLayout2i4,gt=new a.StructArrayLayout2ui4,bt=0;bt<ht.length;bt+=2)_t.emplaceBack(ht[bt],ht[bt+1]),gt.emplaceBack(bt,bt+1);for(var Mt=h.createVertexBuffer(_t,ys.members),zt=h.createIndexBuffer(gt),Ut=a.SegmentVector.simpleSegment(0,0,_t.length/2,_t.length/2),se=a.EXTENT/(Math.pow(2,s.transform.zoom-u.overscaledZ)*tt*J),re=[],fe=-1;fe<=1;fe++)for(var ee=-1;ee<=1&&(fe!==0||ee!==0);ee++)re.push([fe,ee]);for(var Te=0;Te<re.length;Te++){var le=re[Te];C.draw(h,g.LINES,S,I,z,At.disabled,Vl(a.translate([],_,[se*le[0],se*le[1],0]),a.Color.white),L,Mt,zt,Ut)}C.draw(h,g.LINES,S,I,z,At.disabled,Vl(_,a.Color.black),L,Mt,zt,Ut),Mt.destroy(),zt.destroy(),Ut.destroy()}var ol={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},ah={symbol:function(s,c,u,h,g){if(s.renderPass==="translucent"){var _=fn.disabled,C=s.colorModeForRenderPass();u.layout.get("text-variable-anchor")&&function(S,I,z,L,Z,Y,K){for(var tt=I.transform,J=Z==="map",ft=Y==="map",ht=0,_t=S;ht<_t.length;ht+=1){var gt=_t[ht],bt=L.getTile(gt),Mt=bt.getBucket(z);if(Mt&&Mt.text&&Mt.text.segments.get().length){var zt=Mt.textSizeData,Ut=a.evaluateSizeForZoom(zt,tt.zoom),se=We(bt,1,I.transform.zoom),re=ne(gt.posMatrix,ft,J,I.transform,se),fe=z.layout.get("icon-text-fit")!=="none"&&Mt.hasIconData();if(Ut){var ee=Math.pow(2,tt.zoom-bt.tileID.overscaledZ);Ts(Mt,J,ft,K,a.symbolSize,tt,re,gt.posMatrix,ee,Ut,fe)}}}}(h,s,u,c,u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),g),u.paint.get("icon-opacity").constantOr(1)!==0&&hc(s,c,u,h,!1,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),u.layout.get("icon-rotation-alignment"),u.layout.get("icon-pitch-alignment"),u.layout.get("icon-keep-upright"),_,C),u.paint.get("text-opacity").constantOr(1)!==0&&hc(s,c,u,h,!0,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),u.layout.get("text-keep-upright"),_,C),c.map.showCollisionBoxes&&(pc(s,c,u,h,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),!0),pc(s,c,u,h,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),!1))}},circle:function(s,c,u,h){if(s.renderPass==="translucent"){var g=u.paint.get("circle-opacity"),_=u.paint.get("circle-stroke-width"),C=u.paint.get("circle-stroke-opacity"),S=u.layout.get("circle-sort-key").constantOr(1)!==void 0;if(g.constantOr(1)!==0||_.constantOr(1)!==0&&C.constantOr(1)!==0){for(var I=s.context,z=I.gl,L=s.depthModeForSublayer(0,yr.ReadOnly),Z=fn.disabled,Y=s.colorModeForRenderPass(),K=[],tt=0;tt<h.length;tt++){var J=h[tt],ft=c.getTile(J),ht=ft.getBucket(u);if(ht){var _t=ht.programConfigurations.get(u.id),gt={programConfiguration:_t,program:s.useProgram("circle",_t),layoutVertexBuffer:ht.layoutVertexBuffer,indexBuffer:ht.indexBuffer,uniformValues:Ul(s,J,ft,u)};if(S)for(var bt=0,Mt=ht.segments.get();bt<Mt.length;bt+=1){var zt=Mt[bt];K.push({segments:new a.SegmentVector([zt]),sortKey:zt.sortKey,state:gt})}else K.push({segments:ht.segments,sortKey:0,state:gt})}}S&&K.sort(function(Fe,kr){return Fe.sortKey-kr.sortKey});for(var Ut=0,se=K;Ut<se.length;Ut+=1){var re=se[Ut],fe=re.state,ee=fe.programConfiguration,Te=fe.program,le=fe.layoutVertexBuffer,Be=fe.indexBuffer,je=fe.uniformValues,Re=re.segments;Te.draw(I,z.TRIANGLES,L,Z,Y,At.disabled,je,u.id,le,Be,Re,u.paint,s.transform.zoom,ee)}}}},heatmap:function(s,c,u,h){if(u.paint.get("heatmap-opacity")!==0)if(s.renderPass==="offscreen"){var g=s.context,_=g.gl,C=s.depthModeForSublayer(0,yr.ReadOnly),S=fn.disabled,I=new Lr([_.ONE,_.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(ft,ht,_t){var gt=ft.gl;ft.activeTexture.set(gt.TEXTURE1),ft.viewport.set([0,0,ht.width/4,ht.height/4]);var bt=_t.heatmapFbo;if(bt)gt.bindTexture(gt.TEXTURE_2D,bt.colorAttachment.get()),ft.bindFramebuffer.set(bt.framebuffer);else{var Mt=gt.createTexture();gt.bindTexture(gt.TEXTURE_2D,Mt),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_WRAP_S,gt.CLAMP_TO_EDGE),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_WRAP_T,gt.CLAMP_TO_EDGE),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_MIN_FILTER,gt.LINEAR),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_MAG_FILTER,gt.LINEAR),bt=_t.heatmapFbo=ft.createFramebuffer(ht.width/4,ht.height/4),function zt(Ut,se,re,fe){var ee=Ut.gl;ee.texImage2D(ee.TEXTURE_2D,0,ee.RGBA,se.width/4,se.height/4,0,ee.RGBA,Ut.extTextureHalfFloat?Ut.extTextureHalfFloat.HALF_FLOAT_OES:ee.UNSIGNED_BYTE,null),fe.colorAttachment.set(re),Ut.extTextureHalfFloat&&ee.checkFramebufferStatus(ee.FRAMEBUFFER)!==ee.FRAMEBUFFER_COMPLETE&&(Ut.extTextureHalfFloat=null,fe.colorAttachment.setDirty(),zt(Ut,se,re,fe))}(ft,ht,Mt,bt)}})(g,s,u),g.clear({color:a.Color.transparent});for(var z=0;z<h.length;z++){var L=h[z];if(!c.hasRenderableParent(L)){var Z=c.getTile(L),Y=Z.getBucket(u);if(Y){var K=Y.programConfigurations.get(u.id),tt=s.useProgram("heatmap",K),J=s.transform.zoom;tt.draw(g,_.TRIANGLES,C,S,I,At.disabled,fo(L.posMatrix,Z,J,u.paint.get("heatmap-intensity")),u.id,Y.layoutVertexBuffer,Y.indexBuffer,Y.segments,u.paint,s.transform.zoom,K)}}}g.viewport.set([0,0,s.width,s.height])}else s.renderPass==="translucent"&&(s.context.setColorMode(s.colorModeForRenderPass()),function(ft,ht){var _t=ft.context,gt=_t.gl,bt=ht.heatmapFbo;if(bt){_t.activeTexture.set(gt.TEXTURE0),gt.bindTexture(gt.TEXTURE_2D,bt.colorAttachment.get()),_t.activeTexture.set(gt.TEXTURE1);var Mt=ht.colorRampTexture;Mt||(Mt=ht.colorRampTexture=new a.Texture(_t,ht.colorRamp,gt.RGBA)),Mt.bind(gt.LINEAR,gt.CLAMP_TO_EDGE),ft.useProgram("heatmapTexture").draw(_t,gt.TRIANGLES,yr.disabled,fn.disabled,ft.colorModeForRenderPass(),At.disabled,function(zt,Ut,se,re){var fe=a.create();a.ortho(fe,0,zt.width,zt.height,0,0,1);var ee=zt.context.gl;return{u_matrix:fe,u_world:[ee.drawingBufferWidth,ee.drawingBufferHeight],u_image:se,u_color_ramp:re,u_opacity:Ut.paint.get("heatmap-opacity")}}(ft,ht,0,1),ht.id,ft.viewportBuffer,ft.quadTriangleIndexBuffer,ft.viewportSegments,ht.paint,ft.transform.zoom)}}(s,u))},line:function(s,c,u,h){if(s.renderPass==="translucent"){var g=u.paint.get("line-opacity"),_=u.paint.get("line-width");if(g.constantOr(1)!==0&&_.constantOr(1)!==0){var C=s.depthModeForSublayer(0,yr.ReadOnly),S=s.colorModeForRenderPass(),I=u.paint.get("line-dasharray"),z=u.paint.get("line-pattern"),L=z.constantOr(1),Z=u.paint.get("line-gradient"),Y=u.getCrossfadeParameters(),K=I?"lineSDF":L?"linePattern":Z?"lineGradient":"line",tt=s.context,J=tt.gl,ft=!0;if(Z){tt.activeTexture.set(J.TEXTURE0);var ht=u.gradientTexture;if(!u.gradient)return;ht||(ht=u.gradientTexture=new a.Texture(tt,u.gradient,J.RGBA)),ht.bind(J.LINEAR,J.CLAMP_TO_EDGE)}for(var _t=0,gt=h;_t<gt.length;_t+=1){var bt=gt[_t],Mt=c.getTile(bt);if(!L||Mt.patternsLoaded()){var zt=Mt.getBucket(u);if(zt){var Ut=zt.programConfigurations.get(u.id),se=s.context.program.get(),re=s.useProgram(K,Ut),fe=ft||re.program!==se,ee=z.constantOr(null);if(ee&&Mt.imageAtlas){var Te=Mt.imageAtlas,le=Te.patternPositions[ee.to.toString()],Be=Te.patternPositions[ee.from.toString()];le&&Be&&Ut.setConstantPatternPositions(le,Be)}var je=I?$l(s,Mt,u,I,Y):L?Es(s,Mt,u,Y):Z?Jp(s,Mt,u):jl(s,Mt,u);I&&(fe||s.lineAtlas.dirty)?(tt.activeTexture.set(J.TEXTURE0),s.lineAtlas.bind(tt)):L&&(tt.activeTexture.set(J.TEXTURE0),Mt.imageAtlasTexture.bind(J.LINEAR,J.CLAMP_TO_EDGE),Ut.updatePatternPaintBuffers(Y)),re.draw(tt,J.TRIANGLES,C,s.stencilModeForClipping(bt),S,At.disabled,je,u.id,zt.layoutVertexBuffer,zt.indexBuffer,zt.segments,u.paint,s.transform.zoom,Ut),ft=!1}}}}}},fill:function(s,c,u,h){var g=u.paint.get("fill-color"),_=u.paint.get("fill-opacity");if(_.constantOr(1)!==0){var C=s.colorModeForRenderPass(),S=u.paint.get("fill-pattern"),I=s.opaquePassEnabledForLayer()&&!S.constantOr(1)&&g.constantOr(a.Color.transparent).a===1&&_.constantOr(0)===1?"opaque":"translucent";if(s.renderPass===I){var z=s.depthModeForSublayer(1,s.renderPass==="opaque"?yr.ReadWrite:yr.ReadOnly);dc(s,c,u,h,z,C,!1)}if(s.renderPass==="translucent"&&u.paint.get("fill-antialias")){var L=s.depthModeForSublayer(u.getPaintProperty("fill-outline-color")?2:0,yr.ReadOnly);dc(s,c,u,h,L,C,!0)}}},"fill-extrusion":function(s,c,u,h){var g=u.paint.get("fill-extrusion-opacity");if(g!==0&&s.renderPass==="translucent"){var _=new yr(s.context.gl.LEQUAL,yr.ReadWrite,s.depthRangeFor3D);if(g!==1||u.paint.get("fill-extrusion-pattern").constantOr(1))Hi(s,c,u,h,_,fn.disabled,Lr.disabled),Hi(s,c,u,h,_,s.stencilModeFor3D(),s.colorModeForRenderPass());else{var C=s.colorModeForRenderPass();Hi(s,c,u,h,_,fn.disabled,C)}}},hillshade:function(s,c,u,h){if(s.renderPass==="offscreen"||s.renderPass==="translucent"){for(var g=s.context,_=c.getSource().maxzoom,C=s.depthModeForSublayer(0,yr.ReadOnly),S=s.colorModeForRenderPass(),I=s.renderPass==="translucent"?s.stencilConfigForOverlap(h):[{},h],z=I[0],L=0,Z=I[1];L<Z.length;L+=1){var Y=Z[L],K=c.getTile(Y);K.needsHillshadePrepare&&s.renderPass==="offscreen"?Za(s,K,u,_,C,fn.disabled,S):s.renderPass==="translucent"&&Fd(s,K,u,C,z[Y.overscaledZ],S)}g.viewport.set([0,0,s.width,s.height])}},raster:function(s,c,u,h){if(s.renderPass==="translucent"&&u.paint.get("raster-opacity")!==0&&h.length)for(var g=s.context,_=g.gl,C=c.getSource(),S=s.useProgram("raster"),I=s.colorModeForRenderPass(),z=C instanceof nr?[{},h]:s.stencilConfigForOverlap(h),L=z[0],Z=z[1],Y=Z[Z.length-1].overscaledZ,K=!s.options.moving,tt=0,J=Z;tt<J.length;tt+=1){var ft=J[tt],ht=s.depthModeForSublayer(ft.overscaledZ-Y,u.paint.get("raster-opacity")===1?yr.ReadWrite:yr.ReadOnly,_.LESS),_t=c.getTile(ft),gt=s.transform.calculatePosMatrix(ft.toUnwrapped(),K);_t.registerFadeDuration(u.paint.get("raster-fade-duration"));var bt=c.findLoadedParent(ft,0),Mt=oh(_t,bt,c,u,s.transform),zt=void 0,Ut=void 0,se=u.paint.get("raster-resampling")==="nearest"?_.NEAREST:_.LINEAR;g.activeTexture.set(_.TEXTURE0),_t.texture.bind(se,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),g.activeTexture.set(_.TEXTURE1),bt?(bt.texture.bind(se,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),zt=Math.pow(2,bt.tileID.overscaledZ-_t.tileID.overscaledZ),Ut=[_t.tileID.canonical.x*zt%1,_t.tileID.canonical.y*zt%1]):_t.texture.bind(se,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST);var re=ql(gt,Ut||[0,0],zt||1,Mt,u);C instanceof nr?S.draw(g,_.TRIANGLES,ht,fn.disabled,I,At.disabled,re,u.id,C.boundsBuffer,s.quadTriangleIndexBuffer,C.boundsSegments):S.draw(g,_.TRIANGLES,ht,L[ft.overscaledZ],I,At.disabled,re,u.id,s.rasterBoundsBuffer,s.quadTriangleIndexBuffer,s.rasterBoundsSegments)}},background:function(s,c,u){var h=u.paint.get("background-color"),g=u.paint.get("background-opacity");if(g!==0){var _=s.context,C=_.gl,S=s.transform,I=S.tileSize,z=u.paint.get("background-pattern");if(!s.isPatternMissing(z)){var L=!z&&h.a===1&&g===1&&s.opaquePassEnabledForLayer()?"opaque":"translucent";if(s.renderPass===L){var Z=fn.disabled,Y=s.depthModeForSublayer(0,L==="opaque"?yr.ReadWrite:yr.ReadOnly),K=s.colorModeForRenderPass(),tt=s.useProgram(z?"backgroundPattern":"background"),J=S.coveringTiles({tileSize:I});z&&(_.activeTexture.set(C.TEXTURE0),s.imageManager.bind(s.context));for(var ft=u.getCrossfadeParameters(),ht=0,_t=J;ht<_t.length;ht+=1){var gt=_t[ht],bt=s.transform.calculatePosMatrix(gt.toUnwrapped()),Mt=z?Hl(bt,g,s,z,{tileID:gt,tileSize:I},ft):eh(bt,g,h);tt.draw(_,C.TRIANGLES,Y,Z,K,At.disabled,Mt,u.id,s.tileExtentBuffer,s.quadTriangleIndexBuffer,s.tileExtentSegments)}}}}},debug:function(s,c,u){for(var h=0;h<u.length;h++)Ps(s,c,u[h])},custom:function(s,c,u){var h=s.context,g=u.implementation;if(s.renderPass==="offscreen"){var _=g.prerender;_&&(s.setCustomLayerDefaults(),h.setColorMode(s.colorModeForRenderPass()),_.call(g,h.gl,s.transform.customLayerMatrix()),h.setDirty(),s.setBaseState())}else if(s.renderPass==="translucent"){s.setCustomLayerDefaults(),h.setColorMode(s.colorModeForRenderPass()),h.setStencilMode(fn.disabled);var C=g.renderingMode==="3d"?new yr(s.context.gl.LEQUAL,yr.ReadWrite,s.depthRangeFor3D):s.depthModeForSublayer(0,yr.ReadOnly);h.setDepthMode(C),g.render(h.gl,s.transform.customLayerMatrix()),h.setDirty(),s.setBaseState(),h.bindFramebuffer.set(null)}}},_n=function(s,c){this.context=new Qt(s),this.transform=c,this._tileTextures={},this.setup(),this.numSublayers=qi.maxUnderzooming+qi.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new a.ProgramConfiguration,this.crossTileSymbolIndex=new tl,this.gpuTimers={}};function mc(s,c){if(s.y>c.y){var u=s;s=c,c=u}return{x0:s.x,y0:s.y,x1:c.x,y1:c.y,dx:c.x-s.x,dy:c.y-s.y}}function yc(s,c,u,h,g){var _=Math.max(u,Math.floor(c.y0)),C=Math.min(h,Math.ceil(c.y1));if(s.x0===c.x0&&s.y0===c.y0?s.x0+c.dy/s.dy*s.dx<c.x1:s.x1-c.dy/s.dy*s.dx<c.x0){var S=s;s=c,c=S}for(var I=s.dx/s.dy,z=c.dx/c.dy,L=s.dx>0,Z=c.dx<0,Y=_;Y<C;Y++){var K=I*Math.max(0,Math.min(s.dy,Y+L-s.y0))+s.x0,tt=z*Math.max(0,Math.min(c.dy,Y+Z-c.y0))+c.x0;g(Math.floor(tt),Math.ceil(K),Y)}}function qa(s,c,u,h,g,_){var C,S=mc(s,c),I=mc(c,u),z=mc(u,s);S.dy>I.dy&&(C=S,S=I,I=C),S.dy>z.dy&&(C=S,S=z,z=C),I.dy>z.dy&&(C=I,I=z,z=C),S.dy&&yc(z,S,h,g,_),I.dy&&yc(z,I,h,g,_)}_n.prototype.resize=function(s,c){var u=this.context.gl;if(this.width=s*a.browser.devicePixelRatio,this.height=c*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var h=0,g=this.style._order;h<g.length;h+=1){var _=g[h];this.style._layers[_].resize()}this.depthRbo&&(u.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},_n.prototype.setup=function(){var s=this.context,c=new a.StructArrayLayout2i4;c.emplaceBack(0,0),c.emplaceBack(a.EXTENT,0),c.emplaceBack(0,a.EXTENT),c.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=s.createVertexBuffer(c,ys.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var u=new a.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(a.EXTENT,0),u.emplaceBack(0,a.EXTENT),u.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=s.createVertexBuffer(u,ys.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var h=new a.StructArrayLayout4i8;h.emplaceBack(0,0,0,0),h.emplaceBack(a.EXTENT,0,a.EXTENT,0),h.emplaceBack(0,a.EXTENT,0,a.EXTENT),h.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=s.createVertexBuffer(h,Nr.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var g=new a.StructArrayLayout2i4;g.emplaceBack(0,0),g.emplaceBack(1,0),g.emplaceBack(0,1),g.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(g,ys.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var _=new a.StructArrayLayout1ui2;_.emplaceBack(0),_.emplaceBack(1),_.emplaceBack(3),_.emplaceBack(2),_.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(_);var C=new a.StructArrayLayout3ui6;C.emplaceBack(0,1,2),C.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(C);var S=this.context.gl;this.stencilClearMode=new fn({func:S.ALWAYS,mask:0},0,255,S.ZERO,S.ZERO,S.ZERO)},_n.prototype.clearStencil=function(){var s=this.context,c=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var u=a.create();a.ortho(u,0,this.width,this.height,0,0,1),a.scale(u,u,[c.drawingBufferWidth,c.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(s,c.TRIANGLES,yr.disabled,this.stencilClearMode,Lr.disabled,At.disabled,Ss(u),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},_n.prototype._renderTileClippingMasks=function(s,c){if(this.currentStencilSource!==s.source&&s.isTileClipped()&&c&&c.length){this.currentStencilSource=s.source;var u=this.context,h=u.gl;this.nextStencilID+c.length>256&&this.clearStencil(),u.setColorMode(Lr.disabled),u.setDepthMode(yr.disabled);var g=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var _=0,C=c;_<C.length;_+=1){var S=C[_],I=this._tileClippingMaskIDs[S.key]=this.nextStencilID++;g.draw(u,h.TRIANGLES,yr.disabled,new fn({func:h.ALWAYS,mask:0},I,255,h.KEEP,h.KEEP,h.REPLACE),Lr.disabled,At.disabled,Ss(S.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},_n.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var s=this.nextStencilID++,c=this.context.gl;return new fn({func:c.NOTEQUAL,mask:255},s,255,c.KEEP,c.KEEP,c.REPLACE)},_n.prototype.stencilModeForClipping=function(s){var c=this.context.gl;return new fn({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,c.KEEP,c.KEEP,c.REPLACE)},_n.prototype.stencilConfigForOverlap=function(s){var c,u=this.context.gl,h=s.sort(function(I,z){return z.overscaledZ-I.overscaledZ}),g=h[h.length-1].overscaledZ,_=h[0].overscaledZ-g+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();for(var C={},S=0;S<_;S++)C[S+g]=new fn({func:u.GEQUAL,mask:255},S+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=_,[C,h]}return[(c={},c[g]=fn.disabled,c),h]},_n.prototype.colorModeForRenderPass=function(){var s=this.context.gl;return this._showOverdrawInspector?new Lr([s.CONSTANT_COLOR,s.ONE],new a.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Lr.unblended:Lr.alphaBlended},_n.prototype.depthModeForSublayer=function(s,c,u){if(!this.opaquePassEnabledForLayer())return yr.disabled;var h=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new yr(u||this.context.gl.LEQUAL,c,[h,h])},_n.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},_n.prototype.render=function(s,c){var u=this;this.style=s,this.options=c,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var h=this.style._order,g=this.style.sourceCaches;for(var _ in g){var C=g[_];C.used&&C.prepare(this.context)}var S,I,z={},L={},Z={};for(var Y in g){var K=g[Y];z[Y]=K.getVisibleCoordinates(),L[Y]=z[Y].slice().reverse(),Z[Y]=K.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var tt=0;tt<h.length;tt++){var J=h[tt];if(this.style._layers[J].is3D()){this.opaquePassCutoff=tt;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var ft=0,ht=h;ft<ht.length;ft+=1){var _t=ht[ft],gt=this.style._layers[_t];if(gt.hasOffscreenPass()&&!gt.isHidden(this.transform.zoom)){var bt=L[gt.source];(gt.type==="custom"||bt.length)&&this.renderLayer(this,g[gt.source],gt,bt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=h.length-1;this.currentLayer>=0;this.currentLayer--){var Mt=this.style._layers[h[this.currentLayer]],zt=g[Mt.source],Ut=z[Mt.source];this._renderTileClippingMasks(Mt,Ut),this.renderLayer(this,zt,Mt,Ut)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<h.length;this.currentLayer++){var se=this.style._layers[h[this.currentLayer]],re=g[se.source],fe=(se.type==="symbol"?Z:L)[se.source];this._renderTileClippingMasks(se,z[se.source]),this.renderLayer(this,re,se,fe)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(ee){ee.source&&!ee.isHidden(u.transform.zoom)&&(ee.source!==(I&&I.id)&&(I=u.style.sourceCaches[ee.source]),(!S||S.getSource().maxzoom<I.getSource().maxzoom)&&(S=I))}),S&&ah.debug(this,S,S.getVisibleCoordinates())),this.context.setDefault()},_n.prototype.setupOffscreenDepthRenderbuffer=function(){var s=this.context;this.depthRbo||(this.depthRbo=s.createRenderbuffer(s.gl.DEPTH_COMPONENT16,this.width,this.height))},_n.prototype.renderLayer=function(s,c,u,h){u.isHidden(this.transform.zoom)||(u.type==="background"||u.type==="custom"||h.length)&&(this.id=u.id,this.gpuTimingStart(u),ah[u.type](s,c,u,h,this.style.placement.variableOffsets),this.gpuTimingEnd())},_n.prototype.gpuTimingStart=function(s){if(this.options.gpuTiming){var c=this.context.extTimerQuery,u=this.gpuTimers[s.id];u||(u=this.gpuTimers[s.id]={calls:0,cpuTime:0,query:c.createQueryEXT()}),u.calls++,c.beginQueryEXT(c.TIME_ELAPSED_EXT,u.query)}},_n.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var s=this.context.extTimerQuery;s.endQueryEXT(s.TIME_ELAPSED_EXT)}},_n.prototype.collectGpuTimers=function(){var s=this.gpuTimers;return this.gpuTimers={},s},_n.prototype.queryGpuTimers=function(s){var c={};for(var u in s){var h=s[u],g=this.context.extTimerQuery,_=g.getQueryObjectEXT(h.query,g.QUERY_RESULT_EXT)/1e6;g.deleteQueryEXT(h.query),c[u]=_}return c},_n.prototype.translatePosMatrix=function(s,c,u,h,g){if(!u[0]&&!u[1])return s;var _=g?h==="map"?this.transform.angle:0:h==="viewport"?-this.transform.angle:0;if(_){var C=Math.sin(_),S=Math.cos(_);u=[u[0]*S-u[1]*C,u[0]*C+u[1]*S]}var I=[g?u[0]:We(c,u[0],this.transform.zoom),g?u[1]:We(c,u[1],this.transform.zoom),0],z=new Float32Array(16);return a.translate(z,s,I),z},_n.prototype.saveTileTexture=function(s){var c=this._tileTextures[s.size[0]];c?c.push(s):this._tileTextures[s.size[0]]=[s]},_n.prototype.getTileTexture=function(s){var c=this._tileTextures[s];return c&&c.length>0?c.pop():null},_n.prototype.isPatternMissing=function(s){if(!s)return!1;var c=this.imageManager.getPattern(s.from.toString()),u=this.imageManager.getPattern(s.to.toString());return!c||!u},_n.prototype.useProgram=function(s,c){c===void 0&&(c=this.emptyProgramConfiguration),this.cache=this.cache||{};var u=""+s+(c.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[u]||(this.cache[u]=new Gp(this.context,tn[s],c,uc[s],this._showOverdrawInspector)),this.cache[u]},_n.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},_n.prototype.setBaseState=function(){var s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)};var gr=function(s,c,u,h,g){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=g===void 0||g,this._minZoom=s||0,this._maxZoom=c||22,this._minPitch=u??0,this._maxPitch=h??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},sn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};gr.prototype.clone=function(){var s=new gr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return s.tileSize=this.tileSize,s.latRange=this.latRange,s.width=this.width,s.height=this.height,s._center=this._center,s.zoom=this.zoom,s.angle=this.angle,s._fov=this._fov,s._pitch=this._pitch,s._unmodified=this._unmodified,s._calcMatrices(),s},sn.minZoom.get=function(){return this._minZoom},sn.minZoom.set=function(s){this._minZoom!==s&&(this._minZoom=s,this.zoom=Math.max(this.zoom,s))},sn.maxZoom.get=function(){return this._maxZoom},sn.maxZoom.set=function(s){this._maxZoom!==s&&(this._maxZoom=s,this.zoom=Math.min(this.zoom,s))},sn.minPitch.get=function(){return this._minPitch},sn.minPitch.set=function(s){this._minPitch!==s&&(this._minPitch=s,this.pitch=Math.max(this.pitch,s))},sn.maxPitch.get=function(){return this._maxPitch},sn.maxPitch.set=function(s){this._maxPitch!==s&&(this._maxPitch=s,this.pitch=Math.min(this.pitch,s))},sn.renderWorldCopies.get=function(){return this._renderWorldCopies},sn.renderWorldCopies.set=function(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s},sn.worldSize.get=function(){return this.tileSize*this.scale},sn.centerPoint.get=function(){return this.size._div(2)},sn.size.get=function(){return new a.Point(this.width,this.height)},sn.bearing.get=function(){return-this.angle/Math.PI*180},sn.bearing.set=function(s){var c=-a.wrap(s,-180,180)*Math.PI/180;this.angle!==c&&(this._unmodified=!1,this.angle=c,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},sn.pitch.get=function(){return this._pitch/Math.PI*180},sn.pitch.set=function(s){var c=a.clamp(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())},sn.fov.get=function(){return this._fov/Math.PI*180},sn.fov.set=function(s){s=Math.max(.01,Math.min(60,s)),this._fov!==s&&(this._unmodified=!1,this._fov=s/180*Math.PI,this._calcMatrices())},sn.zoom.get=function(){return this._zoom},sn.zoom.set=function(s){var c=Math.min(Math.max(s,this.minZoom),this.maxZoom);this._zoom!==c&&(this._unmodified=!1,this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom,this._constrain(),this._calcMatrices())},sn.center.get=function(){return this._center},sn.center.set=function(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())},gr.prototype.coveringZoomLevel=function(s){var c=(s.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/s.tileSize));return Math.max(0,c)},gr.prototype.getVisibleUnwrappedCoordinates=function(s){var c=[new a.UnwrappedTileID(0,s)];if(this._renderWorldCopies)for(var u=this.pointCoordinate(new a.Point(0,0)),h=this.pointCoordinate(new a.Point(this.width,0)),g=this.pointCoordinate(new a.Point(this.width,this.height)),_=this.pointCoordinate(new a.Point(0,this.height)),C=Math.floor(Math.min(u.x,h.x,g.x,_.x)),S=Math.floor(Math.max(u.x,h.x,g.x,_.x)),I=C-1;I<=S+1;I++)I!==0&&c.push(new a.UnwrappedTileID(I,s));return c},gr.prototype.coveringTiles=function(s){var c=this.coveringZoomLevel(s),u=c;if(s.minzoom!==void 0&&c<s.minzoom)return[];s.maxzoom!==void 0&&c>s.maxzoom&&(c=s.maxzoom);var h=a.MercatorCoordinate.fromLngLat(this.center),g=Math.pow(2,c),_=new a.Point(g*h.x-.5,g*h.y-.5);return function(C,S,I,z){z===void 0&&(z=!0);var L=1<<C,Z={};function Y(tt,J,ft){var ht,_t,gt,bt;if(ft>=0&&ft<=L)for(ht=tt;ht<J;ht++)_t=Math.floor(ht/L),gt=(ht%L+L)%L,_t!==0&&z!==!0||(bt=new a.OverscaledTileID(I,_t,C,gt,ft),Z[bt.key]=bt)}var K=S.map(function(tt){return new a.Point(tt.x,tt.y)._mult(L)});return qa(K[0],K[1],K[2],0,L,Y),qa(K[2],K[3],K[0],0,L,Y),Object.keys(Z).map(function(tt){return Z[tt]})}(c,[this.pointCoordinate(new a.Point(0,0)),this.pointCoordinate(new a.Point(this.width,0)),this.pointCoordinate(new a.Point(this.width,this.height)),this.pointCoordinate(new a.Point(0,this.height))],s.reparseOverscaled?u:c,this._renderWorldCopies).sort(function(C,S){return _.dist(C.canonical)-_.dist(S.canonical)})},gr.prototype.resize=function(s,c){this.width=s,this.height=c,this.pixelsToGLUnits=[2/s,-2/c],this._constrain(),this._calcMatrices()},sn.unmodified.get=function(){return this._unmodified},gr.prototype.zoomScale=function(s){return Math.pow(2,s)},gr.prototype.scaleZoom=function(s){return Math.log(s)/Math.LN2},gr.prototype.project=function(s){var c=a.clamp(s.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(s.lng)*this.worldSize,a.mercatorYfromLat(c)*this.worldSize)},gr.prototype.unproject=function(s){return new a.MercatorCoordinate(s.x/this.worldSize,s.y/this.worldSize).toLngLat()},sn.point.get=function(){return this.project(this.center)},gr.prototype.setLocationAtPoint=function(s,c){var u=this.pointCoordinate(c),h=this.pointCoordinate(this.centerPoint),g=this.locationCoordinate(s),_=new a.MercatorCoordinate(g.x-(u.x-h.x),g.y-(u.y-h.y));this.center=this.coordinateLocation(_),this._renderWorldCopies&&(this.center=this.center.wrap())},gr.prototype.locationPoint=function(s){return this.coordinatePoint(this.locationCoordinate(s))},gr.prototype.pointLocation=function(s){return this.coordinateLocation(this.pointCoordinate(s))},gr.prototype.locationCoordinate=function(s){return a.MercatorCoordinate.fromLngLat(s)},gr.prototype.coordinateLocation=function(s){return s.toLngLat()},gr.prototype.pointCoordinate=function(s){var c=[s.x,s.y,0,1],u=[s.x,s.y,1,1];a.transformMat4(c,c,this.pixelMatrixInverse),a.transformMat4(u,u,this.pixelMatrixInverse);var h=c[3],g=u[3],_=c[0]/h,C=u[0]/g,S=c[1]/h,I=u[1]/g,z=c[2]/h,L=u[2]/g,Z=z===L?0:(0-z)/(L-z);return new a.MercatorCoordinate(a.number(_,C,Z)/this.worldSize,a.number(S,I,Z)/this.worldSize)},gr.prototype.coordinatePoint=function(s){var c=[s.x*this.worldSize,s.y*this.worldSize,0,1];return a.transformMat4(c,c,this.pixelMatrix),new a.Point(c[0]/c[3],c[1]/c[3])},gr.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},gr.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},gr.prototype.setMaxBounds=function(s){s?(this.lngRange=[s.getWest(),s.getEast()],this.latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},gr.prototype.calculatePosMatrix=function(s,c){c===void 0&&(c=!1);var u=s.key,h=c?this._alignedPosMatrixCache:this._posMatrixCache;if(h[u])return h[u];var g=s.canonical,_=this.worldSize/this.zoomScale(g.z),C=g.x+Math.pow(2,g.z)*s.wrap,S=a.identity(new Float64Array(16));return a.translate(S,S,[C*_,g.y*_,0]),a.scale(S,S,[_/a.EXTENT,_/a.EXTENT,1]),a.multiply(S,c?this.alignedProjMatrix:this.projMatrix,S),h[u]=new Float32Array(S),h[u]},gr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},gr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var s,c,u,h,g=-90,_=90,C=-180,S=180,I=this.size,z=this._unmodified;if(this.latRange){var L=this.latRange;g=a.mercatorYfromLat(L[1])*this.worldSize,s=(_=a.mercatorYfromLat(L[0])*this.worldSize)-g<I.y?I.y/(_-g):0}if(this.lngRange){var Z=this.lngRange;C=a.mercatorXfromLng(Z[0])*this.worldSize,c=(S=a.mercatorXfromLng(Z[1])*this.worldSize)-C<I.x?I.x/(S-C):0}var Y=this.point,K=Math.max(c||0,s||0);if(K)return this.center=this.unproject(new a.Point(c?(S+C)/2:Y.x,s?(_+g)/2:Y.y)),this.zoom+=this.scaleZoom(K),this._unmodified=z,void(this._constraining=!1);if(this.latRange){var tt=Y.y,J=I.y/2;tt-J<g&&(h=g+J),tt+J>_&&(h=_-J)}if(this.lngRange){var ft=Y.x,ht=I.x/2;ft-ht<C&&(u=C+ht),ft+ht>S&&(u=S-ht)}u===void 0&&h===void 0||(this.center=this.unproject(new a.Point(u!==void 0?u:Y.x,h!==void 0?h:Y.y))),this._unmodified=z,this._constraining=!1}},gr.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var s=this._fov/2,c=Math.PI/2+this._pitch,u=Math.sin(s)*this.cameraToCenterDistance/Math.sin(Math.PI-c-s),h=this.point,g=h.x,_=h.y,C=1.01*(Math.cos(Math.PI/2-this._pitch)*u+this.cameraToCenterDistance),S=this.height/50,I=new Float64Array(16);a.perspective(I,this._fov,this.width/this.height,S,C),a.scale(I,I,[1,-1,1]),a.translate(I,I,[0,0,-this.cameraToCenterDistance]),a.rotateX(I,I,this._pitch),a.rotateZ(I,I,this.angle),a.translate(I,I,[-g,-_,0]),this.mercatorMatrix=a.scale([],I,[this.worldSize,this.worldSize,this.worldSize]),a.scale(I,I,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=I;var z=this.width%2/2,L=this.height%2/2,Z=Math.cos(this.angle),Y=Math.sin(this.angle),K=g-Math.round(g)+Z*z+Y*L,tt=_-Math.round(_)+Z*L+Y*z,J=new Float64Array(I);if(a.translate(J,J,[K>.5?K-1:K,tt>.5?tt-1:tt,0]),this.alignedProjMatrix=J,I=a.create(),a.scale(I,I,[this.width/2,-this.height/2,1]),a.translate(I,I,[1,-1,0]),this.labelPlaneMatrix=I,I=a.create(),a.scale(I,I,[1,-1,1]),a.translate(I,I,[-1,-1,0]),a.scale(I,I,[2/this.width,2/this.height,1]),this.glCoordMatrix=I,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(I=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=I,this._posMatrixCache={},this._alignedPosMatrixCache={}}},gr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var s=this.pointCoordinate(new a.Point(0,0)),c=[s.x*this.worldSize,s.y*this.worldSize,0,1];return a.transformMat4(c,c,this.pixelMatrix)[3]/this.cameraToCenterDistance},gr.prototype.getCameraPoint=function(){var s=this._pitch,c=Math.tan(s)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))},gr.prototype.getCameraQueryGeometry=function(s){var c=this.getCameraPoint();if(s.length===1)return[s[0],c];for(var u=c.x,h=c.y,g=c.x,_=c.y,C=0,S=s;C<S.length;C+=1){var I=S[C];u=Math.min(u,I.x),h=Math.min(h,I.y),g=Math.max(g,I.x),_=Math.max(_,I.y)}return[new a.Point(u,h),new a.Point(g,h),new a.Point(g,_),new a.Point(u,_),new a.Point(u,h)]},Object.defineProperties(gr.prototype,sn);var ha=function(s){var c,u,h,g,_;this._hashName=s&&encodeURIComponent(s),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(c=this._updateHashUnthrottled.bind(this),u=300,h=!1,g=null,_=function(){g=null,h&&(c(),g=setTimeout(_,u),h=!1)},function(){return h=!0,g||_(),g})};ha.prototype.addTo=function(s){return this._map=s,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ha.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ha.prototype.getHashString=function(s){var c=this._map.getCenter(),u=Math.round(100*this._map.getZoom())/100,h=Math.ceil((u*Math.LN2+Math.log(512/360/.5))/Math.LN10),g=Math.pow(10,h),_=Math.round(c.lng*g)/g,C=Math.round(c.lat*g)/g,S=this._map.getBearing(),I=this._map.getPitch(),z="";if(z+=s?"/"+_+"/"+C+"/"+u:u+"/"+C+"/"+_,(S||I)&&(z+="/"+Math.round(10*S)/10),I&&(z+="/"+Math.round(I)),this._hashName){var L=this._hashName,Z=!1,Y=a.window.location.hash.slice(1).split("&").map(function(K){var tt=K.split("=")[0];return tt===L?(Z=!0,tt+"="+z):K}).filter(function(K){return K});return Z||Y.push(L+"="+z),"#"+Y.join("&")}return"#"+z},ha.prototype._getCurrentHash=function(){var s,c=this,u=a.window.location.hash.replace("#","");return this._hashName?(u.split("&").map(function(h){return h.split("=")}).forEach(function(h){h[0]===c._hashName&&(s=h)}),(s&&s[1]||"").split("/")):u.split("/")},ha.prototype._onHashChange=function(){var s=this._getCurrentHash();return s.length>=3&&!s.some(function(c){return isNaN(c)})&&(this._map.jumpTo({center:[+s[2],+s[1]],zoom:+s[0],bearing:+(s[3]||0),pitch:+(s[4]||0)}),!0)},ha.prototype._updateHashUnthrottled=function(){var s=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",s)}catch{}};var yi=function(s){function c(h,g,_,C){C===void 0&&(C={});var S=b.mousePos(g.getCanvasContainer(),_),I=g.unproject(S);s.call(this,h,a.extend({point:S,lngLat:I,originalEvent:_},C)),this._defaultPrevented=!1,this.target=g}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var u={defaultPrevented:{configurable:!0}};return c.prototype.preventDefault=function(){this._defaultPrevented=!0},u.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(c.prototype,u),c}(a.Event),me=function(s){function c(h,g,_){var C=b.touchPos(g.getCanvasContainer(),_),S=C.map(function(L){return g.unproject(L)}),I=C.reduce(function(L,Z,Y,K){return L.add(Z.div(K.length))},new a.Point(0,0)),z=g.unproject(I);s.call(this,h,{points:C,point:I,lngLats:S,lngLat:z,originalEvent:_}),this._defaultPrevented=!1}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var u={defaultPrevented:{configurable:!0}};return c.prototype.preventDefault=function(){this._defaultPrevented=!0},u.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(c.prototype,u),c}(a.Event),gc=function(s){function c(h,g,_){s.call(this,h,{originalEvent:_}),this._defaultPrevented=!1}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var u={defaultPrevented:{configurable:!0}};return c.prototype.preventDefault=function(){this._defaultPrevented=!0},u.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(c.prototype,u),c}(a.Event),Ri=function(s){this._map=s,this._el=s.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Ri.prototype.setZoomRate=function(s){this._defaultZoomRate=s},Ri.prototype.setWheelZoomRate=function(s){this._wheelZoomRate=s},Ri.prototype.isEnabled=function(){return!!this._enabled},Ri.prototype.isActive=function(){return!!this._active},Ri.prototype.isZooming=function(){return!!this._zooming},Ri.prototype.enable=function(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=s&&s.around==="center")},Ri.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ri.prototype.onWheel=function(s){if(this.isEnabled()){var c=s.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY,u=a.browser.now(),h=u-(this._lastWheelEventTime||0);this._lastWheelEventTime=u,c!==0&&c%4.000244140625==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":h>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(h*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),s.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=s,this._delta-=c,this.isActive()||this._start(s)),s.preventDefault()}},Ri.prototype._onTimeout=function(s){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(s)},Ri.prototype._start=function(s){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new a.Event("movestart",{originalEvent:s})),this._map.fire(new a.Event("zoomstart",{originalEvent:s}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var c=b.mousePos(this._el,s);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(c)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},Ri.prototype._onScrollFrame=function(){var s=this;if(this._frameId=null,this.isActive()){var c=this._map.transform;if(this._delta!==0){var u=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,h=2/(1+Math.exp(-Math.abs(this._delta*u)));this._delta<0&&h!==0&&(h=1/h);var g=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(g*h))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var _=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,C=this._startZoom,S=this._easing,I=!1;if(this._type==="wheel"&&C&&S){var z=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),L=S(z);c.zoom=a.number(C,_,L),z<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):I=!0}else c.zoom=_,I=!0;c.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new a.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new a.Event("zoom",{originalEvent:this._lastWheelEvent})),I&&(this._active=!1,this._finishTimeout=setTimeout(function(){s._zooming=!1,s._map.fire(new a.Event("zoomend",{originalEvent:s._lastWheelEvent})),s._map.fire(new a.Event("moveend",{originalEvent:s._lastWheelEvent})),delete s._targetZoom},200))}},Ri.prototype._smoothOutEasing=function(s){var c=a.ease;if(this._prevEase){var u=this._prevEase,h=(a.browser.now()-u.start)/u.duration,g=u.easing(h+.01)-u.easing(h),_=.27/Math.sqrt(g*g+1e-4)*.01,C=Math.sqrt(.0729-_*_);c=a.bezier(_,C,.25,1)}return this._prevEase={start:a.browser.now(),duration:s,easing:c},c};var no=function(s,c){this._map=s,this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=c.clickTolerance||1,a.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};no.prototype.isEnabled=function(){return!!this._enabled},no.prototype.isActive=function(){return!!this._active},no.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},no.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},no.prototype.onMouseDown=function(s){this.isEnabled()&&s.shiftKey&&s.button===0&&(a.window.document.addEventListener("mousemove",this._onMouseMove,!1),a.window.document.addEventListener("keydown",this._onKeyDown,!1),a.window.document.addEventListener("mouseup",this._onMouseUp,!1),b.disableDrag(),this._startPos=this._lastPos=b.mousePos(this._el,s),this._active=!0)},no.prototype._onMouseMove=function(s){var c=b.mousePos(this._el,s);if(!(this._lastPos.equals(c)||!this._box&&c.dist(this._startPos)<this._clickTolerance)){var u=this._startPos;this._lastPos=c,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",s));var h=Math.min(u.x,c.x),g=Math.max(u.x,c.x),_=Math.min(u.y,c.y),C=Math.max(u.y,c.y);b.setTransform(this._box,"translate("+h+"px,"+_+"px)"),this._box.style.width=g-h+"px",this._box.style.height=C-_+"px"}},no.prototype._onMouseUp=function(s){if(s.button===0){var c=this._startPos,u=b.mousePos(this._el,s);this._finish(),b.suppressClick(),c.x===u.x&&c.y===u.y?this._fireEvent("boxzoomcancel",s):this._map.fitScreenCoordinates(c,u,this._map.getBearing(),{linear:!0}).fire(new a.Event("boxzoomend",{originalEvent:s}))}},no.prototype._onKeyDown=function(s){s.keyCode===27&&(this._finish(),this._fireEvent("boxzoomcancel",s))},no.prototype._finish=function(){this._active=!1,a.window.document.removeEventListener("mousemove",this._onMouseMove,!1),a.window.document.removeEventListener("keydown",this._onKeyDown,!1),a.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},no.prototype._fireEvent=function(s,c){return this._map.fire(new a.Event(s,{originalEvent:c}))};var Is=a.bezier(0,0,.25,1),Bn=function(s,c){this._map=s,this._el=c.element||s.getCanvasContainer(),this._state="disabled",this._button=c.button||"right",this._bearingSnap=c.bearingSnap||0,this._pitchWithRotate=c.pitchWithRotate!==!1,a.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};Bn.prototype.isEnabled=function(){return this._state!=="disabled"},Bn.prototype.isActive=function(){return this._state==="active"},Bn.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},Bn.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Bn.prototype.onMouseDown=function(s){if(this._state==="enabled"){var c=s.type==="touchstart";if(c)this._startTime=Date.now();else if(this._button==="right"){if(this._eventButton=b.mouseButton(s),this._eventButton!==(s.ctrlKey?0:2))return}else{if(s.ctrlKey||b.mouseButton(s)!==0)return;this._eventButton=0}b.disableDrag(),c?(a.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),a.window.document.addEventListener("touchend",this._onMouseUp)):(a.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),a.window.document.addEventListener("mouseup",this._onMouseUp)),a.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[a.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=b.mousePos(this._el,s),this._center=this._map.transform.centerPoint,s.preventDefault()}},Bn.prototype._onMouseMove=function(s){var c=b.mousePos(this._el,s);this._lastPos.equals(c)||(this._lastMoveEvent=s,this._lastPos=c,this._state==="pending"&&(this._state="active",this._fireEvent("rotatestart",s),this._fireEvent("movestart",s),this._pitchWithRotate&&this._fireEvent("pitchstart",s)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Bn.prototype._onDragFrame=function(){this._frameId=null;var s=this._lastMoveEvent;if(s){var c=this._map.transform,u=this._prevPos,h=this._lastPos,g=.8*(u.x-h.x),_=-.5*(u.y-h.y),C=c.bearing-g,S=c.pitch-_,I=this._inertia,z=I[I.length-1];this._drainInertiaBuffer(),I.push([a.browser.now(),this._map._normalizeBearing(C,z[1])]);var L=c.bearing;if(c.bearing=C,this._pitchWithRotate){var Z=c.pitch;c.pitch=S,c.pitch!==Z&&this._fireEvent("pitch",s)}c.bearing!==L&&this._fireEvent("rotate",s),this._fireEvent("move",s),delete this._lastMoveEvent,this._prevPos=this._lastPos}},Bn.prototype._onMouseUp=function(s){var c=s.type==="touchend";if(c&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),c||b.mouseButton(s)===this._eventButton)switch(this._state){case"active":this._state="enabled",b.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(s);break;case"pending":this._state="enabled",this._unbind()}},Bn.prototype._onBlur=function(s){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",s),this._pitchWithRotate&&this._fireEvent("pitchend",s),this._fireEvent("moveend",s);break;case"pending":this._state="enabled",this._unbind()}},Bn.prototype._unbind=function(){a.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),a.window.document.removeEventListener("mouseup",this._onMouseUp),a.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),a.window.document.removeEventListener("touchend",this._onMouseUp),a.window.removeEventListener("blur",this._onBlur),b.enableDrag()},Bn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},Bn.prototype._inertialRotate=function(s){var c=this;this._fireEvent("rotateend",s),this._drainInertiaBuffer();var u=this._map,h=u.getBearing(),g=this._inertia,_=function(){Math.abs(h)<c._bearingSnap?u.resetNorth({noMoveStart:!0},{originalEvent:s}):c._fireEvent("moveend",s),c._pitchWithRotate&&c._fireEvent("pitchend",s)};if(g.length<2)_();else{var C=g[0],S=g[g.length-1],I=g[g.length-2],z=u._normalizeBearing(h,I[1]),L=S[1]-C[1],Z=L<0?-1:1,Y=(S[0]-C[0])/1e3;if(L!==0&&Y!==0){var K=Math.abs(L*(.25/Y));K>180&&(K=180);var tt=K/180;z+=Z*K*(tt/2),Math.abs(u._normalizeBearing(z,0))<this._bearingSnap&&(z=u._normalizeBearing(0,z)),u.rotateTo(z,{duration:1e3*tt,easing:Is,noMoveStart:!0},{originalEvent:s})}else _()}},Bn.prototype._fireEvent=function(s,c){return this._map.fire(new a.Event(s,c?{originalEvent:c}:{}))},Bn.prototype._drainInertiaBuffer=function(){for(var s=this._inertia,c=a.browser.now();s.length>0&&c-s[0][0]>160;)s.shift()};var Gl={linearity:.3,easing:a.bezier(0,0,.3,1),maxSpeed:1400,deceleration:2500},Yt=function(s,c){this._map=s,this._el=s.getCanvasContainer(),this._state="disabled",this._clickTolerance=c.clickTolerance||1,this._inertiaOptions=Gl,a.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Yt.prototype.isEnabled=function(){return this._state!=="disabled"},Yt.prototype.isActive=function(){return this._state==="active"},Yt.prototype.enable=function(s){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled",this._inertiaOptions=a.extend(Gl,s))},Yt.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Yt.prototype.onMouseDown=function(s){this._state==="enabled"&&(s.ctrlKey||b.mouseButton(s)!==0||(b.addEventListener(a.window.document,"mousemove",this._onMove,{capture:!0}),b.addEventListener(a.window.document,"mouseup",this._onMouseUp),this._start(s)))},Yt.prototype.onTouchStart=function(s){this.isEnabled()&&(s.touches&&s.touches.length>1&&(this._state==="pending"||this._state==="active")||(b.addEventListener(a.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),b.addEventListener(a.window.document,"touchend",this._onTouchEnd),this._start(s)))},Yt.prototype._start=function(s){a.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=b.mousePos(this._el,s),this._startTouch=this._lastTouch=a.window.TouchEvent&&s instanceof a.window.TouchEvent?b.touchPos(this._el,s):null,this._inertia=[[a.browser.now(),this._startPos]]},Yt.prototype._touchesMatch=function(s,c){return!(!s||!c||s.length!==c.length)&&s.every(function(u,h){return c[h]===u})},Yt.prototype._onMove=function(s){s.preventDefault();var c=a.window.TouchEvent&&s instanceof a.window.TouchEvent?b.touchPos(this._el,s):null,u=b.mousePos(this._el,s);(c?this._touchesMatch(this._lastTouch,c):this._lastPos.equals(u))||this._state==="pending"&&u.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=s,this._lastPos=u,this._lastTouch=c,this._drainInertiaBuffer(),this._inertia.push([a.browser.now(),this._lastPos]),this._state==="pending"&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Yt.prototype._onDragFrame=function(){this._frameId=null;var s=this._lastMoveEvent;if(s){if(this._map.touchZoomRotate.isActive())this._abort(s);else if(this._shouldStart&&(this._fireEvent("dragstart",s),this._fireEvent("movestart",s),this._shouldStart=!1),this.isActive()){var c=this._map.transform;c.setLocationAtPoint(c.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",s),this._fireEvent("move",s),this._prevPos=this._lastPos,delete this._lastMoveEvent}}},Yt.prototype._onMouseUp=function(s){if(b.mouseButton(s)===0)switch(this._state){case"active":this._state="enabled",b.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(s);break;case"pending":this._state="enabled",this._unbind()}},Yt.prototype._onTouchEnd=function(s){if(s.touches&&s.touches.length!==0)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(s)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(s);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Yt.prototype._abort=function(s){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",s),this._fireEvent("moveend",s)),this._unbind(),this._deactivate(),a.window.TouchEvent&&s instanceof a.window.TouchEvent&&s.touches.length>1&&b.addEventListener(a.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Yt.prototype._onBlur=function(s){this._abort(s)},Yt.prototype._unbind=function(){b.removeEventListener(a.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),b.removeEventListener(a.window.document,"touchend",this._onTouchEnd),b.removeEventListener(a.window.document,"mousemove",this._onMove,{capture:!0}),b.removeEventListener(a.window.document,"mouseup",this._onMouseUp),b.removeEventListener(a.window,"blur",this._onBlur)},Yt.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},Yt.prototype._inertialPan=function(s){this._fireEvent("dragend",s),this._drainInertiaBuffer();var c=this._inertia;if(c.length<2)this._fireEvent("moveend",s);else{var u=c[c.length-1],h=c[0],g=u[1].sub(h[1]),_=(u[0]-h[0])/1e3;if(_===0||u[1].equals(h[1]))this._fireEvent("moveend",s);else{var C=this._inertiaOptions,S=C.linearity,I=C.easing,z=C.maxSpeed,L=C.deceleration,Z=g.mult(S/_),Y=Z.mag();Y>z&&(Y=z,Z._unit()._mult(Y));var K=Y/(L*S),tt=Z.mult(-K/2);this._map.panBy(tt,{duration:1e3*K,easing:I,noMoveStart:!0},{originalEvent:s})}}},Yt.prototype._fireEvent=function(s,c){return this._map.fire(new a.Event(s,c?{originalEvent:c}:{}))},Yt.prototype._drainInertiaBuffer=function(){for(var s=this._inertia,c=a.browser.now();s.length>0&&c-s[0][0]>160;)s.shift()};var Wa=function(s){this._map=s,this._el=s.getCanvasContainer(),a.bindAll(["_onKeyDown"],this)};function Nd(s){return s*(2-s)}Wa.prototype.isEnabled=function(){return!!this._enabled},Wa.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Wa.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Wa.prototype._onKeyDown=function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=0,u=0,h=0,g=0,_=0;switch(s.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:s.shiftKey?u=-1:(s.preventDefault(),g=-1);break;case 39:s.shiftKey?u=1:(s.preventDefault(),g=1);break;case 38:s.shiftKey?h=1:(s.preventDefault(),_=-1);break;case 40:s.shiftKey?h=-1:(_=1,s.preventDefault());break;default:return}var C=this._map,S=C.getZoom(),I={duration:300,delayEndEvents:500,easing:Nd,zoom:c?Math.round(S)+c*(s.shiftKey?2:1):S,bearing:C.getBearing()+15*u,pitch:C.getPitch()+10*h,offset:[100*-g,100*-_],center:C.getCenter()};C.easeTo(I,{originalEvent:s})}};var io=function(s){this._map=s,a.bindAll(["_onDblClick","_onZoomEnd"],this)};io.prototype.isEnabled=function(){return!!this._enabled},io.prototype.isActive=function(){return!!this._active},io.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},io.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},io.prototype.onTouchStart=function(s){var c=this;if(this.isEnabled()&&!(s.points.length>1))if(this._tapped){var u=s.points[0],h=this._tappedPoint;if(h&&h.dist(u)<=30){s.originalEvent.preventDefault();var g=function(){c._tapped&&c._zoom(s),c._map.off("touchcancel",_),c._resetTapped()},_=function(){c._map.off("touchend",g),c._resetTapped()};this._map.once("touchend",g),this._map.once("touchcancel",_)}else this._resetTapped()}else this._tappedPoint=s.points[0],this._tapped=setTimeout(function(){c._tapped=null,c._tappedPoint=null},300)},io.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},io.prototype.onDblClick=function(s){this.isEnabled()&&(s.originalEvent.preventDefault(),this._zoom(s))},io.prototype._zoom=function(s){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(s.originalEvent.shiftKey?-1:1),{around:s.lngLat},s)},io.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var sh=a.bezier(0,0,.15,1),zi=function(s){this._map=s,this._el=s.getCanvasContainer(),a.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};zi.prototype.isEnabled=function(){return!!this._enabled},zi.prototype.enable=function(s){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!s&&s.around==="center")},zi.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},zi.prototype.disableRotation=function(){this._rotationDisabled=!0},zi.prototype.enableRotation=function(){this._rotationDisabled=!1},zi.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},zi.prototype.onStart=function(s){if(this.isEnabled()&&s.touches.length===2){var c=b.mousePos(this._el,s.touches[0]),u=b.mousePos(this._el,s.touches[1]),h=c.add(u).div(2);this._startVec=c.sub(u),this._startAround=this._map.transform.pointLocation(h),this._gestureIntent=void 0,this._inertia=[],b.addEventListener(a.window.document,"touchmove",this._onMove,{passive:!1}),b.addEventListener(a.window.document,"touchend",this._onEnd)}},zi.prototype._getTouchEventData=function(s){var c=b.mousePos(this._el,s.touches[0]),u=b.mousePos(this._el,s.touches[1]),h=c.sub(u);return{vec:h,center:c.add(u).div(2),scale:h.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*h.angleWith(this._startVec)/Math.PI}},zi.prototype._onMove=function(s){if(s.touches.length===2){var c=this._getTouchEventData(s),u=c.vec,h=c.scale,g=c.bearing;if(!this._gestureIntent){var _=this._rotationDisabled&&h!==1||Math.abs(1-h)>.15;Math.abs(g)>10?this._gestureIntent="rotate":_&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new a.Event(this._gestureIntent+"start",{originalEvent:s})),this._map.fire(new a.Event("movestart",{originalEvent:s})),this._startVec=u)}this._lastTouchEvent=s,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),s.preventDefault()}},zi.prototype._onTouchFrame=function(){this._frameId=null;var s=this._gestureIntent;if(s){var c=this._map.transform;this._startScale||(this._startScale=c.scale,this._startBearing=c.bearing);var u=this._getTouchEventData(this._lastTouchEvent),h=u.center,g=u.bearing,_=u.scale,C=c.pointLocation(h),S=c.locationPoint(C);s==="rotate"&&(c.bearing=this._startBearing+g),c.zoom=c.scaleZoom(this._startScale*_),c.setLocationAtPoint(this._startAround,S),this._map.fire(new a.Event(s,{originalEvent:this._lastTouchEvent})),this._map.fire(new a.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([a.browser.now(),_,h])}},zi.prototype._onEnd=function(s){b.removeEventListener(a.window.document,"touchmove",this._onMove,{passive:!1}),b.removeEventListener(a.window.document,"touchend",this._onEnd);var c=this._gestureIntent,u=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,c){this._map.fire(new a.Event(c+"end",{originalEvent:s})),this._drainInertiaBuffer();var h=this._inertia,g=this._map;if(h.length<2)g.snapToNorth({},{originalEvent:s});else{var _=h[h.length-1],C=h[0],S=g.transform.scaleZoom(u*_[1]),I=g.transform.scaleZoom(u*C[1]),z=S-I,L=(_[0]-C[0])/1e3,Z=_[2];if(L!==0&&S!==I){var Y=.15*z/L;Math.abs(Y)>2.5&&(Y=Y>0?2.5:-2.5);var K=1e3*Math.abs(Y/(12*.15)),tt=S+Y*K/2e3;g.easeTo({zoom:tt,duration:K,easing:sh,around:this._aroundCenter?g.getCenter():g.unproject(Z),noMoveStart:!0},{originalEvent:s})}else g.snapToNorth({},{originalEvent:s})}}},zi.prototype._drainInertiaBuffer=function(){for(var s=this._inertia,c=a.browser.now();s.length>2&&c-s[0][0]>160;)s.shift()};var lh={scrollZoom:Ri,boxZoom:no,dragRotate:Bn,dragPan:Yt,keyboard:Wa,doubleClickZoom:io,touchZoomRotate:zi},Ud=function(s){function c(u,h){s.call(this),this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=h.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},c.prototype.setCenter=function(u,h){return this.jumpTo({center:u},h)},c.prototype.panBy=function(u,h,g){return u=a.Point.convert(u).mult(-1),this.panTo(this.transform.center,a.extend({offset:u},h),g)},c.prototype.panTo=function(u,h,g){return this.easeTo(a.extend({center:u},h),g)},c.prototype.getZoom=function(){return this.transform.zoom},c.prototype.setZoom=function(u,h){return this.jumpTo({zoom:u},h),this},c.prototype.zoomTo=function(u,h,g){return this.easeTo(a.extend({zoom:u},h),g)},c.prototype.zoomIn=function(u,h){return this.zoomTo(this.getZoom()+1,u,h),this},c.prototype.zoomOut=function(u,h){return this.zoomTo(this.getZoom()-1,u,h),this},c.prototype.getBearing=function(){return this.transform.bearing},c.prototype.setBearing=function(u,h){return this.jumpTo({bearing:u},h),this},c.prototype.rotateTo=function(u,h,g){return this.easeTo(a.extend({bearing:u},h),g)},c.prototype.resetNorth=function(u,h){return this.rotateTo(0,a.extend({duration:1e3},u),h),this},c.prototype.resetNorthPitch=function(u,h){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},u),h),this},c.prototype.snapToNorth=function(u,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,h):this},c.prototype.getPitch=function(){return this.transform.pitch},c.prototype.setPitch=function(u,h){return this.jumpTo({pitch:u},h),this},c.prototype.cameraForBounds=function(u,h){return u=a.LngLatBounds.convert(u),this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),0,h)},c.prototype._cameraForBoxAndBearing=function(u,h,g,_){if(typeof(_=a.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){var C=_.padding;_.padding={top:C,bottom:C,right:C,left:C}}if(a.deepEqual(Object.keys(_.padding).sort(function(zt,Ut){return zt<Ut?-1:zt>Ut?1:0}),["bottom","left","right","top"])){var S=this.transform,I=S.project(a.LngLat.convert(u)),z=S.project(a.LngLat.convert(h)),L=I.rotate(-g*Math.PI/180),Z=z.rotate(-g*Math.PI/180),Y=new a.Point(Math.max(L.x,Z.x),Math.max(L.y,Z.y)),K=new a.Point(Math.min(L.x,Z.x),Math.min(L.y,Z.y)),tt=Y.sub(K),J=(S.width-_.padding.left-_.padding.right)/tt.x,ft=(S.height-_.padding.top-_.padding.bottom)/tt.y;if(!(ft<0||J<0)){var ht=Math.min(S.scaleZoom(S.scale*Math.min(J,ft)),_.maxZoom),_t=a.Point.convert(_.offset),gt=(_.padding.left-_.padding.right)/2,bt=(_.padding.top-_.padding.bottom)/2,Mt=new a.Point(_t.x+gt,_t.y+bt).mult(S.scale/S.zoomScale(ht));return{center:S.unproject(I.add(z).div(2).sub(Mt)),zoom:ht,bearing:g}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else a.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},c.prototype.fitBounds=function(u,h,g){return this._fitInternal(this.cameraForBounds(u,h),h,g)},c.prototype.fitScreenCoordinates=function(u,h,g,_,C){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(u)),this.transform.pointLocation(a.Point.convert(h)),g,_),_,C)},c.prototype._fitInternal=function(u,h,g){return u?(h=a.extend(u,h)).linear?this.easeTo(h,g):this.flyTo(h,g):this},c.prototype.jumpTo=function(u,h){this.stop();var g=this.transform,_=!1,C=!1,S=!1;return"zoom"in u&&g.zoom!==+u.zoom&&(_=!0,g.zoom=+u.zoom),u.center!==void 0&&(g.center=a.LngLat.convert(u.center)),"bearing"in u&&g.bearing!==+u.bearing&&(C=!0,g.bearing=+u.bearing),"pitch"in u&&g.pitch!==+u.pitch&&(S=!0,g.pitch=+u.pitch),this.fire(new a.Event("movestart",h)).fire(new a.Event("move",h)),_&&this.fire(new a.Event("zoomstart",h)).fire(new a.Event("zoom",h)).fire(new a.Event("zoomend",h)),C&&this.fire(new a.Event("rotatestart",h)).fire(new a.Event("rotate",h)).fire(new a.Event("rotateend",h)),S&&this.fire(new a.Event("pitchstart",h)).fire(new a.Event("pitch",h)).fire(new a.Event("pitchend",h)),this.fire(new a.Event("moveend",h))},c.prototype.easeTo=function(u,h){var g=this;this.stop(),((u=a.extend({offset:[0,0],duration:500,easing:a.ease},u)).animate===!1||!u.essential&&a.browser.prefersReducedMotion)&&(u.duration=0);var _=this.transform,C=this.getZoom(),S=this.getBearing(),I=this.getPitch(),z="zoom"in u?+u.zoom:C,L="bearing"in u?this._normalizeBearing(u.bearing,S):S,Z="pitch"in u?+u.pitch:I,Y=_.centerPoint.add(a.Point.convert(u.offset)),K=_.pointLocation(Y),tt=a.LngLat.convert(u.center||K);this._normalizeCenter(tt);var J,ft,ht=_.project(K),_t=_.project(tt).sub(ht),gt=_.zoomScale(z-C);return u.around&&(J=a.LngLat.convert(u.around),ft=_.locationPoint(J)),this._zooming=z!==C,this._rotating=S!==L,this._pitching=Z!==I,this._prepareEase(h,u.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(bt){if(g._zooming&&(_.zoom=a.number(C,z,bt)),g._rotating&&(_.bearing=a.number(S,L,bt)),g._pitching&&(_.pitch=a.number(I,Z,bt)),J)_.setLocationAtPoint(J,ft);else{var Mt=_.zoomScale(_.zoom-C),zt=z>C?Math.min(2,gt):Math.max(.5,gt),Ut=Math.pow(zt,1-bt),se=_.unproject(ht.add(_t.mult(bt*Ut)).mult(Mt));_.setLocationAtPoint(_.renderWorldCopies?se.wrap():se,Y)}g._fireMoveEvents(h)},function(){u.delayEndEvents?g._easeEndTimeoutID=setTimeout(function(){return g._afterEase(h)},u.delayEndEvents):g._afterEase(h)},u),this},c.prototype._prepareEase=function(u,h){this._moving=!0,h||this.fire(new a.Event("movestart",u)),this._zooming&&this.fire(new a.Event("zoomstart",u)),this._rotating&&this.fire(new a.Event("rotatestart",u)),this._pitching&&this.fire(new a.Event("pitchstart",u))},c.prototype._fireMoveEvents=function(u){this.fire(new a.Event("move",u)),this._zooming&&this.fire(new a.Event("zoom",u)),this._rotating&&this.fire(new a.Event("rotate",u)),this._pitching&&this.fire(new a.Event("pitch",u))},c.prototype._afterEase=function(u){var h=this._zooming,g=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,h&&this.fire(new a.Event("zoomend",u)),g&&this.fire(new a.Event("rotateend",u)),_&&this.fire(new a.Event("pitchend",u)),this.fire(new a.Event("moveend",u))},c.prototype.flyTo=function(u,h){var g=this;if(!u.essential&&a.browser.prefersReducedMotion){var _=a.pick(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(_,h)}this.stop(),u=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},u);var C=this.transform,S=this.getZoom(),I=this.getBearing(),z=this.getPitch(),L="zoom"in u?a.clamp(+u.zoom,C.minZoom,C.maxZoom):S,Z="bearing"in u?this._normalizeBearing(u.bearing,I):I,Y="pitch"in u?+u.pitch:z,K=C.zoomScale(L-S),tt=C.centerPoint.add(a.Point.convert(u.offset)),J=C.pointLocation(tt),ft=a.LngLat.convert(u.center||J);this._normalizeCenter(ft);var ht=C.project(J),_t=C.project(ft).sub(ht),gt=u.curve,bt=Math.max(C.width,C.height),Mt=bt/K,zt=_t.mag();if("minZoom"in u){var Ut=a.clamp(Math.min(u.minZoom,S,L),C.minZoom,C.maxZoom),se=bt/C.zoomScale(Ut-S);gt=Math.sqrt(se/zt*2)}var re=gt*gt;function fe(Ye){var Ke=(Mt*Mt-bt*bt+(Ye?-1:1)*re*re*zt*zt)/(2*(Ye?Mt:bt)*re*zt);return Math.log(Math.sqrt(Ke*Ke+1)-Ke)}function ee(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function Te(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}var le=fe(0),Be=function(Ye){return Te(le)/Te(le+gt*Ye)},je=function(Ye){return bt*((Te(le)*(ee(Ke=le+gt*Ye)/Te(Ke))-ee(le))/re)/zt;var Ke},Re=(fe(1)-le)/gt;if(Math.abs(zt)<1e-6||!isFinite(Re)){if(Math.abs(bt-Mt)<1e-6)return this.easeTo(u,h);var Fe=Mt<bt?-1:1;Re=Math.abs(Math.log(Mt/bt))/gt,je=function(){return 0},Be=function(Ye){return Math.exp(Fe*gt*Ye)}}if("duration"in u)u.duration=+u.duration;else{var kr="screenSpeed"in u?+u.screenSpeed/gt:+u.speed;u.duration=1e3*Re/kr}return u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=I!==Z,this._pitching=Y!==z,this._prepareEase(h,!1),this._ease(function(Ye){var Ke=Ye*Re,wn=1/Be(Ke);C.zoom=Ye===1?L:S+C.scaleZoom(wn),g._rotating&&(C.bearing=a.number(I,Z,Ye)),g._pitching&&(C.pitch=a.number(z,Y,Ye));var br=Ye===1?ft:C.unproject(ht.add(_t.mult(je(Ke))).mult(wn));C.setLocationAtPoint(C.renderWorldCopies?br.wrap():br,tt),g._fireMoveEvents(h)},function(){return g._afterEase(h)},u),this},c.prototype.isEasing=function(){return!!this._easeFrameId},c.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var u=this._onEaseEnd;delete this._onEaseEnd,u.call(this)}return this},c.prototype._ease=function(u,h,g){g.animate===!1||g.duration===0?(u(1),h()):(this._easeStart=a.browser.now(),this._easeOptions=g,this._onEaseFrame=u,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},c.prototype._renderFrameCallback=function(){var u=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(u)),u<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},c.prototype._normalizeBearing=function(u,h){u=a.wrap(u,-180,180);var g=Math.abs(u-h);return Math.abs(u-360-h)<g&&(u-=360),Math.abs(u+360-h)<g&&(u+=360),u},c.prototype._normalizeCenter=function(u){var h=this.transform;if(h.renderWorldCopies&&!h.lngRange){var g=u.lng-h.center.lng;u.lng+=g>180?-360:g<-180?360:0}},c}(a.Evented),mo=function(s){s===void 0&&(s={}),this.options=s,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};mo.prototype.getDefaultPosition=function(){return"bottom-right"},mo.prototype.onAdd=function(s){var c=this.options&&this.options.compact;return this._map=s,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),c&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),c===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},mo.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},mo.prototype._updateEditLink=function(){var s=this._editLink;s||(s=this._editLink=this._container.querySelector(".mapbox-improve-map"));var c=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(s){var u=c.reduce(function(h,g,_){return g.value&&(h+=g.key+"="+g.value+(_<c.length-1?"&":"")),h},"?");s.href=a.config.FEEDBACK_URL+"/"+u+(this._map._hash?this._map._hash.getHashString(!0):""),s.rel="noopener nofollow"}},mo.prototype._updateData=function(s){!s||s.sourceDataType!=="metadata"&&s.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},mo.prototype._updateAttributions=function(){if(this._map.style){var s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map(function(S){return typeof S!="string"?"":S})):typeof this.options.customAttribution=="string"&&s.push(this.options.customAttribution)),this._map.style.stylesheet){var c=this._map.style.stylesheet;this.styleOwner=c.owner,this.styleId=c.id}var u=this._map.style.sourceCaches;for(var h in u){var g=u[h];if(g.used){var _=g.getSource();_.attribution&&s.indexOf(_.attribution)<0&&s.push(_.attribution)}}s.sort(function(S,I){return S.length-I.length});var C=(s=s.filter(function(S,I){for(var z=I+1;z<s.length;z++)if(s[z].indexOf(S)>=0)return!1;return!0})).join(" | ");C!==this._attribHTML&&(this._attribHTML=C,s.length?(this._innerContainer.innerHTML=C,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},mo.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var qo=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};qo.prototype.onAdd=function(s){this._map=s,this._container=b.create("div","mapboxgl-ctrl");var c=b.create("a","mapboxgl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://goong.io/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},qo.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},qo.prototype.getDefaultPosition=function(){return"bottom-left"},qo.prototype._updateLogo=function(s){s&&s.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},qo.prototype._logoRequired=function(){return!0},qo.prototype._updateCompact=function(){var s=this._container.children;if(s.length){var c=s[0];this._map.getCanvasContainer().offsetWidth<250?c.classList.add("mapboxgl-compact"):c.classList.remove("mapboxgl-compact")}};var Ha=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ha.prototype.add=function(s){var c=++this._id;return this._queue.push({callback:s,id:c,cancelled:!1}),c},Ha.prototype.remove=function(s){for(var c=this._currentlyRunning,u=0,h=c?this._queue.concat(c):this._queue;u<h.length;u+=1){var g=h[u];if(g.id===s)return void(g.cancelled=!0)}},Ha.prototype.run=function(){var s=this._currentlyRunning=this._queue;this._queue=[];for(var c=0,u=s;c<u.length;c+=1){var h=u[c];if(!h.cancelled&&(h.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ha.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var vc={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Goong logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Pi=a.window.HTMLImageElement,fa=a.window.HTMLElement,Ga=a.window.ImageBitmap,_c={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},bc=function(s){function c(h){var g=this;if((h=a.extend({},_c,h)).minZoom!=null&&h.maxZoom!=null&&h.minZoom>h.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(h.minPitch!=null&&h.maxPitch!=null&&h.minPitch>h.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(h.minPitch!=null&&h.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(h.maxPitch!=null&&h.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var _=new gr(h.minZoom,h.maxZoom,h.minPitch,h.maxPitch,h.renderWorldCopies);if(s.call(this,_,h),this._interactive=h.interactive,this._maxTileCacheSize=h.maxTileCacheSize,this._failIfMajorPerformanceCaveat=h.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=h.preserveDrawingBuffer,this._antialias=h.antialias,this._trackResize=h.trackResize,this._bearingSnap=h.bearingSnap,this._refreshExpiredTiles=h.refreshExpiredTiles,this._fadeDuration=h.fadeDuration,this._crossSourceCollisions=h.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=h.collectResourceTiming,this._renderTaskQueue=new Ha,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},vc,h.locale),this._requestManager=new a.RequestManager(h.transformRequest,h.accessToken),typeof h.container=="string"){if(this._container=a.window.document.getElementById(h.container),!this._container)throw new Error("Container '"+h.container+"' not found.")}else{if(!(h.container instanceof fa))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=h.container}if(h.maxBounds&&this.setMaxBounds(h.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return g._update(!1)}),this.on("moveend",function(){return g._update(!1)}),this.on("zoom",function(){return g._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),function(S,I){var z=S.getCanvasContainer(),L=null,Z=!1,Y=null;for(var K in lh)S[K]=new lh[K](S,I),I.interactive&&I[K]&&S[K].enable(I[K]);b.addEventListener(z,"mouseout",function(tt){S.fire(new yi("mouseout",S,tt))}),b.addEventListener(z,"mousedown",function(tt){Z=!0,Y=b.mousePos(z,tt);var J=new yi("mousedown",S,tt);S.fire(J),!J.defaultPrevented&&(I.interactive&&!S.doubleClickZoom.isActive()&&S.stop(),S.boxZoom.onMouseDown(tt),S.boxZoom.isActive()||S.dragPan.isActive()||S.dragRotate.onMouseDown(tt),S.boxZoom.isActive()||S.dragRotate.isActive()||S.dragPan.onMouseDown(tt))}),b.addEventListener(z,"mouseup",function(tt){var J=S.dragRotate.isActive();L&&!J&&S.fire(new yi("contextmenu",S,L)),L=null,Z=!1,S.fire(new yi("mouseup",S,tt))}),b.addEventListener(z,"mousemove",function(tt){if(!S.dragPan.isActive()&&!S.dragRotate.isActive()){for(var J=tt.target;J&&J!==z;)J=J.parentNode;J===z&&S.fire(new yi("mousemove",S,tt))}}),b.addEventListener(z,"mouseover",function(tt){for(var J=tt.target;J&&J!==z;)J=J.parentNode;J===z&&S.fire(new yi("mouseover",S,tt))}),b.addEventListener(z,"touchstart",function(tt){var J=new me("touchstart",S,tt);S.fire(J),!J.defaultPrevented&&(I.interactive&&S.stop(),S.boxZoom.isActive()||S.dragRotate.isActive()||S.dragPan.onTouchStart(tt),S.touchZoomRotate.onStart(tt),S.doubleClickZoom.onTouchStart(J))},{passive:!1}),b.addEventListener(z,"touchmove",function(tt){S.fire(new me("touchmove",S,tt))},{passive:!1}),b.addEventListener(z,"touchend",function(tt){S.fire(new me("touchend",S,tt))}),b.addEventListener(z,"touchcancel",function(tt){S.fire(new me("touchcancel",S,tt))}),b.addEventListener(z,"click",function(tt){var J=b.mousePos(z,tt);(!Y||J.equals(Y)||J.dist(Y)<I.clickTolerance)&&S.fire(new yi("click",S,tt))}),b.addEventListener(z,"dblclick",function(tt){var J=new yi("dblclick",S,tt);S.fire(J),!J.defaultPrevented&&S.doubleClickZoom.onDblClick(J)}),b.addEventListener(z,"contextmenu",function(tt){var J=S.dragRotate.isActive();Z||J?Z&&(L=tt):S.fire(new yi("contextmenu",S,tt)),(S.dragRotate.isEnabled()||S.listens("contextmenu"))&&tt.preventDefault()}),b.addEventListener(z,"wheel",function(tt){I.interactive&&S.stop();var J=new gc("wheel",S,tt);S.fire(J),!J.defaultPrevented&&S.scrollZoom.onWheel(tt)},{passive:!1})}(this,h);var C=typeof h.hash=="string"&&h.hash||void 0;this._hash=h.hash&&new ha(C).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:h.center,zoom:h.zoom,bearing:h.bearing,pitch:h.pitch}),h.bounds&&(this.resize(),this.fitBounds(h.bounds,a.extend({},h.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=h.localIdeographFontFamily,h.style&&this.setStyle(h.style,{localIdeographFontFamily:h.localIdeographFontFamily}),h.attributionControl&&this.addControl(new mo({customAttribution:h.customAttribution})),this.addControl(new qo,h.logoPosition),this.on("style.load",function(){g.transform.unmodified&&g.jumpTo(g.style.stylesheet)}),this.on("data",function(S){g._update(S.dataType==="style"),g.fire(new a.Event(S.dataType+"data",S))}),this.on("dataloading",function(S){g.fire(new a.Event(S.dataType+"dataloading",S))})}s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c;var u={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return c.prototype._getMapId=function(){return this._mapId},c.prototype.addControl=function(h,g){if(g===void 0&&h.getDefaultPosition&&(g=h.getDefaultPosition()),g===void 0&&(g="top-right"),!h||!h.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var _=h.onAdd(this);this._controls.push(h);var C=this._controlPositions[g];return g.indexOf("bottom")!==-1?C.insertBefore(_,C.firstChild):C.appendChild(_),this},c.prototype.removeControl=function(h){if(!h||!h.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var g=this._controls.indexOf(h);return g>-1&&this._controls.splice(g,1),h.onRemove(this),this},c.prototype.resize=function(h){var g=this._containerDimensions(),_=g[0],C=g[1];return this._resizeCanvas(_,C),this.transform.resize(_,C),this.painter.resize(_,C),this.fire(new a.Event("movestart",h)).fire(new a.Event("move",h)).fire(new a.Event("resize",h)).fire(new a.Event("moveend",h)),this},c.prototype.getBounds=function(){return this.transform.getBounds()},c.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},c.prototype.setMaxBounds=function(h){return this.transform.setMaxBounds(a.LngLatBounds.convert(h)),this._update()},c.prototype.setMinZoom=function(h){if((h=h??-2)>=-2&&h<=this.transform.maxZoom)return this.transform.minZoom=h,this._update(),this.getZoom()<h&&this.setZoom(h),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},c.prototype.getMinZoom=function(){return this.transform.minZoom},c.prototype.setMaxZoom=function(h){if((h=h??22)>=this.transform.minZoom)return this.transform.maxZoom=h,this._update(),this.getZoom()>h&&this.setZoom(h),this;throw new Error("maxZoom must be greater than the current minZoom")},c.prototype.getMaxZoom=function(){return this.transform.maxZoom},c.prototype.setMinPitch=function(h){if((h=h??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(h>=0&&h<=this.transform.maxPitch)return this.transform.minPitch=h,this._update(),this.getPitch()<h&&this.setPitch(h),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},c.prototype.getMinPitch=function(){return this.transform.minPitch},c.prototype.setMaxPitch=function(h){if((h=h??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(h>=this.transform.minPitch)return this.transform.maxPitch=h,this._update(),this.getPitch()>h&&this.setPitch(h),this;throw new Error("maxPitch must be greater than the current minPitch")},c.prototype.getMaxPitch=function(){return this.transform.maxPitch},c.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},c.prototype.setRenderWorldCopies=function(h){return this.transform.renderWorldCopies=h,this._update()},c.prototype.project=function(h){return this.transform.locationPoint(a.LngLat.convert(h))},c.prototype.unproject=function(h){return this.transform.pointLocation(a.Point.convert(h))},c.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},c.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},c.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},c.prototype.on=function(h,g,_){var C=this;if(_===void 0)return s.prototype.on.call(this,h,g);var S=function(){var z;if(h==="mouseenter"||h==="mouseover"){var L=!1;return{layer:g,listener:_,delegates:{mousemove:function(Y){var K=C.getLayer(g)?C.queryRenderedFeatures(Y.point,{layers:[g]}):[];K.length?L||(L=!0,_.call(C,new yi(h,C,Y.originalEvent,{features:K}))):L=!1},mouseout:function(){L=!1}}}}if(h==="mouseleave"||h==="mouseout"){var Z=!1;return{layer:g,listener:_,delegates:{mousemove:function(Y){(C.getLayer(g)?C.queryRenderedFeatures(Y.point,{layers:[g]}):[]).length?Z=!0:Z&&(Z=!1,_.call(C,new yi(h,C,Y.originalEvent)))},mouseout:function(Y){Z&&(Z=!1,_.call(C,new yi(h,C,Y.originalEvent)))}}}}return{layer:g,listener:_,delegates:(z={},z[h]=function(Y){var K=C.getLayer(g)?C.queryRenderedFeatures(Y.point,{layers:[g]}):[];K.length&&(Y.features=K,_.call(C,Y),delete Y.features)},z)}}();for(var I in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[h]=this._delegatedListeners[h]||[],this._delegatedListeners[h].push(S),S.delegates)this.on(I,S.delegates[I]);return this},c.prototype.off=function(h,g,_){if(_===void 0)return s.prototype.off.call(this,h,g);if(this._delegatedListeners&&this._delegatedListeners[h])for(var C=this._delegatedListeners[h],S=0;S<C.length;S++){var I=C[S];if(I.layer===g&&I.listener===_){for(var z in I.delegates)this.off(z,I.delegates[z]);return C.splice(S,1),this}}return this},c.prototype.queryRenderedFeatures=function(h,g){if(!this.style)return[];var _;if(g!==void 0||h===void 0||h instanceof a.Point||Array.isArray(h)||(g=h,h=void 0),g=g||{},(h=h||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof h[0]=="number")_=[a.Point.convert(h)];else{var C=a.Point.convert(h[0]),S=a.Point.convert(h[1]);_=[C,new a.Point(S.x,C.y),S,new a.Point(C.x,S.y),C]}return this.style.queryRenderedFeatures(_,g,this.transform)},c.prototype.querySourceFeatures=function(h,g){return this.style.querySourceFeatures(h,g)},c.prototype.setStyle=function(h,g){return(g=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},g)).diff!==!1&&g.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&h?(this._diffStyle(h,g),this):(this._localIdeographFontFamily=g.localIdeographFontFamily,this._updateStyle(h,g))},c.prototype._getUIString=function(h){var g=this._locale[h];if(g==null)throw new Error("Missing UI string '"+h+"'");return g},c.prototype._updateStyle=function(h,g){return this.style&&(this.style.setEventedParent(null),this.style._remove()),h?(this.style=new En(this,g||{}),this.style.setEventedParent(this,{style:this.style}),typeof h=="string"?this.style.loadURL(h):this.style.loadJSON(h),this):(delete this.style,this)},c.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new En(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},c.prototype._diffStyle=function(h,g){var _=this;if(typeof h=="string"){var C=this._requestManager.normalizeStyleURL(h),S=this._requestManager.transformRequest(C,a.ResourceType.Style);a.getJSON(S,function(I,z){I?_.fire(new a.ErrorEvent(I)):z&&_._updateDiff(z,g)})}else typeof h=="object"&&this._updateDiff(h,g)},c.prototype._updateDiff=function(h,g){try{this.style.setState(h)&&this._update(!0)}catch(_){a.warnOnce("Unable to perform style diff: "+(_.message||_.error||_)+".  Rebuilding the style from scratch."),this._updateStyle(h,g)}},c.prototype.getStyle=function(){if(this.style)return this.style.serialize()},c.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},c.prototype.addSource=function(h,g){return this._lazyInitEmptyStyle(),this.style.addSource(h,g),this._update(!0)},c.prototype.isSourceLoaded=function(h){var g=this.style&&this.style.sourceCaches[h];if(g!==void 0)return g.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+h+"'")))},c.prototype.areTilesLoaded=function(){var h=this.style&&this.style.sourceCaches;for(var g in h){var _=h[g]._tiles;for(var C in _){var S=_[C];if(S.state!=="loaded"&&S.state!=="errored")return!1}}return!0},c.prototype.addSourceType=function(h,g,_){return this._lazyInitEmptyStyle(),this.style.addSourceType(h,g,_)},c.prototype.removeSource=function(h){return this.style.removeSource(h),this._update(!0)},c.prototype.getSource=function(h){return this.style.getSource(h)},c.prototype.addImage=function(h,g,_){_===void 0&&(_={});var C=_.pixelRatio;C===void 0&&(C=1);var S=_.sdf;S===void 0&&(S=!1);var I=_.stretchX,z=_.stretchY,L=_.content;if(this._lazyInitEmptyStyle(),g instanceof Pi||Ga&&g instanceof Ga){var Z=a.browser.getImageData(g),Y=Z.width,K=Z.height,tt=Z.data;this.style.addImage(h,{data:new a.RGBAImage({width:Y,height:K},tt),pixelRatio:C,stretchX:I,stretchY:z,content:L,sdf:S,version:0})}else{if(g.width===void 0||g.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var J=g.width,ft=g.height,ht=g.data,_t=g;this.style.addImage(h,{data:new a.RGBAImage({width:J,height:ft},new Uint8Array(ht)),pixelRatio:C,stretchX:I,stretchY:z,content:L,sdf:S,version:0,userImage:_t}),_t.onAdd&&_t.onAdd(this,h)}},c.prototype.updateImage=function(h,g){var _=this.style.getImage(h);if(!_)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var C=g instanceof Pi||Ga&&g instanceof Ga?a.browser.getImageData(g):g,S=C.width,I=C.height,z=C.data;if(S===void 0||I===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(S!==_.data.width||I!==_.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var L=!(g instanceof Pi||Ga&&g instanceof Ga);_.data.replace(z,L),this.style.updateImage(h,_)},c.prototype.hasImage=function(h){return h?!!this.style.getImage(h):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},c.prototype.removeImage=function(h){this.style.removeImage(h)},c.prototype.loadImage=function(h,g){a.getImage(this._requestManager.transformRequest(h,a.ResourceType.Image),g)},c.prototype.listImages=function(){return this.style.listImages()},c.prototype.addLayer=function(h,g){return this._lazyInitEmptyStyle(),this.style.addLayer(h,g),this._update(!0)},c.prototype.moveLayer=function(h,g){return this.style.moveLayer(h,g),this._update(!0)},c.prototype.removeLayer=function(h){return this.style.removeLayer(h),this._update(!0)},c.prototype.getLayer=function(h){return this.style.getLayer(h)},c.prototype.setLayerZoomRange=function(h,g,_){return this.style.setLayerZoomRange(h,g,_),this._update(!0)},c.prototype.setFilter=function(h,g,_){return _===void 0&&(_={}),this.style.setFilter(h,g,_),this._update(!0)},c.prototype.getFilter=function(h){return this.style.getFilter(h)},c.prototype.setPaintProperty=function(h,g,_,C){return C===void 0&&(C={}),this.style.setPaintProperty(h,g,_,C),this._update(!0)},c.prototype.getPaintProperty=function(h,g){return this.style.getPaintProperty(h,g)},c.prototype.setLayoutProperty=function(h,g,_,C){return C===void 0&&(C={}),this.style.setLayoutProperty(h,g,_,C),this._update(!0)},c.prototype.getLayoutProperty=function(h,g){return this.style.getLayoutProperty(h,g)},c.prototype.setLight=function(h,g){return g===void 0&&(g={}),this._lazyInitEmptyStyle(),this.style.setLight(h,g),this._update(!0)},c.prototype.getLight=function(){return this.style.getLight()},c.prototype.setFeatureState=function(h,g){return this.style.setFeatureState(h,g),this._update()},c.prototype.removeFeatureState=function(h,g){return this.style.removeFeatureState(h,g),this._update()},c.prototype.getFeatureState=function(h){return this.style.getFeatureState(h)},c.prototype.getContainer=function(){return this._container},c.prototype.getCanvasContainer=function(){return this._canvasContainer},c.prototype.getCanvas=function(){return this._canvas},c.prototype._containerDimensions=function(){var h=0,g=0;return this._container&&(h=this._container.clientWidth||400,g=this._container.clientHeight||300),[h,g]},c.prototype._detectMissingCSS=function(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Goong GL JS, which may cause the map to display incorrectly. Please ensure your page includes goong-js.css, as described in https://docs.goong.io/javascript/.")},c.prototype._setupContainer=function(){var h=this._container;h.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",h)).style.visibility="hidden",this._detectMissingCSS();var g=this._canvasContainer=b.create("div","mapboxgl-canvas-container",h);this._interactive&&g.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",g),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var _=this._containerDimensions();this._resizeCanvas(_[0],_[1]);var C=this._controlContainer=b.create("div","mapboxgl-control-container",h),S=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(I){S[I]=b.create("div","mapboxgl-ctrl-"+I,C)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},c.prototype._resizeCanvas=function(h,g){var _=a.browser.devicePixelRatio||1;this._canvas.width=_*h,this._canvas.height=_*g,this._canvas.style.width=h+"px",this._canvas.style.height=g+"px"},c.prototype._setupPainter=function(){var h=a.extend({},x.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),g=this._canvas.getContext("webgl",h)||this._canvas.getContext("experimental-webgl",h);g?(this.painter=new _n(g,this.transform),a.webpSupported.testSupport(g)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},c.prototype._contextLost=function(h){h.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:h}))},c.prototype._contextRestored=function(h){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:h}))},c.prototype._onMapScroll=function(h){if(h.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},c.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},c.prototype._update=function(h){return this.style?(this._styleDirty=this._styleDirty||h,this._sourcesDirty=!0,this.triggerRepaint(),this):this},c.prototype._requestRenderFrame=function(h){return this._update(),this._renderTaskQueue.add(h)},c.prototype._cancelRenderFrame=function(h){this._renderTaskQueue.remove(h)},c.prototype._render=function(){var h,g=this,_=0,C=this.painter.context.extTimerQuery;this.listens("gpu-timing-frame")&&(h=C.createQueryEXT(),C.beginQueryEXT(C.TIME_ELAPSED_EXT,h),_=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var S=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var I=this.transform.zoom,z=a.browser.now();this.style.zoomHistory.update(I,z);var L=new a.EvaluationParameters(I,{now:z,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Z=L.crossFadingFactor();Z===1&&Z===this._crossFadingFactor||(S=!0,this._crossFadingFactor=Z),this.style.update(L)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),gpuTiming:!!this.listens("gpu-timing-layer"),fadeDuration:this._fadeDuration}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||S)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Y=a.browser.now()-_;C.endQueryEXT(C.TIME_ELAPSED_EXT,h),setTimeout(function(){var tt=C.getQueryObjectEXT(h,C.QUERY_RESULT_EXT)/1e6;C.deleteQueryEXT(h),g.fire(new a.Event("gpu-timing-frame",{cpuTime:Y,gpuTime:tt}))},50)}if(this.listens("gpu-timing-layer")){var K=this.painter.collectGpuTimers();setTimeout(function(){var tt=g.painter.queryGpuTimers(K);g.fire(new a.Event("gpu-timing-layer",{layerTimes:tt}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this},c.prototype.remove=function(){this._hash&&this._hash.remove();for(var h=0,g=this._controls;h<g.length;h+=1)g[h].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),al(this._canvasContainer),al(this._controlContainer),al(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new a.Event("remove"))},c.prototype.triggerRepaint=function(){var h=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(g){h._frame=null,h._render()}))},c.prototype._onWindowOnline=function(){this._update()},c.prototype._onWindowResize=function(h){this._trackResize&&this.resize({originalEvent:h})._update()},u.showTileBoundaries.get=function(){return!!this._showTileBoundaries},u.showTileBoundaries.set=function(h){this._showTileBoundaries!==h&&(this._showTileBoundaries=h,this._update())},u.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},u.showCollisionBoxes.set=function(h){this._showCollisionBoxes!==h&&(this._showCollisionBoxes=h,h?this.style._generateCollisionBoxes():this._update())},u.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},u.showOverdrawInspector.set=function(h){this._showOverdrawInspector!==h&&(this._showOverdrawInspector=h,this._update())},u.repaint.get=function(){return!!this._repaint},u.repaint.set=function(h){this._repaint!==h&&(this._repaint=h,this.triggerRepaint())},u.vertices.get=function(){return!!this._vertices},u.vertices.set=function(h){this._vertices=h,this._update()},c.prototype._setCacheLimits=function(h,g){a.setCacheLimits(h,g)},u.version.get=function(){return a.version},Object.defineProperties(c.prototype,u),c}(Ud);function al(s){s.parentNode&&s.parentNode.removeChild(s)}var uh={showCompass:!0,showZoom:!0,visualizePitch:!1},Gn=function(s){var c=this;this.options=a.extend({},uh,s),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(u){return u.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(u){return c._map.zoomIn({},{originalEvent:u})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(u){return c._map.zoomOut({},{originalEvent:u})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(u){c.options.visualizePitch?c._map.resetNorthPitch({},{originalEvent:u}):c._map.resetNorth({},{originalEvent:u})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};function Wr(s,c,u){if(s=new a.LngLat(s.lng,s.lat),c){var h=new a.LngLat(s.lng-360,s.lat),g=new a.LngLat(s.lng+360,s.lat),_=u.locationPoint(s).distSqr(c);u.locationPoint(h).distSqr(c)<_?s=h:u.locationPoint(g).distSqr(c)<_&&(s=g)}for(;Math.abs(s.lng-u.center.lng)>180;){var C=u.locationPoint(s);if(C.x>=0&&C.y>=0&&C.x<=u.width&&C.y<=u.height)break;s.lng>u.center.lng?s.lng-=360:s.lng+=360}return s}Gn.prototype._updateZoomButtons=function(){var s=this._map.getZoom();this._zoomInButton.disabled=s===this._map.getMaxZoom(),this._zoomOutButton.disabled=s===this._map.getMinZoom()},Gn.prototype._rotateCompassArrow=function(){var s=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=s},Gn.prototype.onAdd=function(s){return this._map=s,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Bn(s,{button:"left",element:this._compass}),b.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),b.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},Gn.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),b.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),b.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},Gn.prototype._createButton=function(s,c){var u=b.create("button",s,this._container);return u.type="button",u.addEventListener("click",c),u},Gn.prototype._setButtonTitle=function(s,c){var u=this._map._getUIString("NavigationControl."+c);s.title=u,s.setAttribute("aria-label",u)};var da={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ms(s,c,u){var h=s.classList;for(var g in da)h.remove("mapboxgl-"+u+"-anchor-"+g);h.add("mapboxgl-"+u+"-anchor-"+c)}var Di,Xl=function(s){function c(u,h){if(s.call(this),(u instanceof a.window.HTMLElement||h)&&(u=a.extend({element:u},h)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,u&&u.element)this._element=u.element,this._offset=a.Point.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var g=b.createNS("http://www.w3.org/2000/svg","svg");g.setAttributeNS(null,"display","block"),g.setAttributeNS(null,"height","41px"),g.setAttributeNS(null,"width","27px"),g.setAttributeNS(null,"viewBox","0 0 27 41");var _=b.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");var C=b.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"fill-rule","nonzero");var S=b.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"transform","translate(3.0, 29.0)"),S.setAttributeNS(null,"fill","#000000");for(var I=0,z=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];I<z.length;I+=1){var L=z[I],Z=b.createNS("http://www.w3.org/2000/svg","ellipse");Z.setAttributeNS(null,"opacity","0.04"),Z.setAttributeNS(null,"cx","10.5"),Z.setAttributeNS(null,"cy","5.80029008"),Z.setAttributeNS(null,"rx",L.rx),Z.setAttributeNS(null,"ry",L.ry),S.appendChild(Z)}var Y=b.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"fill",this._color);var K=b.createNS("http://www.w3.org/2000/svg","path");K.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Y.appendChild(K);var tt=b.createNS("http://www.w3.org/2000/svg","g");tt.setAttributeNS(null,"opacity","0.25"),tt.setAttributeNS(null,"fill","#000000");var J=b.createNS("http://www.w3.org/2000/svg","path");J.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),tt.appendChild(J);var ft=b.createNS("http://www.w3.org/2000/svg","g");ft.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ft.setAttributeNS(null,"fill","#FFFFFF");var ht=b.createNS("http://www.w3.org/2000/svg","g");ht.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _t=b.createNS("http://www.w3.org/2000/svg","circle");_t.setAttributeNS(null,"fill","#000000"),_t.setAttributeNS(null,"opacity","0.25"),_t.setAttributeNS(null,"cx","5.5"),_t.setAttributeNS(null,"cy","5.5"),_t.setAttributeNS(null,"r","5.4999962");var gt=b.createNS("http://www.w3.org/2000/svg","circle");gt.setAttributeNS(null,"fill","#FFFFFF"),gt.setAttributeNS(null,"cx","5.5"),gt.setAttributeNS(null,"cy","5.5"),gt.setAttributeNS(null,"r","5.4999962"),ht.appendChild(_t),ht.appendChild(gt),C.appendChild(S),C.appendChild(Y),C.appendChild(tt),C.appendChild(ft),C.appendChild(ht),g.appendChild(C),g.setAttributeNS(null,"height",41*this._scale+"px"),g.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(g),this._offset=a.Point.convert(u&&u.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(bt){bt.preventDefault()}),this._element.addEventListener("mousedown",function(bt){bt.preventDefault()}),Ms(this._element,this._anchor,"marker"),this._popup=null}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.addTo=function(u){return this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},c.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},c.prototype.getLngLat=function(){return this._lngLat},c.prototype.setLngLat=function(u){return this._lngLat=a.LngLat.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},c.prototype.getElement=function(){return this._element},c.prototype.setPopup=function(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){var h=Math.sqrt(Math.pow(13.5,2)/2);u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[h,-1*(24.6+h)],"bottom-right":[-h,-1*(24.6+h)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=u,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},c.prototype._onKeyPress=function(u){var h=u.code,g=u.charCode||u.keyCode;h!=="Space"&&h!=="Enter"&&g!==32&&g!==13||this.togglePopup()},c.prototype._onMapClick=function(u){var h=u.originalEvent.target,g=this._element;this._popup&&(h===g||g.contains(h))&&this.togglePopup()},c.prototype.getPopup=function(){return this._popup},c.prototype.togglePopup=function(){var u=this._popup;return u?(u.isOpen()?u.remove():u.addTo(this._map),this):this},c.prototype._update=function(u){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Wr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var h="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?h="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(h="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var g="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?g="rotateX(0deg)":this._pitchAlignment==="map"&&(g="rotateX("+this._map.getPitch()+"deg)"),u&&u.type!=="moveend"||(this._pos=this._pos.round()),b.setTransform(this._element,da[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+g+" "+h)}},c.prototype.getOffset=function(){return this._offset},c.prototype.setOffset=function(u){return this._offset=a.Point.convert(u),this._update(),this},c.prototype._onMove=function(u){this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},c.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},c.prototype._addDragHandler=function(u){this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},c.prototype.setDraggable=function(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},c.prototype.isDraggable=function(){return this._draggable},c.prototype.setRotation=function(u){return this._rotation=u||0,this._update(),this},c.prototype.getRotation=function(){return this._rotation},c.prototype.setRotationAlignment=function(u){return this._rotationAlignment=u||"auto",this._update(),this},c.prototype.getRotationAlignment=function(){return this._rotationAlignment},c.prototype.setPitchAlignment=function(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this},c.prototype.getPitchAlignment=function(){return this._pitchAlignment},c}(a.Evented),Kl={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},sl=function(s){function c(u){s.call(this),this.options=a.extend({},Kl,u),a.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.onAdd=function(u){var h;return this._map=u,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),h=this._setupUI,Di!==void 0?h(Di):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(g){Di=g.state!=="denied",h(Di)}):(Di=!!a.window.navigator.geolocation,h(Di)),this._container},c.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),b.remove(this._container),this._map=void 0},c.prototype._isOutOfMapMaxBounds=function(u){var h=this._map.getMaxBounds(),g=u.coords;return h&&(g.longitude<h.getWest()||g.longitude>h.getEast()||g.latitude<h.getSouth()||g.latitude>h.getNorth())},c.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},c.prototype._onSuccess=function(u){if(this._isOutOfMapMaxBounds(u))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",u)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=u,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(u),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(u),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",u)),this._finish()},c.prototype._updateCamera=function(u){var h=new a.LngLat(u.coords.longitude,u.coords.latitude),g=u.coords.accuracy,_=this._map.getBearing(),C=a.extend({bearing:_},this.options.fitBoundsOptions);this._map.fitBounds(h.toBounds(g),C,{geolocateSource:!0})},c.prototype._updateMarker=function(u){u?this._userLocationDotMarker.setLngLat([u.coords.longitude,u.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},c.prototype._onError=function(u){if(this.options.trackUserLocation)if(u.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h),this._geolocationWatchID!==void 0&&this._clearWatch()}else this._setErrorState();this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",u)),this._finish()},c.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},c.prototype._setupUI=function(u){var h=this;if(this._container.addEventListener("contextmenu",function(C){return C.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",u===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var g=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g)}else{var _=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=_,this._geolocateButton.setAttribute("aria-label",_)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Xl(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(C){var S=C.originalEvent&&C.originalEvent.type==="resize";C.geolocateSource||h._watchState!=="ACTIVE_LOCK"||S||(h._watchState="BACKGROUND",h._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),h._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),h.fire(new a.Event("trackuserlocationend")))})},c.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}this._watchState==="OFF"&&this._geolocationWatchID!==void 0?this._clearWatch():this._geolocationWatchID===void 0&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},c.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},c}(a.Evented),Li={maxWidth:100,unit:"metric"},ma=function(s){this.options=a.extend({},Li,s),a.bindAll(["_onMove","setUnit"],this)};function _e(s,c,u){var h,g,_,C,S,I,z=u&&u.maxWidth||100,L=s._container.clientHeight/2,Z=(h=s.unproject([0,L]),g=s.unproject([z,L]),_=Math.PI/180,C=h.lat*_,S=g.lat*_,I=Math.sin(C)*Math.sin(S)+Math.cos(C)*Math.cos(S)*Math.cos((g.lng-h.lng)*_),6371e3*Math.acos(Math.min(I,1)));if(u&&u.unit==="imperial"){var Y=3.2808*Z;Y>5280?Ce(c,z,Y/5280,s._getUIString("ScaleControl.Miles")):Ce(c,z,Y,s._getUIString("ScaleControl.Feet"))}else u&&u.unit==="nautical"?Ce(c,z,Z/1852,s._getUIString("ScaleControl.NauticalMiles")):Z>=1e3?Ce(c,z,Z/1e3,s._getUIString("ScaleControl.Kilometers")):Ce(c,z,Z,s._getUIString("ScaleControl.Meters"))}function Ce(s,c,u,h){var g,_,C,S=(g=u,_=Math.pow(10,(""+Math.floor(g)).length-1),C=(C=g/_)>=10?10:C>=5?5:C>=3?3:C>=2?2:C>=1?1:function(z){var L=Math.pow(10,Math.ceil(-Math.log(z)/Math.LN10));return Math.round(z*L)/L}(C),_*C),I=S/u;s.style.width=c*I+"px",s.innerHTML=S+h}ma.prototype.getDefaultPosition=function(){return"bottom-left"},ma.prototype._onMove=function(){_e(this._map,this._container,this.options)},ma.prototype.onAdd=function(s){return this._map=s,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",s.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ma.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ma.prototype.setUnit=function(s){this.options.unit=s,_e(this._map,this._container,this.options)};var Gi=function(s){this._fullscreen=!1,s&&s.container&&(s.container instanceof a.window.HTMLElement?this._container=s.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Gi.prototype.onAdd=function(s){return this._map=s,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Gi.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gi.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Gi.prototype._setupUI=function(){var s=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",s).setAttribute("aria-hidden",!0),s.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gi.prototype._updateTitle=function(){var s=this._getTitle();this._fullscreenButton.setAttribute("aria-label",s),this._fullscreenButton.title=s},Gi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Gi.prototype._isFullscreen=function(){return this._fullscreen},Gi.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Gi.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var As={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ll=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Bi=function(s){function c(u){s.call(this),this.options=a.extend(Object.create(As),u),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return s&&(c.__proto__=s),c.prototype=Object.create(s&&s.prototype),c.prototype.constructor=c,c.prototype.addTo=function(u){return this._map&&this.remove(),this._map=u,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},c.prototype.isOpen=function(){return!!this._map},c.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},c.prototype.getLngLat=function(){return this._lngLat},c.prototype.setLngLat=function(u){return this._lngLat=a.LngLat.convert(u),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},c.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},c.prototype.getElement=function(){return this._container},c.prototype.setText=function(u){return this.setDOMContent(a.window.document.createTextNode(u))},c.prototype.setHTML=function(u){var h,g=a.window.document.createDocumentFragment(),_=a.window.document.createElement("body");for(_.innerHTML=u;h=_.firstChild;)g.appendChild(h);return this.setDOMContent(g)},c.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},c.prototype.setMaxWidth=function(u){return this.options.maxWidth=u,this._update(),this},c.prototype.setDOMContent=function(u){return this._createContent(),this._content.appendChild(u),this._createCloseButton(),this._update(),this._focusFirstElement(),this},c.prototype.addClassName=function(u){this._container&&this._container.classList.add(u)},c.prototype.removeClassName=function(u){this._container&&this._container.classList.remove(u)},c.prototype.setOffset=function(u){return this.options.offset=u,this._update(),this},c.prototype.toggleClassName=function(u){if(this._container)return this._container.classList.toggle(u)},c.prototype._createContent=function(){this._content&&b.remove(this._content),this._content=b.create("div","mapboxgl-popup-content",this._container)},c.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},c.prototype._onMouseUp=function(u){this._update(u.point)},c.prototype._onMouseMove=function(u){this._update(u.point)},c.prototype._onDrag=function(u){this._update(u.point)},c.prototype._update=function(u){var h=this,g=this._lngLat||this._trackPointer;if(this._map&&g&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Y){return h._container.classList.add(Y)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Wr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||u)){var _=this._pos=this._trackPointer&&u?u:this._map.project(this._lngLat),C=this.options.anchor,S=function Y(K){if(K){if(typeof K=="number"){var tt=Math.round(Math.sqrt(.5*Math.pow(K,2)));return{center:new a.Point(0,0),top:new a.Point(0,K),"top-left":new a.Point(tt,tt),"top-right":new a.Point(-tt,tt),bottom:new a.Point(0,-K),"bottom-left":new a.Point(tt,-tt),"bottom-right":new a.Point(-tt,-tt),left:new a.Point(K,0),right:new a.Point(-K,0)}}if(K instanceof a.Point||Array.isArray(K)){var J=a.Point.convert(K);return{center:J,top:J,"top-left":J,"top-right":J,bottom:J,"bottom-left":J,"bottom-right":J,left:J,right:J}}return{center:a.Point.convert(K.center||[0,0]),top:a.Point.convert(K.top||[0,0]),"top-left":a.Point.convert(K["top-left"]||[0,0]),"top-right":a.Point.convert(K["top-right"]||[0,0]),bottom:a.Point.convert(K.bottom||[0,0]),"bottom-left":a.Point.convert(K["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(K["bottom-right"]||[0,0]),left:a.Point.convert(K.left||[0,0]),right:a.Point.convert(K.right||[0,0])}}return Y(new a.Point(0,0))}(this.options.offset);if(!C){var I,z=this._container.offsetWidth,L=this._container.offsetHeight;I=_.y+S.bottom.y<L?["top"]:_.y>this._map.transform.height-L?["bottom"]:[],_.x<z/2?I.push("left"):_.x>this._map.transform.width-z/2&&I.push("right"),C=I.length===0?"bottom":I.join("-")}var Z=_.add(S[C]).round();b.setTransform(this._container,da[C]+" translate("+Z.x+"px,"+Z.y+"px)"),Ms(this._container,C,"popup")}},c.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var u=this._container.querySelector(ll);u&&u.focus()}},c.prototype._onClose=function(){this.remove()},c}(a.Evented),yo={version:a.version,supported:x,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:bc,NavigationControl:Gn,GeolocateControl:sl,AttributionControl:mo,ScaleControl:ma,FullscreenControl:Gi,Popup:Bi,Marker:Xl,Style:En,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(s){a.config.ACCESS_TOKEN=s},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(s){a.config.API_URL=s},get workerCount(){return O.workerCount},set workerCount(s){O.workerCount=s},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(s){a.config.MAX_PARALLEL_IMAGE_REQUESTS=s},clearStorage:function(s){a.clearTileCache(s)},workerUrl:""};return yo}),f})})(K5);var AC=K5.exports;const ka=O5(AC);var kC=1e-7;function Cm(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Y5(e,n){if(e===n)return!0;if(Cm(e)&&Cm(n)){if(e.length!==n.length)return!1;for(var i=0;i<e.length;++i)if(!Y5(e[i],n[i]))return!1;return!0}return Math.abs(e-n)<=kC}function Gh(e,n,i){return Math.max(n,Math.min(i,e))}function bf(e,n,i){return Cm(e)?e.map(function(l,f){return bf(l,n[f],i)}):i*n+(1-i)*e}function na(e,n){if(!e)throw new Error(n||"react-map-gl: assertion failed.")}function Sv(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function Ev(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Sv(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Sv(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var Pl={minZoom:0,maxZoom:24,minPitch:0,maxPitch:85},L1={pitch:0,bearing:0,altitude:1.5},Tv=5,OC=1.2,Bu=function(){function e(n){var i=n.width,l=n.height,f=n.latitude,m=n.longitude,a=n.zoom,x=n.bearing,b=x===void 0?L1.bearing:x,P=n.pitch,M=P===void 0?L1.pitch:P,k=n.altitude,N=k===void 0?L1.altitude:k,G=n.maxZoom,U=G===void 0?Pl.maxZoom:G,H=n.minZoom,it=H===void 0?Pl.minZoom:H,et=n.maxPitch,dt=et===void 0?Pl.maxPitch:et,st=n.minPitch,at=st===void 0?Pl.minPitch:st,yt=n.transitionDuration,Ct=n.transitionEasing,xt=n.transitionInterpolator,Vt=n.transitionInterruption,Dt=n.startPanLngLat,Bt=n.startZoomLngLat,Zt=n.startRotatePos,Jt=n.startBearing,te=n.startPitch,Nt=n.startZoom;Hs(this,e),na(Number.isFinite(i),"`width` must be supplied"),na(Number.isFinite(l),"`height` must be supplied"),na(Number.isFinite(m),"`longitude` must be supplied"),na(Number.isFinite(f),"`latitude` must be supplied"),na(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:i,height:l,latitude:f,longitude:m,zoom:a,bearing:b,pitch:M,altitude:N,maxZoom:U,minZoom:it,maxPitch:dt,minPitch:at,transitionDuration:yt,transitionEasing:Ct,transitionInterpolator:xt,transitionInterruption:Vt}),this._state={startPanLngLat:Dt,startZoomLngLat:Bt,startRotatePos:Zt,startBearing:Jt,startPitch:te,startZoom:Nt}}return Gs(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}},{key:"panStart",value:function(i){var l=i.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(l)})}},{key:"pan",value:function(i){var l=i.pos,f=i.startPos,m=this._state.startPanLngLat||this._unproject(f);if(!m)return this;var a=this._calculateNewLngLat({startPanLngLat:m,pos:l}),x=ai(a,2),b=x[0],P=x[1];return this._getUpdatedMapState({longitude:b,latitude:P})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(i){var l=i.pos;return this._getUpdatedMapState({startRotatePos:l,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(i){var l=i.pos,f=i.deltaAngleX,m=f===void 0?0:f,a=i.deltaAngleY,x=a===void 0?0:a,b=this._state,P=b.startRotatePos,M=b.startBearing,k=b.startPitch;if(!Number.isFinite(M)||!Number.isFinite(k))return this;var N;return l?N=this._calculateNewPitchAndBearing(Ev(Ev({},this._getRotationParams(l,P)),{},{startBearing:M,startPitch:k})):N={bearing:M+m,pitch:k+x},this._getUpdatedMapState(N)}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(i){var l=i.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(l),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(i){var l=i.pos,f=i.startPos,m=i.scale;na(m>0,"`scale` must be a positive number");var a=this._state,x=a.startZoom,b=a.startZoomLngLat;Number.isFinite(x)||(x=this._viewportProps.zoom,b=this._unproject(f)||this._unproject(l)),na(b,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var P=this._calculateNewZoom({scale:m,startZoom:x||0}),M=new Ma(Object.assign({},this._viewportProps,{zoom:P})),k=M.getMapCenterByLngLatPosition({lngLat:b,pos:l}),N=ai(k,2),G=N[0],U=N[1];return this._getUpdatedMapState({zoom:P,longitude:G,latitude:U})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(i){return new e(Object.assign({},this._viewportProps,this._state,i))}},{key:"_applyConstraints",value:function(i){var l=i.maxZoom,f=i.minZoom,m=i.zoom;i.zoom=Gh(m,f,l);var a=i.maxPitch,x=i.minPitch,b=i.pitch;return i.pitch=Gh(b,x,a),Object.assign(i,nC(i)),i}},{key:"_unproject",value:function(i){var l=new Ma(this._viewportProps);return i&&l.unproject(i)}},{key:"_calculateNewLngLat",value:function(i){var l=i.startPanLngLat,f=i.pos,m=new Ma(this._viewportProps);return m.getMapCenterByLngLatPosition({lngLat:l,pos:f})}},{key:"_calculateNewZoom",value:function(i){var l=i.scale,f=i.startZoom,m=this._viewportProps,a=m.maxZoom,x=m.minZoom,b=f+Math.log2(l);return Gh(b,x,a)}},{key:"_calculateNewPitchAndBearing",value:function(i){var l=i.deltaScaleX,f=i.deltaScaleY,m=i.startBearing,a=i.startPitch;f=Gh(f,-1,1);var x=this._viewportProps,b=x.minPitch,P=x.maxPitch,M=m+180*l,k=a;return f>0?k=a+f*(P-a):f<0&&(k=a-f*(b-a)),{pitch:k,bearing:M}}},{key:"_getRotationParams",value:function(i,l){var f=i[0]-l[0],m=i[1]-l[1],a=i[1],x=l[1],b=this._viewportProps,P=b.width,M=b.height,k=f/P,N=0;return m>0?Math.abs(M-x)>Tv&&(N=m/(x-M)*OC):m<0&&x>Tv&&(N=1-a/x),N=Math.min(1,Math.max(-1,N)),{deltaScaleX:k,deltaScaleY:N}}}]),e}();function RC(e){return e[0].toLowerCase()+e.slice(1)}function zC(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pl;for(var i in n){var l=i.slice(0,3),f=RC(i.slice(3));if(l==="min"&&e[f]<n[i]||l==="max"&&e[f]>n[i])return!1}return!0}function Pv(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function Iv(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Pv(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Pv(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var ec=Uo({viewport:null,map:null,container:null,onViewportChange:null,onViewStateChange:null,eventManager:null}),ly=ec.Provider;function DC(e){var n=e.value,i=e.children,l=$e(null),f=ai(l,2),m=f[0],a=f[1],x=Mi(ec);return n=Iv(Iv({setMap:a},x),{},{map:x&&x.map||m},n),Ue(ly,{value:n},i)}ec.Provider=DC;var Sm=typeof window<"u"?Po:pr;function qf(e,n){var i=n.longitude,l=n.latitude;return e&&e.queryTerrainElevation&&e.queryTerrainElevation([i,l])||0}function Mv(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function ra(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Mv(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Mv(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var LC="https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens",J5="A valid API access token is required to use Mapbox data";function BC(){}function Q5(e){var n=e.map,i=e.props,l=e.width,f=e.height,m=ra(ra(ra({},i),i.viewState),{},{width:l,height:f});return m.position=[0,0,qf(n,m)],new Ma(m)}var FC=401,Av={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},NC=Object.assign({},Ll.propTypes,{width:Tt.oneOfType([Tt.number,Tt.string]),height:Tt.oneOfType([Tt.number,Tt.string]),onResize:Tt.func,disableTokenWarning:Tt.bool,visible:Tt.bool,className:Tt.string,style:Tt.object,visibilityConstraints:Tt.object}),UC=Object.assign({},Ll.defaultProps,{disableTokenWarning:!1,visible:!0,onResize:BC,className:"",style:null,visibilityConstraints:Pl});function VC(){var e={position:"absolute",left:0,top:0};return Ue("div",{key:"warning",id:"no-token-warning",style:e},Ue("h3",{key:"header"},J5),Ue("div",{key:"text"},"For information on setting up your basemap, read"),Ue("a",{key:"link",href:LC},"Note on Map Tokens"))}function jC(e){return{getMap:function(){return e.current&&e.current.getMap()},queryRenderedFeatures:function(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=e.current&&e.current.getMap();return f&&f.queryRenderedFeatures(i,l)}}}var Xs=rn(function(e,n){var i=$e(!0),l=ai(i,2),f=l[0],m=l[1],a=$e({width:0,height:0}),x=ai(a,2),b=x[0],P=x[1],M=Ae(null),k=Ae(null),N=Ae(null),G=Ae(null),U=Mi(ec);Sm(function(){if(Xs.supported()){var Bt=new Ll(ra(ra(ra({},e),b),{},{mapboxgl:ka,container:k.current,onError:function(te){var Nt=te.error&&te.error.status||te.status;Nt===FC&&f&&(console.error(J5),m(!1)),e.onError(te)}}));M.current=Bt,U&&U.setMap&&U.setMap(Bt.getMap());var Zt=new SC(function(Jt){if(Jt[0].contentRect){var te=Jt[0].contentRect,Nt=te.width,oe=te.height;P({width:Nt,height:oe}),e.onResize({width:Nt,height:oe})}});return Zt.observe(N.current),function(){Bt.finalize(),M.current=null,Zt.disconnect()}}},[]),Sm(function(){M.current&&M.current.setProps(ra(ra({},e),b))});var H=M.current&&M.current.getMap();Dl(n,function(){return jC(M)},[]);var it=cr(function(Bt){var Zt=Bt.target;Zt===G.current&&Zt.scrollTo(0,0)},[]),et=H&&Ue(ly,{value:ra(ra({},U),{},{viewport:U.viewport||Q5(ra({map:H,props:e},b)),map:H,container:U.container||N.current})},Ue("div",{key:"map-overlays",className:"overlays",ref:G,style:Av,onScroll:it},e.children)),dt=e.className,st=e.width,at=e.height,yt=e.style,Ct=e.visibilityConstraints,xt=Object.assign({position:"relative"},yt,{width:st,height:at}),Vt=e.visible&&zC(e.viewState||e,Ct),Dt=Object.assign({},Av,{visibility:Vt?"inherit":"hidden"});return Ue("div",{key:"map-container",ref:N,style:xt},Ue("div",{key:"map-mapbox",ref:k,style:Dt,className:dt}),et,!f&&!e.disableTokenWarning&&Ue(VC,null))});Xs.supported=function(){return ka&&ka.supported()};Xs.propTypes=NC;Xs.defaultProps=UC;function $C(e,n){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=ZC(e))||n&&e&&typeof e.length=="number"){i&&(e=i);var l=0,f=function(){};return{s:f,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(P){throw P},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,a=!1,x;return{s:function(){i=i.call(e)},n:function(){var P=i.next();return m=P.done,P},e:function(P){a=!0,x=P},f:function(){try{!m&&i.return!=null&&i.return()}finally{if(a)throw x}}}}function ZC(e,n){if(e){if(typeof e=="string")return kv(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return kv(e,n)}}function kv(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,l=new Array(n);i<n;i++)l[i]=e[i];return l}var tb=function(){function e(){Hs(this,e),ve(this,"propNames",[])}return Gs(e,[{key:"arePropsEqual",value:function(i,l){var f=$C(this.propNames||[]),m;try{for(f.s();!(m=f.n()).done;){var a=m.value;if(!Y5(i[a],l[a]))return!1}}catch(x){f.e(x)}finally{f.f()}return!0}},{key:"initializeProps",value:function(i,l){return{start:i,end:l}}},{key:"interpolateProps",value:function(i,l,f){na(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(i,l){return l.transitionDuration}}]),e}();function ns(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xf(e,n){return xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,f){return l.__proto__=f,l},xf(e,n)}function uy(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&xf(e,n)}function cy(e,n){if(n&&(qu(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ns(e)}function qs(e){return qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},qs(e)}var qC={longitude:1,bearing:1};function wf(e){return Number.isFinite(e)||Array.isArray(e)}function WC(e){return e in qC}function Em(e,n,i){return WC(e)&&Math.abs(i-n)>180&&(i=i<0?i+360:i-360),i}function HC(e){var n=GC();return function(){var l=qs(e),f;if(n){var m=qs(this).constructor;f=Reflect.construct(l,arguments,m)}else f=l.apply(this,arguments);return cy(this,f)}}function GC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var XC=["longitude","latitude","zoom","bearing","pitch"],KC=["latitude","longitude","zoom","width","height"],Ov=["bearing","pitch"],YC={speed:1.2,curve:1.414};(function(e){uy(i,e);var n=HC(i);function i(){var l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Hs(this,i),l=n.call(this),ve(ns(l),"propNames",XC),l.props=Object.assign({},YC,f),l}return Gs(i,[{key:"initializeProps",value:function(f,m){for(var a={},x={},b=0,P=KC;b<P.length;b++){var M=P[b],k=f[M],N=m[M];na(wf(k)&&wf(N),"".concat(M," must be supplied for transition")),a[M]=k,x[M]=Em(M,k,N)}for(var G=0,U=Ov;G<U.length;G++){var H=U[G],it=f[H]||0,et=m[H]||0;a[H]=it,x[H]=Em(H,it,et)}return{start:a,end:x}}},{key:"interpolateProps",value:function(f,m,a){for(var x=oC(f,m,a,this.props),b=0,P=Ov;b<P.length;b++){var M=P[b];x[M]=bf(f[M],m[M],a)}return x}},{key:"getDuration",value:function(f,m){var a=m.transitionDuration;return a==="auto"&&(a=aC(f,m,this.props)),a}}]),i})(tb);function Rv(e,n){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=JC(e))||n&&e&&typeof e.length=="number"){i&&(e=i);var l=0,f=function(){};return{s:f,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(P){throw P},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,a=!1,x;return{s:function(){i=i.call(e)},n:function(){var P=i.next();return m=P.done,P},e:function(P){a=!0,x=P},f:function(){try{!m&&i.return!=null&&i.return()}finally{if(a)throw x}}}}function JC(e,n){if(e){if(typeof e=="string")return zv(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return zv(e,n)}}function zv(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,l=new Array(n);i<n;i++)l[i]=e[i];return l}function QC(e){var n=t7();return function(){var l=qs(e),f;if(n){var m=qs(this).constructor;f=Reflect.construct(l,arguments,m)}else f=l.apply(this,arguments);return cy(this,f)}}function t7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var e7=["longitude","latitude","zoom","bearing","pitch"],cp=function(e){uy(i,e);var n=QC(i);function i(){var l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Hs(this,i),l=n.call(this),Array.isArray(f)&&(f={transitionProps:f}),l.propNames=f.transitionProps||e7,f.around&&(l.around=f.around),l}return Gs(i,[{key:"initializeProps",value:function(f,m){var a={},x={};if(this.around){a.around=this.around;var b=new Ma(f).unproject(this.around);Object.assign(x,m,{around:new Ma(m).project(b),aroundLngLat:b})}var P=Rv(this.propNames),M;try{for(P.s();!(M=P.n()).done;){var k=M.value,N=f[k],G=m[k];na(wf(N)&&wf(G),"".concat(k," must be supplied for transition")),a[k]=N,x[k]=Em(k,N,G)}}catch(U){P.e(U)}finally{P.f()}return{start:a,end:x}}},{key:"interpolateProps",value:function(f,m,a){var x={},b=Rv(this.propNames),P;try{for(b.s();!(P=b.n()).done;){var M=P.value;x[M]=bf(f[M],m[M],a)}}catch(H){b.e(H)}finally{b.f()}if(m.around){var k=new Ma(Object.assign({},m,x)).getMapCenterByLngLatPosition({lngLat:m.aroundLngLat,pos:bf(f.around,m.around,a)}),N=ai(k,2),G=N[0],U=N[1];x.longitude=G,x.latitude=U}return x}}]),i}(tb),pp=function(){};function r7(e,n){var i=e(n);return function(l){return 1/(1-i)*(e(l*(1-n)+n)-i)}}var hp={BREAK:1,SNAP_TO_END:2,IGNORE:3,UPDATE:4},n7={transitionDuration:0,transitionEasing:function(n){return n},transitionInterpolator:new cp,transitionInterruption:hp.BREAK,onTransitionStart:pp,onTransitionInterrupt:pp,onTransitionEnd:pp},py=function(){function e(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Hs(this,e),ve(this,"_animationFrame",null),ve(this,"_onTransitionFrame",function(){n._animationFrame=requestAnimationFrame(n._onTransitionFrame),n._updateViewport()}),this.props=null,this.onViewportChange=i.onViewportChange||pp,this.onStateChange=i.onStateChange||pp,this.time=i.getTime||Date.now}return Gs(e,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(i){var l=this.props;if(this.props=i,!l||this._shouldIgnoreViewportChange(l,i))return!1;if(this._isTransitionEnabled(i)){var f=Object.assign({},l),m=Object.assign({},i);if(this._isTransitionInProgress()&&(l.onTransitionInterrupt(),this.state.interruption===hp.SNAP_TO_END?Object.assign(f,this.state.endProps):Object.assign(f,this.state.propsInTransition),this.state.interruption===hp.UPDATE)){var a=this.time(),x=(a-this.state.startTime)/this.state.duration;m.transitionDuration=this.state.duration-(a-this.state.startTime),m.transitionEasing=r7(this.state.easing,x),m.transitionInterpolator=f.transitionInterpolator}return m.onTransitionStart(),this._triggerTransition(f,m),!0}return this._isTransitionInProgress()&&(l.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return!!this._animationFrame}},{key:"_isTransitionEnabled",value:function(i){var l=i.transitionDuration,f=i.transitionInterpolator;return(l>0||l==="auto")&&!!f}},{key:"_isUpdateDueToCurrentTransition",value:function(i){return this.state.propsInTransition?this.state.interpolator.arePropsEqual(i,this.state.propsInTransition):!1}},{key:"_shouldIgnoreViewportChange",value:function(i,l){return i?this._isTransitionInProgress()?this.state.interruption===hp.IGNORE||this._isUpdateDueToCurrentTransition(l):this._isTransitionEnabled(l)?l.transitionInterpolator.arePropsEqual(i,l):!0:!0}},{key:"_triggerTransition",value:function(i,l){na(this._isTransitionEnabled(l)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var f=l.transitionInterpolator,m=f.getDuration?f.getDuration(i,l):l.transitionDuration;if(m!==0){var a=l.transitionInterpolator.initializeProps(i,l),x={inTransition:!0,isZooming:i.zoom!==l.zoom,isPanning:i.longitude!==l.longitude||i.latitude!==l.latitude,isRotating:i.bearing!==l.bearing||i.pitch!==l.pitch};this.state={duration:m,easing:l.transitionEasing,interpolator:l.transitionInterpolator,interruption:l.transitionInterruption,startTime:this.time(),startProps:a.start,endProps:a.end,animation:null,propsInTransition:{}},this._onTransitionFrame(),this.onStateChange(x)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var i=this.time(),l=this.state,f=l.startTime,m=l.duration,a=l.easing,x=l.interpolator,b=l.startProps,P=l.endProps,M=!1,k=(i-f)/m;k>=1&&(k=1,M=!0),k=a(k);var N=x.interpolateProps(b,P,k),G=new Bu(Object.assign({},this.props,N));this.state.propsInTransition=G.getViewportProps(),this.onViewportChange(this.state.propsInTransition,this.props),M&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}();ve(py,"defaultProps",n7);var eb={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(e){(function(n,i,l,f){var m=["","webkit","Moz","MS","ms","o"],a=i.createElement("div"),x="function",b=Math.round,P=Math.abs,M=Date.now;function k($,X,ut){return setTimeout(st($,ut),X)}function N($,X,ut){return Array.isArray($)?(G($,ut[X],ut),!0):!1}function G($,X,ut){var It;if($)if($.forEach)$.forEach(X,ut);else if($.length!==f)for(It=0;It<$.length;)X.call(ut,$[It],It,$),It++;else for(It in $)$.hasOwnProperty(It)&&X.call(ut,$[It],It,$)}function U($,X,ut){var It="DEPRECATED METHOD: "+X+`
`+ut+` AT 
`;return function(){var Ht=new Error("get-stack-trace"),he=Ht&&Ht.stack?Ht.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Pe=n.console&&(n.console.warn||n.console.log);return Pe&&Pe.call(n.console,It,he),$.apply(this,arguments)}}var H;typeof Object.assign!="function"?H=function(X){if(X===f||X===null)throw new TypeError("Cannot convert undefined or null to object");for(var ut=Object(X),It=1;It<arguments.length;It++){var Ht=arguments[It];if(Ht!==f&&Ht!==null)for(var he in Ht)Ht.hasOwnProperty(he)&&(ut[he]=Ht[he])}return ut}:H=Object.assign;var it=U(function(X,ut,It){for(var Ht=Object.keys(ut),he=0;he<Ht.length;)(!It||It&&X[Ht[he]]===f)&&(X[Ht[he]]=ut[Ht[he]]),he++;return X},"extend","Use `assign`."),et=U(function(X,ut){return it(X,ut,!0)},"merge","Use `assign`.");function dt($,X,ut){var It=X.prototype,Ht;Ht=$.prototype=Object.create(It),Ht.constructor=$,Ht._super=It,ut&&H(Ht,ut)}function st($,X){return function(){return $.apply(X,arguments)}}function at($,X){return typeof $==x?$.apply(X&&X[0]||f,X):$}function yt($,X){return $===f?X:$}function Ct($,X,ut){G(Bt(X),function(It){$.addEventListener(It,ut,!1)})}function xt($,X,ut){G(Bt(X),function(It){$.removeEventListener(It,ut,!1)})}function Vt($,X){for(;$;){if($==X)return!0;$=$.parentNode}return!1}function Dt($,X){return $.indexOf(X)>-1}function Bt($){return $.trim().split(/\s+/g)}function Zt($,X,ut){if($.indexOf&&!ut)return $.indexOf(X);for(var It=0;It<$.length;){if(ut&&$[It][ut]==X||!ut&&$[It]===X)return It;It++}return-1}function Jt($){return Array.prototype.slice.call($,0)}function te($,X,ut){for(var It=[],Ht=[],he=0;he<$.length;){var Pe=X?$[he][X]:$[he];Zt(Ht,Pe)<0&&It.push($[he]),Ht[he]=Pe,he++}return ut&&(X?It=It.sort(function(Ln,Hn){return Ln[X]>Hn[X]}):It=It.sort()),It}function Nt($,X){for(var ut,It,Ht=X[0].toUpperCase()+X.slice(1),he=0;he<m.length;){if(ut=m[he],It=ut?ut+Ht:X,It in $)return It;he++}return f}var oe=1;function ue(){return oe++}function be($){var X=$.ownerDocument||$;return X.defaultView||X.parentWindow||n}var ke=/mobile|tablet|ip(ad|hone|od)|android/i,Xe="ontouchstart"in n,dr=Nt(n,"PointerEvent")!==f,Nr=Xe&&ke.test(navigator.userAgent),nr="touch",Zr="pen",fr="mouse",vr="kinect",Sr=25,Ee=1,lr=2,xe=4,Ve=8,Je=1,or=2,Gt=4,Se=8,ir=16,_r=or|Gt,hn=Se|ir,zr=_r|hn,mr=["x","y"],Mn=["clientX","clientY"];function qe($,X){var ut=this;this.manager=$,this.callback=X,this.element=$.element,this.target=$.options.inputTarget,this.domHandler=function(It){at($.options.enable,[$])&&ut.handler(It)},this.init()}qe.prototype={handler:function(){},init:function(){this.evEl&&Ct(this.element,this.evEl,this.domHandler),this.evTarget&&Ct(this.target,this.evTarget,this.domHandler),this.evWin&&Ct(be(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&xt(this.element,this.evEl,this.domHandler),this.evTarget&&xt(this.target,this.evTarget,this.domHandler),this.evWin&&xt(be(this.element),this.evWin,this.domHandler)}};function vn($){var X,ut=$.options.inputClass;return ut?X=ut:dr?X=po:Nr?X=Lr:Xe?X=Wi:X=ui,new X($,An)}function An($,X,ut){var It=ut.pointers.length,Ht=ut.changedPointers.length,he=X&Ee&&It-Ht===0,Pe=X&(xe|Ve)&&It-Ht===0;ut.isFirst=!!he,ut.isFinal=!!Pe,he&&($.session={}),ut.eventType=X,Jr($,ut),$.emit("hammer.input",ut),$.recognize(ut),$.session.prevInput=ut}function Jr($,X){var ut=$.session,It=X.pointers,Ht=It.length;ut.firstInput||(ut.firstInput=Ci(X)),Ht>1&&!ut.firstMultiple?ut.firstMultiple=Ci(X):Ht===1&&(ut.firstMultiple=!1);var he=ut.firstInput,Pe=ut.firstMultiple,Sn=Pe?Pe.center:he.center,Ln=X.center=Dr(It);X.timeStamp=M(),X.deltaTime=X.timeStamp-he.timeStamp,X.angle=Zi(Sn,Ln),X.distance=li(Sn,Ln),ki(ut,X),X.offsetDirection=ti(X.deltaX,X.deltaY);var Hn=Si(X.deltaTime,X.deltaX,X.deltaY);X.overallVelocityX=Hn.x,X.overallVelocityY=Hn.y,X.overallVelocity=P(Hn.x)>P(Hn.y)?Hn.x:Hn.y,X.scale=Pe?Ar(Pe.pointers,It):1,X.rotation=Pe?Oe(Pe.pointers,It):0,X.maxPointers=ut.prevInput?X.pointers.length>ut.prevInput.maxPointers?X.pointers.length:ut.prevInput.maxPointers:X.pointers.length,mi(ut,X);var Ti=$.element;Vt(X.srcEvent.target,Ti)&&(Ti=X.srcEvent.target),X.target=Ti}function ki($,X){var ut=X.center,It=$.offsetDelta||{},Ht=$.prevDelta||{},he=$.prevInput||{};(X.eventType===Ee||he.eventType===xe)&&(Ht=$.prevDelta={x:he.deltaX||0,y:he.deltaY||0},It=$.offsetDelta={x:ut.x,y:ut.y}),X.deltaX=Ht.x+(ut.x-It.x),X.deltaY=Ht.y+(ut.y-It.y)}function mi($,X){var ut=$.lastInterval||X,It=X.timeStamp-ut.timeStamp,Ht,he,Pe,Sn;if(X.eventType!=Ve&&(It>Sr||ut.velocity===f)){var Ln=X.deltaX-ut.deltaX,Hn=X.deltaY-ut.deltaY,Ti=Si(It,Ln,Hn);he=Ti.x,Pe=Ti.y,Ht=P(Ti.x)>P(Ti.y)?Ti.x:Ti.y,Sn=ti(Ln,Hn),$.lastInterval=X}else Ht=ut.velocity,he=ut.velocityX,Pe=ut.velocityY,Sn=ut.direction;X.velocity=Ht,X.velocityX=he,X.velocityY=Pe,X.direction=Sn}function Ci($){for(var X=[],ut=0;ut<$.pointers.length;)X[ut]={clientX:b($.pointers[ut].clientX),clientY:b($.pointers[ut].clientY)},ut++;return{timeStamp:M(),pointers:X,center:Dr(X),deltaX:$.deltaX,deltaY:$.deltaY}}function Dr($){var X=$.length;if(X===1)return{x:b($[0].clientX),y:b($[0].clientY)};for(var ut=0,It=0,Ht=0;Ht<X;)ut+=$[Ht].clientX,It+=$[Ht].clientY,Ht++;return{x:b(ut/X),y:b(It/X)}}function Si($,X,ut){return{x:X/$||0,y:ut/$||0}}function ti($,X){return $===X?Je:P($)>=P(X)?$<0?or:Gt:X<0?Se:ir}function li($,X,ut){ut||(ut=mr);var It=X[ut[0]]-$[ut[0]],Ht=X[ut[1]]-$[ut[1]];return Math.sqrt(It*It+Ht*Ht)}function Zi($,X,ut){ut||(ut=mr);var It=X[ut[0]]-$[ut[0]],Ht=X[ut[1]]-$[ut[1]];return Math.atan2(Ht,It)*180/Math.PI}function Oe($,X){return Zi(X[1],X[0],Mn)+Zi($[1],$[0],Mn)}function Ar($,X){return li(X[0],X[1],Mn)/li($[0],$[1],Mn)}var on={mousedown:Ee,mousemove:lr,mouseup:xe},Oi="mousedown",Mo="mousemove mouseup";function ui(){this.evEl=Oi,this.evWin=Mo,this.pressed=!1,qe.apply(this,arguments)}dt(ui,qe,{handler:function(X){var ut=on[X.type];ut&Ee&&X.button===0&&(this.pressed=!0),ut&lr&&X.which!==1&&(ut=xe),this.pressed&&(ut&xe&&(this.pressed=!1),this.callback(this.manager,ut,{pointers:[X],changedPointers:[X],pointerType:fr,srcEvent:X}))}});var fs={pointerdown:Ee,pointermove:lr,pointerup:xe,pointercancel:Ve,pointerout:Ve},la={2:nr,3:Zr,4:fr,5:vr},za="pointerdown",Ao="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(za="MSPointerDown",Ao="MSPointerMove MSPointerUp MSPointerCancel");function po(){this.evEl=za,this.evWin=Ao,qe.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}dt(po,qe,{handler:function(X){var ut=this.store,It=!1,Ht=X.type.toLowerCase().replace("ms",""),he=fs[Ht],Pe=la[X.pointerType]||X.pointerType,Sn=Pe==nr,Ln=Zt(ut,X.pointerId,"pointerId");he&Ee&&(X.button===0||Sn)?Ln<0&&(ut.push(X),Ln=ut.length-1):he&(xe|Ve)&&(It=!0),!(Ln<0)&&(ut[Ln]=X,this.callback(this.manager,he,{pointers:ut,changedPointers:[X],pointerType:Pe,srcEvent:X}),It&&ut.splice(Ln,1))}});var ua={touchstart:Ee,touchmove:lr,touchend:xe,touchcancel:Ve},ko="touchstart",Da="touchstart touchmove touchend touchcancel";function $o(){this.evTarget=ko,this.evWin=Da,this.started=!1,qe.apply(this,arguments)}dt($o,qe,{handler:function(X){var ut=ua[X.type];if(ut===Ee&&(this.started=!0),!!this.started){var It=Zo.call(this,X,ut);ut&(xe|Ve)&&It[0].length-It[1].length===0&&(this.started=!1),this.callback(this.manager,ut,{pointers:It[0],changedPointers:It[1],pointerType:nr,srcEvent:X})}}});function Zo($,X){var ut=Jt($.touches),It=Jt($.changedTouches);return X&(xe|Ve)&&(ut=te(ut.concat(It),"identifier",!0)),[ut,It]}var yr={touchstart:Ee,touchmove:lr,touchend:xe,touchcancel:Ve},fn="touchstart touchmove touchend touchcancel";function Lr(){this.evTarget=fn,this.targetIds={},qe.apply(this,arguments)}dt(Lr,qe,{handler:function(X){var ut=yr[X.type],It=At.call(this,X,ut);It&&this.callback(this.manager,ut,{pointers:It[0],changedPointers:It[1],pointerType:nr,srcEvent:X})}});function At($,X){var ut=Jt($.touches),It=this.targetIds;if(X&(Ee|lr)&&ut.length===1)return It[ut[0].identifier]=!0,[ut,ut];var Ht,he,Pe=Jt($.changedTouches),Sn=[],Ln=this.target;if(he=ut.filter(function(Hn){return Vt(Hn.target,Ln)}),X===Ee)for(Ht=0;Ht<he.length;)It[he[Ht].identifier]=!0,Ht++;for(Ht=0;Ht<Pe.length;)It[Pe[Ht].identifier]&&Sn.push(Pe[Ht]),X&(xe|Ve)&&delete It[Pe[Ht].identifier],Ht++;if(Sn.length)return[te(he.concat(Sn),"identifier",!0),Sn]}var Qt=2500,qi=25;function Wi(){qe.apply(this,arguments);var $=st(this.handler,this);this.touch=new Lr(this.manager,$),this.mouse=new ui(this.manager,$),this.primaryTouch=null,this.lastTouches=[]}dt(Wi,qe,{handler:function(X,ut,It){var Ht=It.pointerType==nr,he=It.pointerType==fr;if(!(he&&It.sourceCapabilities&&It.sourceCapabilities.firesTouchEvents)){if(Ht)dn.call(this,ut,It);else if(he&&O.call(this,It))return;this.callback(X,ut,It)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function dn($,X){$&Ee?(this.primaryTouch=X.changedPointers[0].identifier,Ur.call(this,X)):$&(xe|Ve)&&Ur.call(this,X)}function Ur($){var X=$.changedPointers[0];if(X.identifier===this.primaryTouch){var ut={x:X.clientX,y:X.clientY};this.lastTouches.push(ut);var It=this.lastTouches,Ht=function(){var he=It.indexOf(ut);he>-1&&It.splice(he,1)};setTimeout(Ht,Qt)}}function O($){for(var X=$.srcEvent.clientX,ut=$.srcEvent.clientY,It=0;It<this.lastTouches.length;It++){var Ht=this.lastTouches[It],he=Math.abs(X-Ht.x),Pe=Math.abs(ut-Ht.y);if(he<=qi&&Pe<=qi)return!0}return!1}var D=Nt(a.style,"touchAction"),F=D!==f,V="compute",Q="auto",rt="manipulation",mt="none",ct="pan-x",lt="pan-y",vt=kt();function Ot($,X){this.manager=$,this.set(X)}Ot.prototype={set:function($){$==V&&($=this.compute()),F&&this.manager.element.style&&vt[$]&&(this.manager.element.style[D]=$),this.actions=$.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var $=[];return G(this.manager.recognizers,function(X){at(X.options.enable,[X])&&($=$.concat(X.getTouchAction()))}),$t($.join(" "))},preventDefaults:function($){var X=$.srcEvent,ut=$.offsetDirection;if(this.manager.session.prevented){X.preventDefault();return}var It=this.actions,Ht=Dt(It,mt)&&!vt[mt],he=Dt(It,lt)&&!vt[lt],Pe=Dt(It,ct)&&!vt[ct];if(Ht){var Sn=$.pointers.length===1,Ln=$.distance<2,Hn=$.deltaTime<250;if(Sn&&Ln&&Hn)return}if(!(Pe&&he)&&(Ht||he&&ut&_r||Pe&&ut&hn))return this.preventSrc(X)},preventSrc:function($){this.manager.session.prevented=!0,$.preventDefault()}};function $t($){if(Dt($,mt))return mt;var X=Dt($,ct),ut=Dt($,lt);return X&&ut?mt:X||ut?X?ct:lt:Dt($,rt)?rt:Q}function kt(){if(!F)return!1;var $={},X=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ut){$[ut]=X?n.CSS.supports("touch-action",ut):!0}),$}var jt=1,Kt=2,ne=4,de=8,Wt=de,ze=16,De=32;function we($){this.options=H({},this.defaults,$||{}),this.id=ue(),this.manager=null,this.options.enable=yt(this.options.enable,!0),this.state=jt,this.simultaneous={},this.requireFail=[]}we.prototype={defaults:{},set:function($){return H(this.options,$),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function($){if(N($,"recognizeWith",this))return this;var X=this.simultaneous;return $=Le($,this),X[$.id]||(X[$.id]=$,$.recognizeWith(this)),this},dropRecognizeWith:function($){return N($,"dropRecognizeWith",this)?this:($=Le($,this),delete this.simultaneous[$.id],this)},requireFailure:function($){if(N($,"requireFailure",this))return this;var X=this.requireFail;return $=Le($,this),Zt(X,$)===-1&&(X.push($),$.requireFailure(this)),this},dropRequireFailure:function($){if(N($,"dropRequireFailure",this))return this;$=Le($,this);var X=Zt(this.requireFail,$);return X>-1&&this.requireFail.splice(X,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function($){return!!this.simultaneous[$.id]},emit:function($){var X=this,ut=this.state;function It(Ht){X.manager.emit(Ht,$)}ut<de&&It(X.options.event+Ie(ut)),It(X.options.event),$.additionalEvent&&It($.additionalEvent),ut>=de&&It(X.options.event+Ie(ut))},tryEmit:function($){if(this.canEmit())return this.emit($);this.state=De},canEmit:function(){for(var $=0;$<this.requireFail.length;){if(!(this.requireFail[$].state&(De|jt)))return!1;$++}return!0},recognize:function($){var X=H({},$);if(!at(this.options.enable,[this,X])){this.reset(),this.state=De;return}this.state&(Wt|ze|De)&&(this.state=jt),this.state=this.process(X),this.state&(Kt|ne|de|ze)&&this.tryEmit(X)},process:function($){},getTouchAction:function(){},reset:function(){}};function Ie($){return $&ze?"cancel":$&de?"end":$&ne?"move":$&Kt?"start":""}function Er($){return $==ir?"down":$==Se?"up":$==or?"left":$==Gt?"right":""}function Le($,X){var ut=X.manager;return ut?ut.get($):$}function Qe(){we.apply(this,arguments)}dt(Qe,we,{defaults:{pointers:1},attrTest:function($){var X=this.options.pointers;return X===0||$.pointers.length===X},process:function($){var X=this.state,ut=$.eventType,It=X&(Kt|ne),Ht=this.attrTest($);return It&&(ut&Ve||!Ht)?X|ze:It||Ht?ut&xe?X|de:X&Kt?X|ne:Kt:De}});function Tr(){Qe.apply(this,arguments),this.pX=null,this.pY=null}dt(Tr,Qe,{defaults:{event:"pan",threshold:10,pointers:1,direction:zr},getTouchAction:function(){var $=this.options.direction,X=[];return $&_r&&X.push(lt),$&hn&&X.push(ct),X},directionTest:function($){var X=this.options,ut=!0,It=$.distance,Ht=$.direction,he=$.deltaX,Pe=$.deltaY;return Ht&X.direction||(X.direction&_r?(Ht=he===0?Je:he<0?or:Gt,ut=he!=this.pX,It=Math.abs($.deltaX)):(Ht=Pe===0?Je:Pe<0?Se:ir,ut=Pe!=this.pY,It=Math.abs($.deltaY))),$.direction=Ht,ut&&It>X.threshold&&Ht&X.direction},attrTest:function($){return Qe.prototype.attrTest.call(this,$)&&(this.state&Kt||!(this.state&Kt)&&this.directionTest($))},emit:function($){this.pX=$.deltaX,this.pY=$.deltaY;var X=Er($.direction);X&&($.additionalEvent=this.options.event+X),this._super.emit.call(this,$)}});function ar(){Qe.apply(this,arguments)}dt(ar,Qe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[mt]},attrTest:function($){return this._super.attrTest.call(this,$)&&(Math.abs($.scale-1)>this.options.threshold||this.state&Kt)},emit:function($){if($.scale!==1){var X=$.scale<1?"in":"out";$.additionalEvent=this.options.event+X}this._super.emit.call(this,$)}});function Rn(){we.apply(this,arguments),this._timer=null,this._input=null}dt(Rn,we,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Q]},process:function($){var X=this.options,ut=$.pointers.length===X.pointers,It=$.distance<X.threshold,Ht=$.deltaTime>X.time;if(this._input=$,!It||!ut||$.eventType&(xe|Ve)&&!Ht)this.reset();else if($.eventType&Ee)this.reset(),this._timer=k(function(){this.state=Wt,this.tryEmit()},X.time,this);else if($.eventType&xe)return Wt;return De},reset:function(){clearTimeout(this._timer)},emit:function($){this.state===Wt&&($&&$.eventType&xe?this.manager.emit(this.options.event+"up",$):(this._input.timeStamp=M(),this.manager.emit(this.options.event,this._input)))}});function tr(){Qe.apply(this,arguments)}dt(tr,Qe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[mt]},attrTest:function($){return this._super.attrTest.call(this,$)&&(Math.abs($.rotation)>this.options.threshold||this.state&Kt)}});function qr(){Qe.apply(this,arguments)}dt(qr,Qe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:_r|hn,pointers:1},getTouchAction:function(){return Tr.prototype.getTouchAction.call(this)},attrTest:function($){var X=this.options.direction,ut;return X&(_r|hn)?ut=$.overallVelocity:X&_r?ut=$.overallVelocityX:X&hn&&(ut=$.overallVelocityY),this._super.attrTest.call(this,$)&&X&$.offsetDirection&&$.distance>this.options.threshold&&$.maxPointers==this.options.pointers&&P(ut)>this.options.velocity&&$.eventType&xe},emit:function($){var X=Er($.offsetDirection);X&&this.manager.emit(this.options.event+X,$),this.manager.emit(this.options.event,$)}});function We(){we.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}dt(We,we,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[rt]},process:function($){var X=this.options,ut=$.pointers.length===X.pointers,It=$.distance<X.threshold,Ht=$.deltaTime<X.time;if(this.reset(),$.eventType&Ee&&this.count===0)return this.failTimeout();if(It&&Ht&&ut){if($.eventType!=xe)return this.failTimeout();var he=this.pTime?$.timeStamp-this.pTime<X.interval:!0,Pe=!this.pCenter||li(this.pCenter,$.center)<X.posThreshold;this.pTime=$.timeStamp,this.pCenter=$.center,!Pe||!he?this.count=1:this.count+=1,this._input=$;var Sn=this.count%X.taps;if(Sn===0)return this.hasRequireFailures()?(this._timer=k(function(){this.state=Wt,this.tryEmit()},X.interval,this),Kt):Wt}return De},failTimeout:function(){return this._timer=k(function(){this.state=De},this.options.interval,this),De},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Wt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function an($,X){return X=X||{},X.recognizers=yt(X.recognizers,an.defaults.preset),new ro($,X)}an.VERSION="2.0.7",an.defaults={domEvents:!1,touchAction:V,enable:!0,inputTarget:null,inputClass:null,preset:[[tr,{enable:!1}],[ar,{enable:!1},["rotate"]],[qr,{direction:_r}],[Tr,{direction:_r},["swipe"]],[We],[We,{event:"doubletap",taps:2},["tap"]],[Rn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var zn=1,Ei=2;function ro($,X){this.options=H({},an.defaults,X||{}),this.options.inputTarget=this.options.inputTarget||$,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=$,this.input=vn(this),this.touchAction=new Ot(this,this.options.touchAction),Dn(this,!0),G(this.options.recognizers,function(ut){var It=this.add(new ut[0](ut[1]));ut[2]&&It.recognizeWith(ut[2]),ut[3]&&It.requireFailure(ut[3])},this)}ro.prototype={set:function($){return H(this.options,$),$.touchAction&&this.touchAction.update(),$.inputTarget&&(this.input.destroy(),this.input.target=$.inputTarget,this.input.init()),this},stop:function($){this.session.stopped=$?Ei:zn},recognize:function($){var X=this.session;if(!X.stopped){this.touchAction.preventDefaults($);var ut,It=this.recognizers,Ht=X.curRecognizer;(!Ht||Ht&&Ht.state&Wt)&&(Ht=X.curRecognizer=null);for(var he=0;he<It.length;)ut=It[he],X.stopped!==Ei&&(!Ht||ut==Ht||ut.canRecognizeWith(Ht))?ut.recognize($):ut.reset(),!Ht&&ut.state&(Kt|ne|de)&&(Ht=X.curRecognizer=ut),he++}},get:function($){if($ instanceof we)return $;for(var X=this.recognizers,ut=0;ut<X.length;ut++)if(X[ut].options.event==$)return X[ut];return null},add:function($){if(N($,"add",this))return this;var X=this.get($.options.event);return X&&this.remove(X),this.recognizers.push($),$.manager=this,this.touchAction.update(),$},remove:function($){if(N($,"remove",this))return this;if($=this.get($),$){var X=this.recognizers,ut=Zt(X,$);ut!==-1&&(X.splice(ut,1),this.touchAction.update())}return this},on:function($,X){if($!==f&&X!==f){var ut=this.handlers;return G(Bt($),function(It){ut[It]=ut[It]||[],ut[It].push(X)}),this}},off:function($,X){if($!==f){var ut=this.handlers;return G(Bt($),function(It){X?ut[It]&&ut[It].splice(Zt(ut[It],X),1):delete ut[It]}),this}},emit:function($,X){this.options.domEvents&&ho($,X);var ut=this.handlers[$]&&this.handlers[$].slice();if(!(!ut||!ut.length)){X.type=$,X.preventDefault=function(){X.srcEvent.preventDefault()};for(var It=0;It<ut.length;)ut[It](X),It++}},destroy:function(){this.element&&Dn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Dn($,X){var ut=$.element;if(ut.style){var It;G($.options.cssProps,function(Ht,he){It=Nt(ut.style,he),X?($.oldCssProps[It]=ut.style[It],ut.style[It]=Ht):ut.style[It]=$.oldCssProps[It]||""}),X||($.oldCssProps={})}}function ho($,X){var ut=i.createEvent("Event");ut.initEvent($,!0,!0),ut.gesture=X,X.target.dispatchEvent(ut)}H(an,{INPUT_START:Ee,INPUT_MOVE:lr,INPUT_END:xe,INPUT_CANCEL:Ve,STATE_POSSIBLE:jt,STATE_BEGAN:Kt,STATE_CHANGED:ne,STATE_ENDED:de,STATE_RECOGNIZED:Wt,STATE_CANCELLED:ze,STATE_FAILED:De,DIRECTION_NONE:Je,DIRECTION_LEFT:or,DIRECTION_RIGHT:Gt,DIRECTION_UP:Se,DIRECTION_DOWN:ir,DIRECTION_HORIZONTAL:_r,DIRECTION_VERTICAL:hn,DIRECTION_ALL:zr,Manager:ro,Input:qe,TouchAction:Ot,TouchInput:Lr,MouseInput:ui,PointerEventInput:po,TouchMouseInput:Wi,SingleTouchInput:$o,Recognizer:we,AttrRecognizer:Qe,Tap:We,Pan:Tr,Swipe:qr,Pinch:ar,Rotate:tr,Press:Rn,on:Ct,off:xt,each:G,merge:et,extend:it,assign:H,inherit:dt,bindFn:st,prefixed:Nt});var ca=typeof n<"u"?n:typeof self<"u"?self:{};ca.Hammer=an,typeof f=="function"&&f.amd?f(function(){return an}):e.exports?e.exports=an:n[l]=an})(window,document,"Hammer")})(eb);var Bp=eb.exports;const i7=O5(Bp),ba=N3({__proto__:null,default:i7},[Bp]),rb=1,nb=2,Tm=4,o7={mousedown:rb,mousemove:nb,mouseup:Tm};function a7(e,n){for(let i=0;i<e.length;i++)if(n(e[i]))return!0;return!1}function s7(e){const n=e.prototype.handler;e.prototype.handler=function(l){const f=this.store;l.button>0&&l.type==="pointerdown"&&(a7(f,m=>m.pointerId===l.pointerId)||f.push(l)),n.call(this,l)}}function l7(e){e.prototype.handler=function(i){let l=o7[i.type];l&rb&&i.button>=0&&(this.pressed=!0),l&nb&&i.which===0&&(l=Tm),this.pressed&&(l&Tm&&(this.pressed=!1),this.callback(this.manager,l,{pointers:[i],changedPointers:[i],pointerType:"mouse",srcEvent:i}))}}s7(Bp.PointerEventInput);l7(Bp.MouseInput);const u7=Bp.Manager;let Wf=class{constructor(n,i,l){this.element=n,this.callback=i,this.options={enable:!0,...l}}};const c7=ba?[[ba.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[ba.Rotate,{enable:!1}],[ba.Pinch,{enable:!1}],[ba.Swipe,{enable:!1}],[ba.Pan,{threshold:0,enable:!1}],[ba.Press,{enable:!1}],[ba.Tap,{event:"doubletap",taps:2,enable:!1}],[ba.Tap,{event:"anytap",enable:!1}],[ba.Tap,{enable:!1}]]:null,Dv={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},p7={doubletap:["tap"]},h7={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},hy={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},f7={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},Lv={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},d7=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",zu=typeof window<"u"?window:global;let Pm=!1;try{const e={get passive(){return Pm=!0,!0}};zu.addEventListener("test",null,e),zu.removeEventListener("test",null)}catch{Pm=!1}const m7=d7.indexOf("firefox")!==-1,{WHEEL_EVENTS:y7}=hy,Bv="wheel",Fv=4.000244140625,g7=40,v7=.25;class _7 extends Wf{constructor(n,i,l){super(n,i,l),this.handleEvent=f=>{if(!this.options.enable)return;let m=f.deltaY;zu.WheelEvent&&(m7&&f.deltaMode===zu.WheelEvent.DOM_DELTA_PIXEL&&(m/=zu.devicePixelRatio),f.deltaMode===zu.WheelEvent.DOM_DELTA_LINE&&(m*=g7)),m!==0&&m%Fv===0&&(m=Math.floor(m/Fv)),f.shiftKey&&m&&(m=m*v7),this.callback({type:Bv,center:{x:f.clientX,y:f.clientY},delta:-m,srcEvent:f,pointerType:"mouse",target:f.target})},this.events=(this.options.events||[]).concat(y7),this.events.forEach(f=>n.addEventListener(f,this.handleEvent,Pm?{passive:!1}:!1))}destroy(){this.events.forEach(n=>this.element.removeEventListener(n,this.handleEvent))}enableEventType(n,i){n===Bv&&(this.options.enable=i)}}const{MOUSE_EVENTS:b7}=hy,Nv="pointermove",Uv="pointerover",Vv="pointerout",jv="pointerenter",$v="pointerleave";class x7 extends Wf{constructor(n,i,l){super(n,i,l),this.handleEvent=m=>{this.handleOverEvent(m),this.handleOutEvent(m),this.handleEnterEvent(m),this.handleLeaveEvent(m),this.handleMoveEvent(m)},this.pressed=!1;const{enable:f}=this.options;this.enableMoveEvent=f,this.enableLeaveEvent=f,this.enableEnterEvent=f,this.enableOutEvent=f,this.enableOverEvent=f,this.events=(this.options.events||[]).concat(b7),this.events.forEach(m=>n.addEventListener(m,this.handleEvent))}destroy(){this.events.forEach(n=>this.element.removeEventListener(n,this.handleEvent))}enableEventType(n,i){n===Nv&&(this.enableMoveEvent=i),n===Uv&&(this.enableOverEvent=i),n===Vv&&(this.enableOutEvent=i),n===jv&&(this.enableEnterEvent=i),n===$v&&(this.enableLeaveEvent=i)}handleOverEvent(n){this.enableOverEvent&&n.type==="mouseover"&&this._emit(Uv,n)}handleOutEvent(n){this.enableOutEvent&&n.type==="mouseout"&&this._emit(Vv,n)}handleEnterEvent(n){this.enableEnterEvent&&n.type==="mouseenter"&&this._emit(jv,n)}handleLeaveEvent(n){this.enableLeaveEvent&&n.type==="mouseleave"&&this._emit($v,n)}handleMoveEvent(n){if(this.enableMoveEvent)switch(n.type){case"mousedown":n.button>=0&&(this.pressed=!0);break;case"mousemove":n.which===0&&(this.pressed=!1),this.pressed||this._emit(Nv,n);break;case"mouseup":this.pressed=!1;break}}_emit(n,i){this.callback({type:n,center:{x:i.clientX,y:i.clientY},srcEvent:i,pointerType:"mouse",target:i.target})}}const{KEY_EVENTS:w7}=hy,Zv="keydown",qv="keyup";class C7 extends Wf{constructor(n,i,l){super(n,i,l),this.handleEvent=f=>{const m=f.target||f.srcElement;m.tagName==="INPUT"&&m.type==="text"||m.tagName==="TEXTAREA"||(this.enableDownEvent&&f.type==="keydown"&&this.callback({type:Zv,srcEvent:f,key:f.key,target:f.target}),this.enableUpEvent&&f.type==="keyup"&&this.callback({type:qv,srcEvent:f,key:f.key,target:f.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(w7),n.tabIndex=this.options.tabIndex||0,n.style.outline="none",this.events.forEach(f=>n.addEventListener(f,this.handleEvent))}destroy(){this.events.forEach(n=>this.element.removeEventListener(n,this.handleEvent))}enableEventType(n,i){n===Zv&&(this.enableDownEvent=i),n===qv&&(this.enableUpEvent=i)}}const Wv="contextmenu";class S7 extends Wf{constructor(n,i,l){super(n,i,l),this.handleEvent=f=>{this.options.enable&&this.callback({type:Wv,center:{x:f.clientX,y:f.clientY},srcEvent:f,pointerType:"mouse",target:f.target})},n.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(n,i){n===Wv&&(this.options.enable=i)}}const Im=1,Cf=2,Mm=4,E7={pointerdown:Im,pointermove:Cf,pointerup:Mm,mousedown:Im,mousemove:Cf,mouseup:Mm},T7=1,P7=2,I7=3,M7=0,A7=1,k7=2,O7=1,R7=2,z7=4;function D7(e){const n=E7[e.srcEvent.type];if(!n)return null;const{buttons:i,button:l,which:f}=e.srcEvent;let m=!1,a=!1,x=!1;return n===Mm||n===Cf&&!Number.isFinite(i)?(m=f===T7,a=f===P7,x=f===I7):n===Cf?(m=!!(i&O7),a=!!(i&z7),x=!!(i&R7)):n===Im&&(m=l===M7,a=l===A7,x=l===k7),{leftButton:m,middleButton:a,rightButton:x}}function L7(e,n){const i=e.center;if(!i)return null;const l=n.getBoundingClientRect(),f=l.width/n.offsetWidth||1,m=l.height/n.offsetHeight||1,a={x:(i.x-l.left-n.clientLeft)/f,y:(i.y-l.top-n.clientTop)/m};return{center:i,offsetCenter:a}}const B1={srcElement:"root",priority:0};class B7{constructor(n){this.handleEvent=i=>{if(this.isEmpty())return;const l=this._normalizeEvent(i);let f=i.srcEvent.target;for(;f&&f!==l.rootElement;){if(this._emit(l,f),l.handled)return;f=f.parentNode}this._emit(l,"root")},this.eventManager=n,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(n,i,l,f=!1,m=!1){const{handlers:a,handlersByElement:x}=this;let b=B1;typeof l=="string"||l&&l.addEventListener?b={...B1,srcElement:l}:l&&(b={...B1,...l});let P=x.get(b.srcElement);P||(P=[],x.set(b.srcElement,P));const M={type:n,handler:i,srcElement:b.srcElement,priority:b.priority};f&&(M.once=!0),m&&(M.passive=!0),a.push(M),this._active=this._active||!M.passive;let k=P.length-1;for(;k>=0&&!(P[k].priority>=M.priority);)k--;P.splice(k+1,0,M)}remove(n,i){const{handlers:l,handlersByElement:f}=this;for(let m=l.length-1;m>=0;m--){const a=l[m];if(a.type===n&&a.handler===i){l.splice(m,1);const x=f.get(a.srcElement);x.splice(x.indexOf(a),1),x.length===0&&f.delete(a.srcElement)}}this._active=l.some(m=>!m.passive)}_emit(n,i){const l=this.handlersByElement.get(i);if(l){let f=!1;const m=()=>{n.handled=!0},a=()=>{n.handled=!0,f=!0},x=[];for(let b=0;b<l.length;b++){const{type:P,handler:M,once:k}=l[b];if(M({...n,type:P,stopPropagation:m,stopImmediatePropagation:a}),k&&x.push(l[b]),f)break}for(let b=0;b<x.length;b++){const{type:P,handler:M}=x[b];this.remove(P,M)}}}_normalizeEvent(n){const i=this.eventManager.getElement();return{...n,...D7(n),...L7(n,i),preventDefault:()=>{n.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:i}}}const F7={events:null,recognizers:null,recognizerOptions:{},Manager:u7,touchAction:"none",tabIndex:0};class N7{constructor(n=null,i){this._onBasicInput=f=>{const{srcEvent:m}=f,a=h7[m.type];a&&this.manager.emit(a,f)},this._onOtherEvent=f=>{this.manager.emit(f.type,f)},this.options={...F7,...i},this.events=new Map,this.setElement(n);const{events:l}=this.options;l&&this.on(l)}getElement(){return this.element}setElement(n){if(this.element&&this.destroy(),this.element=n,!n)return;const{options:i}=this,l=i.Manager;this.manager=new l(n,{touchAction:i.touchAction,recognizers:i.recognizers||c7}).on("hammer.input",this._onBasicInput),i.recognizers||Object.keys(Dv).forEach(f=>{const m=this.manager.get(f);m&&Dv[f].forEach(a=>{m.recognizeWith(a)})});for(const f in i.recognizerOptions){const m=this.manager.get(f);if(m){const a=i.recognizerOptions[f];delete a.enable,m.set(a)}}this.wheelInput=new _7(n,this._onOtherEvent,{enable:!1}),this.moveInput=new x7(n,this._onOtherEvent,{enable:!1}),this.keyInput=new C7(n,this._onOtherEvent,{enable:!1,tabIndex:i.tabIndex}),this.contextmenuInput=new S7(n,this._onOtherEvent,{enable:!1});for(const[f,m]of this.events)m.isEmpty()||(this._toggleRecognizer(m.recognizerName,!0),this.manager.on(f,m.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(n,i,l){this._addEventHandler(n,i,l,!1)}once(n,i,l){this._addEventHandler(n,i,l,!0)}watch(n,i,l){this._addEventHandler(n,i,l,!1,!0)}off(n,i){this._removeEventHandler(n,i)}_toggleRecognizer(n,i){const{manager:l}=this;if(!l)return;const f=l.get(n);if(f&&f.options.enable!==i){f.set({enable:i});const m=p7[n];m&&!this.options.recognizers&&m.forEach(a=>{const x=l.get(a);i?(x.requireFailure(n),f.dropRequireFailure(a)):x.dropRequireFailure(n)})}this.wheelInput.enableEventType(n,i),this.moveInput.enableEventType(n,i),this.keyInput.enableEventType(n,i),this.contextmenuInput.enableEventType(n,i)}_addEventHandler(n,i,l,f,m){if(typeof n!="string"){l=i;for(const M in n)this._addEventHandler(M,n[M],l,f,m);return}const{manager:a,events:x}=this,b=Lv[n]||n;let P=x.get(b);P||(P=new B7(this),x.set(b,P),P.recognizerName=f7[b]||b,a&&a.on(b,P.handleEvent)),P.add(n,i,l,f,m),P.isEmpty()||this._toggleRecognizer(P.recognizerName,!0)}_removeEventHandler(n,i){if(typeof n!="string"){for(const a in n)this._removeEventHandler(a,n[a]);return}const{events:l}=this,f=Lv[n]||n,m=l.get(f);if(m&&(m.remove(n,i),m.isEmpty())){const{recognizerName:a}=m;let x=!1;for(const b of l.values())if(b.recognizerName===a&&!b.isEmpty()){x=!0;break}x||this._toggleRecognizer(a,!1)}}}function Hv(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function to(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Hv(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Hv(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var bl={transitionDuration:0},is={transitionDuration:300,transitionEasing:function(n){return n},transitionInterpolator:new cp,transitionInterruption:hp.BREAK},Xh=300,Kh=function(n){return 1-(1-n)*(1-n)},Su={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],TRIPLE_PAN:["tripanstart","tripanmove","tripanend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},ib=function(){function e(){var n=this;Hs(this,e),ve(this,"events",[]),ve(this,"scrollZoom",!0),ve(this,"dragPan",!0),ve(this,"dragRotate",!0),ve(this,"doubleClickZoom",!0),ve(this,"touchZoom",!0),ve(this,"touchRotate",!1),ve(this,"keyboard",!0),ve(this,"_interactionState",{isDragging:!1}),ve(this,"_events",{}),ve(this,"_setInteractionState",function(i){Object.assign(n._interactionState,i),n.onStateChange&&n.onStateChange(n._interactionState)}),ve(this,"_onTransition",function(i,l){n.onViewportChange(i,n._interactionState,l)}),this.handleEvent=this.handleEvent.bind(this),this._transitionManager=new py({onViewportChange:this._onTransition,onStateChange:this._setInteractionState})}return Gs(e,[{key:"handleEvent",value:function(i){this.mapState=this.getMapState();var l=this._eventStartBlocked;switch(i.type){case"panstart":return l?!1:this._onPanStart(i);case"panmove":return this._onPan(i);case"panend":return this._onPanEnd(i);case"pinchstart":return l?!1:this._onPinchStart(i);case"pinchmove":return this._onPinch(i);case"pinchend":return this._onPinchEnd(i);case"tripanstart":return l?!1:this._onTriplePanStart(i);case"tripanmove":return this._onTriplePan(i);case"tripanend":return this._onTriplePanEnd(i);case"doubletap":return this._onDoubleTap(i);case"wheel":return this._onWheel(i);case"keydown":return this._onKeyDown(i);default:return!1}}},{key:"getCenter",value:function(i){var l=i.offsetCenter,f=l.x,m=l.y;return[f,m]}},{key:"isFunctionKeyPressed",value:function(i){var l=i.srcEvent;return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}},{key:"blockEvents",value:function(i){var l=this,f=setTimeout(function(){l._eventStartBlocked===f&&(l._eventStartBlocked=null)},i);this._eventStartBlocked=f}},{key:"updateViewport",value:function(i,l,f){var m=this.mapState instanceof Bu?this.mapState.getViewportProps():this.mapState,a=to(to({},i.getViewportProps()),l),x=Object.keys(a).some(function(b){return m[b]!==a[b]});this._state=i.getState(),this._setInteractionState(f),x&&this.onViewportChange(a,this._interactionState,m)}},{key:"getMapState",value:function(i){return new Bu(to(to(to({},this.mapStateProps),this._state),i))}},{key:"isDragging",value:function(){return this._interactionState.isDragging}},{key:"setOptions",value:function(i){var l=i.onViewportChange,f=i.onStateChange,m=i.eventManager,a=m===void 0?this.eventManager:m,x=i.isInteractive,b=x===void 0?!0:x,P=i.scrollZoom,M=P===void 0?this.scrollZoom:P,k=i.dragPan,N=k===void 0?this.dragPan:k,G=i.dragRotate,U=G===void 0?this.dragRotate:G,H=i.doubleClickZoom,it=H===void 0?this.doubleClickZoom:H,et=i.touchZoom,dt=et===void 0?this.touchZoom:et,st=i.touchRotate,at=st===void 0?this.touchRotate:st,yt=i.keyboard,Ct=yt===void 0?this.keyboard:yt;this.onViewportChange=l,this.onStateChange=f;var xt=this.mapStateProps||{},Vt=xt.height!==i.height||xt.width!==i.width;this.mapStateProps=i,Vt&&(this.mapState=xt,this.updateViewport(new Bu(i))),this._transitionManager.processViewportChange(i),this.eventManager!==a&&(this.eventManager=a,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Su.WHEEL,b&&!!M),this.toggleEvents(Su.PAN,b&&!!(N||U)),this.toggleEvents(Su.PINCH,b&&!!(dt||at)),this.toggleEvents(Su.TRIPLE_PAN,b&&!!at),this.toggleEvents(Su.DOUBLE_TAP,b&&!!it),this.toggleEvents(Su.KEYBOARD,b&&!!Ct),this.scrollZoom=M,this.dragPan=N,this.dragRotate=U,this.doubleClickZoom=it,this.touchZoom=dt,this.touchRotate=at,this.keyboard=Ct}},{key:"toggleEvents",value:function(i,l){var f=this;this.eventManager&&i.forEach(function(m){f._events[m]!==l&&(f._events[m]=l,l?f.eventManager.on(m,f.handleEvent):f.eventManager.off(m,f.handleEvent))})}},{key:"_onPanStart",value:function(i){var l=this.getCenter(i);this._panRotate=this.isFunctionKeyPressed(i)||i.rightButton;var f=this._panRotate?this.mapState.rotateStart({pos:l}):this.mapState.panStart({pos:l});return this.updateViewport(f,bl,{isDragging:!0}),!0}},{key:"_onPan",value:function(i){return this.isDragging()?this._panRotate?this._onPanRotate(i):this._onPanMove(i):!1}},{key:"_onPanEnd",value:function(i){return this.isDragging()?this._panRotate?this._onPanRotateEnd(i):this._onPanMoveEnd(i):!1}},{key:"_onPanMove",value:function(i){if(!this.dragPan)return!1;var l=this.getCenter(i),f=this.mapState.pan({pos:l});return this.updateViewport(f,bl,{isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(i){if(this.dragPan){var l=this.dragPan.inertia,f=l===void 0?Xh:l;if(f&&i.velocity){var m=this.getCenter(i),a=[m[0]+i.velocityX*f/2,m[1]+i.velocityY*f/2],x=this.mapState.pan({pos:a}).panEnd();return this.updateViewport(x,to(to({},is),{},{transitionDuration:f,transitionEasing:Kh}),{isDragging:!1,isPanning:!0}),!0}}var b=this.mapState.panEnd();return this.updateViewport(b,null,{isDragging:!1,isPanning:!1}),!0}},{key:"_onPanRotate",value:function(i){if(!this.dragRotate)return!1;var l=this.getCenter(i),f=this.mapState.rotate({pos:l});return this.updateViewport(f,bl,{isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(i){if(this.dragRotate){var l=this.dragRotate.inertia,f=l===void 0?Xh:l;if(f&&i.velocity){var m=this.getCenter(i),a=[m[0]+i.velocityX*f/2,m[1]+i.velocityY*f/2],x=this.mapState.rotate({pos:a}).rotateEnd();return this.updateViewport(x,to(to({},is),{},{transitionDuration:f,transitionEasing:Kh}),{isDragging:!1,isRotating:!0}),!0}}var b=this.mapState.panEnd();return this.updateViewport(b,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onWheel",value:function(i){if(!this.scrollZoom)return!1;var l=this.scrollZoom,f=l.speed,m=f===void 0?.01:f,a=l.smooth,x=a===void 0?!1:a;i.preventDefault();var b=this.getCenter(i),P=i.delta,M=2/(1+Math.exp(-Math.abs(P*m)));P<0&&M!==0&&(M=1/M);var k=this.mapState.zoom({pos:b,scale:M});return this.updateViewport(k,to(to({},is),{},{transitionInterpolator:new cp({around:b}),transitionDuration:x?250:1}),{isPanning:!0,isZooming:!0}),!0}},{key:"_onPinchStart",value:function(i){var l=this.getCenter(i),f=this.mapState.zoomStart({pos:l}).rotateStart({pos:l});return this._startPinchRotation=i.rotation,this._lastPinchEvent=i,this.updateViewport(f,bl,{isDragging:!0}),!0}},{key:"_onPinch",value:function(i){if(!this.isDragging()||!this.touchZoom&&!this.touchRotate)return!1;var l=this.mapState;if(this.touchZoom){var f=i.scale,m=this.getCenter(i);l=l.zoom({pos:m,scale:f})}if(this.touchRotate){var a=i.rotation;l=l.rotate({deltaAngleX:this._startPinchRotation-a})}return this.updateViewport(l,bl,{isDragging:!0,isPanning:!!this.touchZoom,isZooming:!!this.touchZoom,isRotating:!!this.touchRotate}),this._lastPinchEvent=i,!0}},{key:"_onPinchEnd",value:function(i){if(!this.isDragging())return!1;if(this.touchZoom){var l=this.touchZoom.inertia,f=l===void 0?Xh:l,m=this._lastPinchEvent;if(f&&m&&i.scale!==m.scale){var a=this.getCenter(i),x=this.mapState.rotateEnd(),b=Math.log2(i.scale),P=(b-Math.log2(m.scale))/(i.deltaTime-m.deltaTime),M=Math.pow(2,b+P*f/2);return x=x.zoom({pos:a,scale:M}).zoomEnd(),this.updateViewport(x,to(to({},is),{},{transitionInterpolator:new cp({around:a}),transitionDuration:f,transitionEasing:Kh}),{isDragging:!1,isPanning:!!this.touchZoom,isZooming:!!this.touchZoom,isRotating:!1}),this.blockEvents(f),!0}}var k=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(k,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),this._startPinchRotation=null,this._lastPinchEvent=null,!0}},{key:"_onTriplePanStart",value:function(i){var l=this.getCenter(i),f=this.mapState.rotateStart({pos:l});return this.updateViewport(f,bl,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(i){if(!this.isDragging()||!this.touchRotate)return!1;var l=this.getCenter(i);l[0]-=i.deltaX;var f=this.mapState.rotate({pos:l});return this.updateViewport(f,bl,{isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(i){if(!this.isDragging())return!1;if(this.touchRotate){var l=this.touchRotate.inertia,f=l===void 0?Xh:l;if(f&&i.velocityY){var m=this.getCenter(i),a=[m[0],m[1]+=i.velocityY*f/2],x=this.mapState.rotate({pos:a});return this.updateViewport(x,to(to({},is),{},{transitionDuration:f,transitionEasing:Kh}),{isDragging:!1,isRotating:!0}),this.blockEvents(f),!1}}var b=this.mapState.rotateEnd();return this.updateViewport(b,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(i){if(!this.doubleClickZoom)return!1;var l=this.getCenter(i),f=this.isFunctionKeyPressed(i),m=this.mapState.zoom({pos:l,scale:f?.5:2});return this.updateViewport(m,Object.assign({},is,{transitionInterpolator:new cp({around:l})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(i){if(!this.keyboard)return!1;var l=this.isFunctionKeyPressed(i),f=this.keyboard,m=f.zoomSpeed,a=m===void 0?2:m,x=f.moveSpeed,b=x===void 0?100:x,P=f.rotateSpeedX,M=P===void 0?15:P,k=f.rotateSpeedY,N=k===void 0?10:k,G=this.mapStateProps,U;switch(i.srcEvent.keyCode){case 189:l?U=this.getMapState({zoom:G.zoom-Math.log2(a)-1}):U=this.getMapState({zoom:G.zoom-Math.log2(a)});break;case 187:l?U=this.getMapState({zoom:G.zoom+Math.log2(a)+1}):U=this.getMapState({zoom:G.zoom+Math.log2(a)});break;case 37:l?U=this.getMapState({bearing:G.bearing-M}):U=this.mapState.pan({pos:[b,0],startPos:[0,0]});break;case 39:l?U=this.getMapState({bearing:G.bearing+M}):U=this.mapState.pan({pos:[-b,0],startPos:[0,0]});break;case 38:l?U=this.getMapState({pitch:G.pitch+N}):U=this.mapState.pan({pos:[0,b],startPos:[0,0]});break;case 40:l?U=this.getMapState({pitch:G.pitch-N}):U=this.mapState.pan({pos:[0,-b],startPos:[0,0]});break;default:return!1}return this.updateViewport(U,is)}}]),e}();function Gv(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function rs(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Gv(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Gv(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var U7=Object.assign({},Xs.propTypes,{maxZoom:Tt.number,minZoom:Tt.number,maxPitch:Tt.number,minPitch:Tt.number,onViewStateChange:Tt.func,onViewportChange:Tt.func,onInteractionStateChange:Tt.func,transitionDuration:Tt.oneOfType([Tt.number,Tt.string]),transitionInterpolator:Tt.object,transitionInterruption:Tt.number,transitionEasing:Tt.func,onTransitionStart:Tt.func,onTransitionInterrupt:Tt.func,onTransitionEnd:Tt.func,scrollZoom:Tt.oneOfType([Tt.bool,Tt.object]),dragPan:Tt.oneOfType([Tt.bool,Tt.object]),dragRotate:Tt.oneOfType([Tt.bool,Tt.object]),doubleClickZoom:Tt.bool,touchZoom:Tt.oneOfType([Tt.bool,Tt.object]),touchRotate:Tt.oneOfType([Tt.bool,Tt.object]),keyboard:Tt.oneOfType([Tt.bool,Tt.object]),onHover:Tt.func,onClick:Tt.func,onDblClick:Tt.func,onContextMenu:Tt.func,onMouseDown:Tt.func,onMouseMove:Tt.func,onMouseUp:Tt.func,onTouchStart:Tt.func,onTouchMove:Tt.func,onTouchEnd:Tt.func,onMouseEnter:Tt.func,onMouseLeave:Tt.func,onMouseOut:Tt.func,onWheel:Tt.func,touchAction:Tt.string,eventRecognizerOptions:Tt.object,clickRadius:Tt.number,interactiveLayerIds:Tt.array,getCursor:Tt.func,controller:Tt.instanceOf(ib)}),V7=function(n){var i=n.isDragging,l=n.isHovering;return i?"grabbing":l?"pointer":"grab"},j7=Object.assign({},Xs.defaultProps,Pl,py.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(n){return n.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",eventRecognizerOptions:{},clickRadius:0,getCursor:V7});function fy(e){if(e.lngLat||!e.offsetCenter)return e;var n=e.offsetCenter,i=n.x,l=n.y;if(!Number.isFinite(i)||!Number.isFinite(l))return e;var f=[i,l];e.point=f;var m=this.viewport,a=m.unproject(f,{targetZ:m.meterOffset[2]});return e.lngLat=[a[0],a[1]],e}function ob(e){var n=this.map;if(!n||!e)return null;var i={},l=this.props.clickRadius;this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds);try{return n.queryRenderedFeatures(l?[[e[0]-l,e[1]+l],[e[0]+l,e[1]-l]]:e,i)}catch{return null}}function ss(e,n){var i=this.props[e];i&&i(fy.call(this,n))}function $7(e){ss.call(this,e.pointerType==="touch"?"onTouchStart":"onMouseDown",e)}function Z7(e){ss.call(this,e.pointerType==="touch"?"onTouchEnd":"onMouseUp",e)}function q7(e){if(ss.call(this,e.pointerType==="touch"?"onTouchMove":"onMouseMove",e),!this.state.isDragging){var n=this.props,i=n.onHover,l=n.interactiveLayerIds,f;e=fy.call(this,e),(l||i)&&(f=ob.call(this,e.point));var m=!!(l&&f&&f.length>0),a=m&&!this.state.isHovering,x=!m&&this.state.isHovering;(i||a)&&(e.features=f,i&&i(e)),a&&ss.call(this,"onMouseEnter",e),x&&ss.call(this,"onMouseLeave",e),(a||x)&&this.setState({isHovering:m})}}function Xv(e){var n=this.props,i=n.onClick,l=n.onNativeClick,f=n.onDblClick,m=n.doubleClickZoom,a=[],x=f||m;switch(e.type){case"anyclick":a.push(l),x||a.push(i);break;case"click":x&&a.push(i);break}a=a.filter(Boolean),a.length&&(e=fy.call(this,e),e.features=ob.call(this,e.point),a.forEach(function(b){return b(e)}))}function W7(e){return{getMap:e.current&&e.current.getMap,queryRenderedFeatures:e.current&&e.current.queryRenderedFeatures}}var Hf=rn(function(e,n){var i=Mi(ec),l=Cn(function(){return e.controller||new ib},[]),f=Cn(function(){return new N7(null,{touchAction:e.touchAction,recognizerOptions:e.eventRecognizerOptions})},[]),m=Ae(null),a=Ae(null),x=Ae({width:0,height:0,state:{isHovering:!1,isDragging:!1}}),b=x.current;b.props=e,b.map=a.current&&a.current.getMap(),b.setState=function(Ct){b.state=rs(rs({},b.state),Ct),m.current.style.cursor=e.getCursor(b.state)};var P=!0,M,k,N=function(xt,Vt,Dt){if(P){M=[xt,Vt,Dt];return}var Bt=b.props,Zt=Bt.onViewStateChange,Jt=Bt.onViewportChange;Object.defineProperty(xt,"position",{get:function(){return[0,0,qf(b.map,xt)]}}),Zt&&Zt({viewState:xt,interactionState:Vt,oldViewState:Dt}),Jt&&Jt(xt,Vt,Dt)};Dl(n,function(){return W7(a)},[]);var G=Cn(function(){return rs(rs({},i),{},{eventManager:f,container:i.container||m.current})},[i,m.current]);G.onViewportChange=N,G.viewport=i.viewport||Q5(b),b.viewport=G.viewport;var U=function(xt){var Vt=xt.isDragging,Dt=Vt===void 0?!1:Vt;if(Dt!==b.state.isDragging&&b.setState({isDragging:Dt}),P){k=xt;return}var Bt=b.props.onInteractionStateChange;Bt&&Bt(xt)},H=function(){b.width&&b.height&&l.setOptions(rs(rs(rs({},b.props),b.props.viewState),{},{isInteractive:!!(b.props.onViewStateChange||b.props.onViewportChange),onViewportChange:N,onStateChange:U,eventManager:f,width:b.width,height:b.height}))},it=function(xt){var Vt=xt.width,Dt=xt.height;b.width=Vt,b.height=Dt,H(),b.props.onResize({width:Vt,height:Dt})};pr(function(){return f.setElement(m.current),f.on({pointerdown:$7.bind(b),pointermove:q7.bind(b),pointerup:Z7.bind(b),pointerleave:ss.bind(b,"onMouseOut"),click:Xv.bind(b),anyclick:Xv.bind(b),dblclick:ss.bind(b,"onDblClick"),wheel:ss.bind(b,"onWheel"),contextmenu:ss.bind(b,"onContextMenu")}),function(){f.destroy()}},[]),Sm(function(){M&&N.apply(void 0,g8(M)),k&&U(k)}),H();var et=e.width,dt=e.height,st=e.style,at=e.getCursor,yt=Cn(function(){return rs(rs({position:"relative"},st),{},{width:et,height:dt,cursor:at(b.state)})},[st,et,dt,at,b.state]);return(!M||!b._child)&&(b._child=Ue(ly,{value:G},Ue("div",{key:"event-canvas",ref:m,style:yt},Ue(Xs,Pt({},e,{width:"100%",height:"100%",style:null,onResize:it,ref:a}))))),P=!1,b._child});Hf.supported=Xs.supported;Hf.propTypes=U7;Hf.defaultProps=j7;Tt.string.isRequired,Tt.string;function Cr(e,n){if(e==null)return{};var i={},l=Object.keys(e),f,m;for(m=0;m<l.length;m++)f=l[m],!(n.indexOf(f)>=0)&&(i[f]=e[f]);return i}var H7=["fill","line","symbol","circle","fill-extrusion","raster","background","heatmap","hillshade","sky"];Tt.oneOf(H7).isRequired,Tt.string,Tt.string,Tt.string;var Ks={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1},sa={captureScroll:Tt.bool,captureDrag:Tt.bool,captureClick:Tt.bool,captureDoubleClick:Tt.bool,capturePointerMove:Tt.bool};function G7(e){var n=e.containerRef.current,i=e.context.eventManager;if(!(!n||!i)){var l={wheel:function(m){var a=e.props;a.captureScroll&&m.stopPropagation(),a.onScroll&&a.onScroll(m,e)},panstart:function(m){var a=e.props;a.captureDrag&&m.stopPropagation(),a.onDragStart&&a.onDragStart(m,e)},anyclick:function(m){var a=e.props;a.captureClick&&m.stopPropagation(),a.onClick&&a.onClick(m,e)},click:function(m){var a=e.props;a.captureClick&&m.stopPropagation(),a.onClick&&a.onClick(m,e)},dblclick:function(m){var a=e.props;a.captureDoubleClick&&m.stopPropagation(),a.onDoubleClick&&a.onDoubleClick(m,e)},pointermove:function(m){var a=e.props;a.capturePointerMove&&m.stopPropagation(),a.onPointerMove&&a.onPointerMove(m,e)}};return i.watch(l,n),function(){i.off(l)}}}function Ys(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Mi(ec),i=Ae(null),l=Ae({props:e,state:{},context:n,containerRef:i}),f=l.current;return f.props=e,f.context=n,pr(function(){return G7(f)},[n.eventManager]),f}function X7(e){var n=K7();return function(){var l=qs(e),f;if(n){var m=qs(this).constructor;f=Reflect.construct(l,arguments,m)}else f=l.apply(this,arguments);return cy(this,f)}}function K7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Y7(e){var n=e.instance,i=Ys(e),l=i.context,f=i.containerRef;return n._context=l,n._containerRef=f,n._render()}var ab=function(e){uy(i,e);var n=X7(i);function i(){var l;Hs(this,i);for(var f=arguments.length,m=new Array(f),a=0;a<f;a++)m[a]=arguments[a];return l=n.call.apply(n,[this].concat(m)),ve(ns(l),"_context",{}),ve(ns(l),"_containerRef",Bm()),ve(ns(l),"_onScroll",function(x){}),ve(ns(l),"_onDragStart",function(x){}),ve(ns(l),"_onDblClick",function(x){}),ve(ns(l),"_onClick",function(x){}),ve(ns(l),"_onPointerMove",function(x){}),l}return Gs(i,[{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){return Ue(Y7,Pt({instance:this},this.props,{onScroll:this._onScroll,onDragStart:this._onDragStart,onDblClick:this._onDblClick,onClick:this._onClick,onPointerMove:this._onPointerMove}))}}]),i}(_p);ve(ab,"propTypes",sa);ve(ab,"defaultProps",Ks);function Kv(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function Yv(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Kv(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Kv(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var J7=Object.assign({},sa,{draggable:Tt.bool,onDrag:Tt.func,onDragEnd:Tt.func,onDragStart:Tt.func,offsetLeft:Tt.number,offsetTop:Tt.number}),Q7=Object.assign({},Ks,{draggable:!1,offsetLeft:0,offsetTop:0});function sb(e){var n=e.offsetCenter,i=n.x,l=n.y;return[i,l]}function t9(e,n){var i=e.center,l=i.x,f=i.y;if(n){var m=n.getBoundingClientRect();return[m.left-l,m.top-f]}return null}function dy(e,n,i,l){var f=e[0]+n[0]-i.offsetLeft,m=e[1]+n[1]-i.offsetTop;return l.viewport.unproject([f,m])}function e9(e,n){var i=n.props,l=n.callbacks,f=n.state,m=n.context,a=n.containerRef,x=i.draggable;if(x){e.stopPropagation();var b=sb(e),P=t9(e,a.current);if(f.setDragPos(b),f.setDragOffset(P),l.onDragStart&&P){var M=Object.assign({},e);M.lngLat=dy(b,P,i,m),l.onDragStart(M)}}}function r9(e,n){var i=n.props,l=n.callbacks,f=n.state,m=n.context;e.stopPropagation();var a=sb(e);f.setDragPos(a);var x=f.dragOffset;if(l.onDrag&&x){var b=Object.assign({},e);b.lngLat=dy(a,x,i,m),l.onDrag(b)}}function n9(e,n){var i=n.props,l=n.callbacks,f=n.state,m=n.context;e.stopPropagation();var a=f.dragPos,x=f.dragOffset;if(f.setDragPos(null),f.setDragOffset(null),l.onDragEnd&&a&&x){var b=Object.assign({},e);b.lngLat=dy(a,x,i,m),l.onDragEnd(b)}}function i9(e,n){var i=n.state;e.stopPropagation(),i.setDragPos(null),i.setDragOffset(null)}function o9(e){var n=e.context.eventManager;if(!(!n||!e.state.dragPos)){var i={panmove:function(f){return r9(f,e)},panend:function(f){return n9(f,e)},pancancel:function(f){return i9(f,e)}};return n.watch(i),function(){n.off(i)}}}function a9(e){var n=$e(null),i=ai(n,2),l=i[0],f=i[1],m=$e(null),a=ai(m,2),x=a[0],b=a[1],P=Ys(Yv(Yv({},e),{},{onDragStart:e9}));return P.callbacks=e,P.state.dragPos=l,P.state.setDragPos=f,P.state.dragOffset=x,P.state.setDragOffset=b,pr(function(){return o9(P)},[P.context.eventManager,!!l]),P}var Jv=typeof window<"u"&&window.devicePixelRatio||1,Pp=function(n){return Math.round(n*Jv)/Jv},Qv=function(n,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x";if(n===null)return i;var f=l==="x"?n.offsetWidth:n.offsetHeight;return Pp(i/100*f)/f*100},s9=Object.assign({},J7,{className:Tt.string,longitude:Tt.number.isRequired,latitude:Tt.number.isRequired}),l9=Object.assign({},Q7,{className:""});function u9(e){var n=e.props,i=e.state,l=e.context,f=n.longitude,m=n.latitude,a=n.offsetLeft,x=n.offsetTop,b=i.dragPos,P=i.dragOffset,M=l.viewport,k=l.map;if(b&&P)return[b[0]+P[0],b[1]+P[1]];var N=qf(k,{longitude:f,latitude:m}),G=M.project([f,m,N]),U=ai(G,2),H=U[0],it=U[1];return H+=a,it+=x,[H,it]}function my(e){var n=a9(e),i=n.state,l=n.containerRef,f=e.children,m=e.className,a=e.draggable,x=i.dragPos,b=u9(n),P=ai(b,2),M=P[0],k=P[1],N="translate(".concat(Pp(M),"px, ").concat(Pp(k),"px)"),G=a?x?"grabbing":"grab":"auto",U=Cn(function(){var it={position:"absolute",left:0,top:0,transform:N,cursor:G};return Ue("div",{className:"mapboxgl-marker ".concat(m),ref:n.containerRef,style:it},f)},[f,m]),H=l.current;return H&&(H.style.transform=N,H.style.cursor=G),U}my.defaultProps=l9;my.propTypes=s9;const F1=In(my);var Ip={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},c9=Object.keys(Ip);function p9(e){var n=e.x,i=e.y,l=e.width,f=e.height,m=e.selfWidth,a=e.selfHeight,x=e.anchor,b=e.padding,P=b===void 0?0:b,M=Ip[x],k=M.x,N=M.y,G=i-N*a,U=G+a,H=Math.max(0,P-G)+Math.max(0,U-f+P);if(H>0){var it=N,et=H;for(N=0;N<=1;N+=.5)G=i-N*a,U=G+a,H=Math.max(0,P-G)+Math.max(0,U-f+P),H<et&&(et=H,it=N);N=it}var dt=.5;N===.5&&(k=Math.floor(k),dt=1);var st=n-k*m,at=st+m,yt=Math.max(0,P-st)+Math.max(0,at-l+P);if(yt>0){var Ct=k,xt=yt;for(k=0;k<=1;k+=dt)st=n-k*m,at=st+m,yt=Math.max(0,P-st)+Math.max(0,at-l+P),yt<xt&&(xt=yt,Ct=k);k=Ct}return c9.find(function(Vt){var Dt=Ip[Vt];return Dt.x===k&&Dt.y===N})||x}function t_(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function e_(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?t_(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t_(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var h9=Object.assign({},sa,{className:Tt.string,longitude:Tt.number.isRequired,latitude:Tt.number.isRequired,altitude:Tt.number,offsetLeft:Tt.number,offsetTop:Tt.number,tipSize:Tt.number,closeButton:Tt.bool,closeOnClick:Tt.bool,anchor:Tt.oneOf(Object.keys(Ip)),dynamicPosition:Tt.bool,sortByDepth:Tt.bool,onClose:Tt.func}),f9=Object.assign({},Ks,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}});function d9(e,n,i,l){var f=ai(l,2),m=f[0],a=f[1],x=e.anchor,b=e.dynamicPosition,P=e.tipSize;return i&&b?p9({x:m,y:a,anchor:x,padding:P,width:n.width,height:n.height,selfWidth:i.clientWidth,selfHeight:i.clientHeight}):x}function m9(e,n,i,l,f){var m=ai(l,3),a=m[0],x=m[1],b=m[2],P=e.offsetLeft,M=e.offsetTop,k=e.sortByDepth,N=Ip[f],G=a+P,U=x+M,H=Qv(i,-N.x*100),it=Qv(i,-N.y*100,"y"),et={position:"absolute",transform:`
      translate(`.concat(H,"%, ").concat(it,`%)
      translate(`).concat(Pp(G),"px, ").concat(Pp(U),`px)
    `),display:void 0,zIndex:void 0};return k&&(b>1||b<-1||a<0||a>n.width||x<0||x>n.height?et.display="none":et.zIndex=Math.floor((1-b)/2*1e5)),et}function r_(e,n){var i=n.props,l=n.context;(i.closeOnClick||e.target.className==="mapboxgl-popup-close-button")&&(i.onClose(),l.eventManager&&l.eventManager.once("click",function(f){return f.stopPropagation()},e.target))}function yy(e){var n=Ae(null),i=Ys(e_(e_({},e),{},{onClick:r_})),l=i.context,f=i.containerRef,m=$e(!1),a=ai(m,2),x=a[1];pr(function(){x(!0)},[n.current]);var b=l.viewport,P=l.map,M=e.className,k=e.longitude,N=e.latitude,G=e.tipSize,U=e.closeButton,H=e.children,it=e.altitude;it===void 0&&(it=qf(P,{longitude:k,latitude:N}));var et=b.project([k,N,it]),dt=d9(e,b,n.current,et),st=m9(e,b,f.current,et,dt),at=cr(function(yt){return!l.eventManager&&r_(yt,i)},[l.eventManager]);return Ue("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(dt," ").concat(M),style:st,ref:f},Ue("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:G}}),Ue("div",{key:"content",ref:n,className:"mapboxgl-popup-content",onClick:at},U&&Ue("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"×"),H))}yy.propTypes=h9;yy.defaultProps=f9;In(yy);function n_(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function y9(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?n_(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n_(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var g9=Object.assign({},sa,{toggleLabel:Tt.string,className:Tt.string,style:Tt.object,compact:Tt.bool,customAttribution:Tt.oneOfType([Tt.string,Tt.arrayOf(Tt.string)])}),v9=Object.assign({},Ks,{className:"",toggleLabel:"Toggle Attribution"});function _9(e,n,i,l){var f=new ka.AttributionControl(e);return f._map=n,f._container=i,f._innerContainer=l,f._updateAttributions(),f._updateEditLink(),n.on("styledata",f._updateData),n.on("sourcedata",f._updateData),f}function b9(e){e._map.off("styledata",e._updateData),e._map.off("sourcedata",e._updateData)}function gy(e){var n=Ys(e),i=n.context,l=n.containerRef,f=Ae(null),m=$e(!1),a=ai(m,2),x=a[0],b=a[1];pr(function(){var N;return i.map&&(N=_9({customAttribution:e.customAttribution},i.map,l.current,f.current)),function(){return N&&b9(N)}},[i.map]);var P=e.compact===void 0?i.viewport.width<=640:e.compact;pr(function(){!P&&x&&b(!1)},[P]);var M=cr(function(){return b(function(N){return!N})},[]),k=Cn(function(){return y9({position:"absolute"},e.style)},[e.style]);return Ue("div",{style:k,className:e.className},Ue("div",{ref:l,"aria-pressed":x,className:"mapboxgl-ctrl mapboxgl-ctrl-attrib ".concat(P?"mapboxgl-compact":""," ").concat(x?"mapboxgl-compact-show":"")},Ue("button",{type:"button",className:"mapboxgl-ctrl-attrib-button",title:e.toggleLabel,onClick:M}),Ue("div",{ref:f,className:"mapboxgl-ctrl-attrib-inner",role:"list"})))}gy.propTypes=g9;gy.defaultProps=v9;In(gy);function i_(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function x9(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?i_(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):i_(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var w9=Object.assign({},sa,{className:Tt.string,style:Tt.object,container:Tt.object,label:Tt.string}),C9=Object.assign({},Ks,{className:"",container:null,label:"Toggle fullscreen"});function vy(e){var n=Ys(e),i=n.context,l=n.containerRef,f=$e(!1),m=ai(f,2),a=m[0],x=m[1],b=$e(!1),P=ai(b,2),M=P[0],k=P[1],N=$e(null),G=ai(N,2),U=G[0],H=G[1];pr(function(){var yt=new ka.FullscreenControl;H(yt),k(yt._checkFullscreenSupport());var Ct=function(){var Vt=!yt._fullscreen;yt._fullscreen=Vt,x(Vt)};return os.addEventListener(yt._fullscreenchange,Ct),function(){os.removeEventListener(yt._fullscreenchange,Ct)}},[]);var it=function(){U&&(U._container=e.container||i.container,U._onClickFullscreen())},et=Cn(function(){return x9({position:"absolute"},e.style)},[e.style]);if(!M)return null;var dt=e.className,st=e.label,at=a?"shrink":"fullscreen";return Ue("div",{style:et,className:dt},Ue("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:l},Ue("button",{key:at,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(at),type:"button",title:st,onClick:it},Ue("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}vy.propTypes=w9;vy.defaultProps=C9;In(vy);var Eu;function S9(){return Eu!==void 0?Promise.resolve(Eu):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(function(e){return Eu=e.state!=="denied",Eu}):(Eu=!!window.navigator.geolocation,Promise.resolve(Eu))}function o_(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function E9(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?o_(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o_(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var a_=function(){},T9=Object.assign({},sa,{className:Tt.string,style:Tt.object,label:Tt.string,disabledLabel:Tt.string,auto:Tt.bool,positionOptions:Tt.object,fitBoundsOptions:Tt.object,trackUserLocation:Tt.bool,showUserLocation:Tt.bool,showAccuracyCircle:Tt.bool,onViewStateChange:Tt.func,onViewportChange:Tt.func,onGeolocate:Tt.func}),P9=Object.assign({},Ks,{className:"",label:"Find My Location",disabledLabel:"Location Not Available",auto:!1,positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0,showAccuracyCircle:!0,onGeolocate:function(){}});function I9(e){var n=new ka.LngLat(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,l=n.toBounds(i);return[[l._ne.lng,l._ne.lat],[l._sw.lng,l._sw.lat]]}function M9(e,n,i){var l=new ka.GeolocateControl(n);l._container=os.createElement("div"),l._map={on:function(){},_getUIString:function(){return""}},l._setupUI(!0),l._map=e.map,l._geolocateButton=i;var f=e.eventManager;return l.options.trackUserLocation&&f&&f.on("panstart",function(){l._watchState==="ACTIVE_LOCK"&&(l._watchState="BACKGROUND",i.classList.add("mapboxgl-ctrl-geolocate-background"),i.classList.remove("mapboxgl-ctrl-geolocate-active"))}),l.on("geolocate",n.onGeolocate),l}function A9(e,n){var i=n.context,l=n.props,f=I9(e),m=i.viewport.fitBounds(f,l.fitBoundsOptions),a=m.longitude,x=m.latitude,b=m.zoom,P=Object.assign({},i.viewport,{longitude:a,latitude:x,zoom:b}),M=new Bu(P),k=Object.assign({},M.getViewportProps(),is),N=l.onViewportChange||i.onViewportChange||a_,G=l.onViewStateChange||i.onViewStateChange||a_;G({viewState:k}),N(k)}function _y(e){var n=Ys(e),i=n.context,l=n.containerRef,f=Ae(null),m=$e(null),a=ai(m,2),x=a[0],b=a[1],P=$e(!1),M=ai(P,2),k=M[0],N=M[1];pr(function(){var st;return i.map&&S9().then(function(at){N(at),f.current&&(st=M9(i,e,f.current),st._updateCamera=function(yt){return A9(yt,n)},b(st))}),function(){st&&st._clearWatch()}},[i.map]);var G=cr(function(){x&&(x.options=n.props,x.trigger())},[x]);pr(function(){e.auto&&G()},[x,e.auto]),pr(function(){},[i.viewport.zoom]);var U=e.className,H=e.label,it=e.disabledLabel,et=e.trackUserLocation,dt=Cn(function(){return E9({position:"absolute"},e.style)},[e.style]);return Ue("div",{style:dt,className:U},Ue("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:l},Ue("button",{key:"geolocate",className:"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",ref:f,disabled:!k,"aria-pressed":!et,type:"button",title:k?H:it,"aria-label":k?H:it,onClick:G},Ue("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}_y.propTypes=T9;_y.defaultProps=P9;In(_y);function s_(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function k9(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?s_(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s_(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var l_=function(){},O9=Object.assign({},sa,{className:Tt.string,style:Tt.object,onViewStateChange:Tt.func,onViewportChange:Tt.func,showCompass:Tt.bool,showZoom:Tt.bool,zoomInLabel:Tt.string,zoomOutLabel:Tt.string,compassLabel:Tt.string}),R9=Object.assign({},Ks,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function N1(e,n,i){var l=e.viewport,f=new Bu(Object.assign({},l,i)),m=Object.assign({},f.getViewportProps(),is),a=n.onViewportChange||e.onViewportChange||l_,x=n.onViewStateChange||e.onViewStateChange||l_;x({viewState:m}),a(m)}function U1(e,n,i,l){return Ue("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:n,onClick:i},l||Ue("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}function z9(e){var n=e.viewport.bearing,i={transform:"rotate(".concat(-n,"deg)")};return Ue("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:i})}function by(e){var n=Ys(e),i=n.context,l=n.containerRef,f=function(){N1(i,e,{zoom:i.viewport.zoom+1})},m=function(){N1(i,e,{zoom:i.viewport.zoom-1})},a=function(){N1(i,e,{bearing:0,pitch:0})},x=e.className,b=e.showCompass,P=e.showZoom,M=e.zoomInLabel,k=e.zoomOutLabel,N=e.compassLabel,G=Cn(function(){return k9({position:"absolute"},e.style)},[e.style]);return Ue("div",{style:G,className:x},Ue("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:l},P&&U1("zoom-in",M,f),P&&U1("zoom-out",k,m),b&&U1("compass",N,a,z9(i))))}by.propTypes=O9;by.defaultProps=R9;const D9=In(by);function u_(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,l)}return i}function L9(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?u_(Object(i),!0).forEach(function(l){ve(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u_(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}var B9=Object.assign({},sa,{className:Tt.string,style:Tt.object,maxWidth:Tt.number,unit:Tt.oneOf(["imperial","metric","nautical"])}),F9=Object.assign({},Ks,{className:"",maxWidth:100,unit:"metric"});function xy(e){var n=Ys(e),i=n.context,l=n.containerRef,f=$e(null),m=ai(f,2),a=m[0],x=m[1];pr(function(){if(i.map){var P=new ka.ScaleControl;P._map=i.map,P._container=l.current,x(P)}},[i.map]),a&&(a.options=e,a._onMove());var b=Cn(function(){return L9({position:"absolute"},e.style)},[e.style]);return Ue("div",{style:b,className:e.className},Ue("div",{ref:l,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}))}xy.propTypes=B9;xy.defaultProps=F9;In(xy);Object.assign({},sa,{redraw:Tt.func.isRequired});Object.assign({},sa,{redraw:Tt.func.isRequired,style:Tt.object});Object.assign({},sa,{redraw:Tt.func.isRequired,style:Tt.object});ka&&ka.setRTLTextPlugin;function N9({className:e="h-6 w-6",stroke:n="currentColor",fill:i="currentColor",onClick:l=()=>{}}){return T("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:i,viewBox:"0 0 24 24",stroke:n,onClick:l,children:[T("title",{children:"percent"}),T("path",{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M19,19H15V21H19A2,2 0 0,0 21,19V15H19M19,3H15V5H19V9H21V5A2,2 0 0,0 19,3M5,5H9V3H5A2,2 0 0,0 3,5V9H5M5,15H3V19A2,2 0 0,0 5,21H9V19H5V15Z"})]})}In(N9);function sf({className:e="h-6 w-6",stroke:n="currentColor",fill:i="none",onClick:l=()=>{}}){return T("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:i,viewBox:"0 0 24 24",stroke:n,onClick:l,children:T("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}const qA=In(sf);function U9({}){const e="C5RCYbOqpzmcd9HWvW6JGJt7qApwj2ABxTXcLVI9",[n,i]=$e({latitude:10.870537852240094,longitude:106.77827033515608,zoom:14});return T(Hf,{...n,width:"w-full",height:"95%",attributionControl:!1,onViewportChange:f=>i(f),goongApiAccessToken:e,children:[T(D9,{style:{right:10,top:10}}),T(F1,{latitude:10.870537852240094,longitude:106.77827033515608,offsetLeft:-20,offsetTop:-10,children:T("div",{className:"items-center flex flex-col cursor-pointer hover-blue hover:bg-red-100 rounded",children:[T("p",{className:"text-red-500 m-0 -mb-2",children:"Camera1"}),T(sf,{stroke:"red"})]})}),T(F1,{latitude:10.867544069555622,longitude:106.77892495509958,offsetLeft:-20,offsetTop:-10,children:[T("div",{className:"items-center flex flex-col cursor-pointer hover-blue hover:bg-red-100 rounded",children:[T("p",{className:"text-red-500 m-0 -mb-2",children:"Camera2"}),T(sf,{stroke:"red"})]}),","]}),T(F1,{latitude:10.870378353440834,longitude:106.77467633613952,offsetLeft:-20,offsetTop:-10,children:T("div",{className:"items-center flex flex-col cursor-pointer hover-blue hover:bg-red-100 rounded",children:[T("p",{className:"text-red-500 m-0 -mb-2",children:"Camera3"}),T(sf,{stroke:"red"})]})})]})}const V9={black:"#000",white:"#fff"},Mp=V9,j9={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Tu=j9,$9={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Pu=$9,Z9={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Iu=Z9,q9={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Mu=q9,W9={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Au=W9,H9={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Jc=H9,G9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},X9=G9;function Ns(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function lb(e){if(!Ns(e))return e;const n={};return Object.keys(e).forEach(i=>{n[i]=lb(e[i])}),n}function uo(e,n,i={clone:!0}){const l=i.clone?Pt({},e):e;return Ns(e)&&Ns(n)&&Object.keys(n).forEach(f=>{f!=="__proto__"&&(Ns(n[f])&&f in e&&Ns(e[f])?l[f]=uo(e[f],n[f],i):i.clone?l[f]=Ns(n[f])?lb(n[f]):n[f]:l[f]=n[f])}),l}function Ws(e){let n="https://mui.com/production-error/?code="+e;for(let i=1;i<arguments.length;i+=1)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}var gn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=Symbol.for("react.element"),Cy=Symbol.for("react.portal"),Gf=Symbol.for("react.fragment"),Xf=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Jf=Symbol.for("react.context"),K9=Symbol.for("react.server_context"),Qf=Symbol.for("react.forward_ref"),td=Symbol.for("react.suspense"),ed=Symbol.for("react.suspense_list"),rd=Symbol.for("react.memo"),nd=Symbol.for("react.lazy"),Y9=Symbol.for("react.offscreen"),ub;ub=Symbol.for("react.module.reference");function Vo(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case wy:switch(e=e.type,e){case Gf:case Kf:case Xf:case td:case ed:return e;default:switch(e=e&&e.$$typeof,e){case K9:case Jf:case Qf:case nd:case rd:case Yf:return e;default:return n}}case Cy:return n}}}gn.ContextConsumer=Jf;gn.ContextProvider=Yf;gn.Element=wy;gn.ForwardRef=Qf;gn.Fragment=Gf;gn.Lazy=nd;gn.Memo=rd;gn.Portal=Cy;gn.Profiler=Kf;gn.StrictMode=Xf;gn.Suspense=td;gn.SuspenseList=ed;gn.isAsyncMode=function(){return!1};gn.isConcurrentMode=function(){return!1};gn.isContextConsumer=function(e){return Vo(e)===Jf};gn.isContextProvider=function(e){return Vo(e)===Yf};gn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wy};gn.isForwardRef=function(e){return Vo(e)===Qf};gn.isFragment=function(e){return Vo(e)===Gf};gn.isLazy=function(e){return Vo(e)===nd};gn.isMemo=function(e){return Vo(e)===rd};gn.isPortal=function(e){return Vo(e)===Cy};gn.isProfiler=function(e){return Vo(e)===Kf};gn.isStrictMode=function(e){return Vo(e)===Xf};gn.isSuspense=function(e){return Vo(e)===td};gn.isSuspenseList=function(e){return Vo(e)===ed};gn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gf||e===Kf||e===Xf||e===td||e===ed||e===Y9||typeof e=="object"&&e!==null&&(e.$$typeof===nd||e.$$typeof===rd||e.$$typeof===Yf||e.$$typeof===Jf||e.$$typeof===Qf||e.$$typeof===ub||e.getModuleId!==void 0)};gn.typeOf=Vo;function Wn(e){if(typeof e!="string")throw new Error(Ws(7));return e.charAt(0).toUpperCase()+e.slice(1)}function c_(...e){return e.reduce((n,i)=>i==null?n:function(...f){n.apply(this,f),i.apply(this,f)},()=>{})}function cb(e,n=166){let i;function l(...f){const m=()=>{e.apply(this,f)};clearTimeout(i),i=setTimeout(m,n)}return l.clear=()=>{clearTimeout(i)},l}function V1(e,n){var i,l;return No(e)&&n.indexOf((i=e.type.muiName)!=null?i:(l=e.type)==null||(l=l._payload)==null||(l=l.value)==null?void 0:l.muiName)!==-1}function wo(e){return e&&e.ownerDocument||document}function kl(e){return wo(e).defaultView||window}function Am(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const J9=typeof window<"u"?Po:pr,Ol=J9;let p_=0;function Q9(e){const[n,i]=$e(e),l=e||n;return pr(()=>{n==null&&(p_+=1,i(`mui-${p_}`))},[n]),l}const h_=Q1["useId".toString()];function pb(e){if(h_!==void 0){const n=h_();return e??n}return Q9(e)}function f_({controlled:e,default:n,name:i,state:l="value"}){const{current:f}=Ae(e!==void 0),[m,a]=$e(n),x=f?e:m,b=cr(P=>{f||a(P)},[]);return[x,b]}function d_(e){const n=Ae(e);return Ol(()=>{n.current=e}),cr((...i)=>(0,n.current)(...i),[])}function jo(...e){return Cn(()=>e.every(n=>n==null)?null:n=>{e.forEach(i=>{Am(i,n)})},e)}function hb(e){const n=e.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}function fb(e,n){const i=Pt({},n);return Object.keys(e).forEach(l=>{if(l.toString().match(/^(components|slots)$/))i[l]=Pt({},e[l],i[l]);else if(l.toString().match(/^(componentsProps|slotProps)$/)){const f=e[l]||{},m=n[l];i[l]={},!m||!Object.keys(m)?i[l]=f:!f||!Object.keys(f)?i[l]=m:(i[l]=Pt({},m),Object.keys(f).forEach(a=>{i[l][a]=fb(f[a],m[a])}))}else i[l]===void 0&&(i[l]=e[l])}),i}function bi(e,n,i=void 0){const l={};return Object.keys(e).forEach(f=>{l[f]=e[f].reduce((m,a)=>{if(a){const x=n(a);x!==""&&m.push(x),i&&i[a]&&m.push(i[a])}return m},[]).join(" ")}),l}const m_=e=>e,tS=()=>{let e=m_;return{configure(n){e=n},generate(n){return e(n)},reset(){e=m_}}},eS=tS(),rS=eS,nS={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function di(e,n,i="Mui"){const l=nS[n];return l?`${i}-${l}`:`${rS.generate(e)}-${n}`}function xi(e,n,i="Mui"){const l={};return n.forEach(f=>{l[f]=di(e,f,i)}),l}const id="$$material";function db(e){var n=Object.create(null);return function(i){return n[i]===void 0&&(n[i]=e(i)),n[i]}}var iS=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oS=db(function(e){return iS.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function aS(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function sS(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var lS=function(){function e(i){var l=this;this._insertTag=function(f){var m;l.tags.length===0?l.insertionPoint?m=l.insertionPoint.nextSibling:l.prepend?m=l.container.firstChild:m=l.before:m=l.tags[l.tags.length-1].nextSibling,l.container.insertBefore(f,m),l.tags.push(f)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(l){l.forEach(this._insertTag)},n.insert=function(l){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(sS(this));var f=this.tags[this.tags.length-1];if(this.isSpeedy){var m=aS(f);try{m.insertRule(l,m.cssRules.length)}catch{}}else f.appendChild(document.createTextNode(l));this.ctr++},n.flush=function(){this.tags.forEach(function(l){return l.parentNode&&l.parentNode.removeChild(l)}),this.tags=[],this.ctr=0},e}(),ji="-ms-",Sf="-moz-",Kr="-webkit-",mb="comm",Sy="rule",Ey="decl",uS="@import",yb="@keyframes",cS="@layer",pS=Math.abs,od=String.fromCharCode,hS=Object.assign;function fS(e,n){return Ii(e,0)^45?(((n<<2^Ii(e,0))<<2^Ii(e,1))<<2^Ii(e,2))<<2^Ii(e,3):0}function gb(e){return e.trim()}function dS(e,n){return(e=n.exec(e))?e[0]:e}function Yr(e,n,i){return e.replace(n,i)}function km(e,n){return e.indexOf(n)}function Ii(e,n){return e.charCodeAt(n)|0}function Ap(e,n,i){return e.slice(n,i)}function Ca(e){return e.length}function Ty(e){return e.length}function Yh(e,n){return n.push(e),e}function mS(e,n){return e.map(n).join("")}var ad=1,Gu=1,vb=0,co=0,oi=0,rc="";function sd(e,n,i,l,f,m,a){return{value:e,root:n,parent:i,type:l,props:f,children:m,line:ad,column:Gu,length:a,return:""}}function Qc(e,n){return hS(sd("",null,null,"",null,null,0),e,{length:-e.length},n)}function yS(){return oi}function gS(){return oi=co>0?Ii(rc,--co):0,Gu--,oi===10&&(Gu=1,ad--),oi}function Co(){return oi=co<vb?Ii(rc,co++):0,Gu++,oi===10&&(Gu=1,ad++),oi}function Aa(){return Ii(rc,co)}function lf(){return co}function Fp(e,n){return Ap(rc,e,n)}function kp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _b(e){return ad=Gu=1,vb=Ca(rc=e),co=0,[]}function bb(e){return rc="",e}function uf(e){return gb(Fp(co-1,Om(e===91?e+2:e===40?e+1:e)))}function vS(e){for(;(oi=Aa())&&oi<33;)Co();return kp(e)>2||kp(oi)>3?"":" "}function _S(e,n){for(;--n&&Co()&&!(oi<48||oi>102||oi>57&&oi<65||oi>70&&oi<97););return Fp(e,lf()+(n<6&&Aa()==32&&Co()==32))}function Om(e){for(;Co();)switch(oi){case e:return co;case 34:case 39:e!==34&&e!==39&&Om(oi);break;case 40:e===41&&Om(e);break;case 92:Co();break}return co}function bS(e,n){for(;Co()&&e+oi!==47+10;)if(e+oi===42+42&&Aa()===47)break;return"/*"+Fp(n,co-1)+"*"+od(e===47?e:Co())}function xS(e){for(;!kp(Aa());)Co();return Fp(e,co)}function wS(e){return bb(cf("",null,null,null,[""],e=_b(e),0,[0],e))}function cf(e,n,i,l,f,m,a,x,b){for(var P=0,M=0,k=a,N=0,G=0,U=0,H=1,it=1,et=1,dt=0,st="",at=f,yt=m,Ct=l,xt=st;it;)switch(U=dt,dt=Co()){case 40:if(U!=108&&Ii(xt,k-1)==58){km(xt+=Yr(uf(dt),"&","&\f"),"&\f")!=-1&&(et=-1);break}case 34:case 39:case 91:xt+=uf(dt);break;case 9:case 10:case 13:case 32:xt+=vS(U);break;case 92:xt+=_S(lf()-1,7);continue;case 47:switch(Aa()){case 42:case 47:Yh(CS(bS(Co(),lf()),n,i),b);break;default:xt+="/"}break;case 123*H:x[P++]=Ca(xt)*et;case 125*H:case 59:case 0:switch(dt){case 0:case 125:it=0;case 59+M:et==-1&&(xt=Yr(xt,/\f/g,"")),G>0&&Ca(xt)-k&&Yh(G>32?g_(xt+";",l,i,k-1):g_(Yr(xt," ","")+";",l,i,k-2),b);break;case 59:xt+=";";default:if(Yh(Ct=y_(xt,n,i,P,M,f,x,st,at=[],yt=[],k),m),dt===123)if(M===0)cf(xt,n,Ct,Ct,at,m,k,x,yt);else switch(N===99&&Ii(xt,3)===110?100:N){case 100:case 108:case 109:case 115:cf(e,Ct,Ct,l&&Yh(y_(e,Ct,Ct,0,0,f,x,st,f,at=[],k),yt),f,yt,k,x,l?at:yt);break;default:cf(xt,Ct,Ct,Ct,[""],yt,0,x,yt)}}P=M=G=0,H=et=1,st=xt="",k=a;break;case 58:k=1+Ca(xt),G=U;default:if(H<1){if(dt==123)--H;else if(dt==125&&H++==0&&gS()==125)continue}switch(xt+=od(dt),dt*H){case 38:et=M>0?1:(xt+="\f",-1);break;case 44:x[P++]=(Ca(xt)-1)*et,et=1;break;case 64:Aa()===45&&(xt+=uf(Co())),N=Aa(),M=k=Ca(st=xt+=xS(lf())),dt++;break;case 45:U===45&&Ca(xt)==2&&(H=0)}}return m}function y_(e,n,i,l,f,m,a,x,b,P,M){for(var k=f-1,N=f===0?m:[""],G=Ty(N),U=0,H=0,it=0;U<l;++U)for(var et=0,dt=Ap(e,k+1,k=pS(H=a[U])),st=e;et<G;++et)(st=gb(H>0?N[et]+" "+dt:Yr(dt,/&\f/g,N[et])))&&(b[it++]=st);return sd(e,n,i,f===0?Sy:x,b,P,M)}function CS(e,n,i){return sd(e,n,i,mb,od(yS()),Ap(e,2,-2),0)}function g_(e,n,i,l){return sd(e,n,i,Ey,Ap(e,0,l),Ap(e,l+1,-1),l)}function Fu(e,n){for(var i="",l=Ty(e),f=0;f<l;f++)i+=n(e[f],f,e,n)||"";return i}function SS(e,n,i,l){switch(e.type){case cS:if(e.children.length)break;case uS:case Ey:return e.return=e.return||e.value;case mb:return"";case yb:return e.return=e.value+"{"+Fu(e.children,l)+"}";case Sy:e.value=e.props.join(",")}return Ca(i=Fu(e.children,l))?e.return=e.value+"{"+i+"}":""}function ES(e){var n=Ty(e);return function(i,l,f,m){for(var a="",x=0;x<n;x++)a+=e[x](i,l,f,m)||"";return a}}function TS(e){return function(n){n.root||(n=n.return)&&e(n)}}var PS=function(n,i,l){for(var f=0,m=0;f=m,m=Aa(),f===38&&m===12&&(i[l]=1),!kp(m);)Co();return Fp(n,co)},IS=function(n,i){var l=-1,f=44;do switch(kp(f)){case 0:f===38&&Aa()===12&&(i[l]=1),n[l]+=PS(co-1,i,l);break;case 2:n[l]+=uf(f);break;case 4:if(f===44){n[++l]=Aa()===58?"&\f":"",i[l]=n[l].length;break}default:n[l]+=od(f)}while(f=Co());return n},MS=function(n,i){return bb(IS(_b(n),i))},v_=new WeakMap,AS=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var i=n.value,l=n.parent,f=n.column===l.column&&n.line===l.line;l.type!=="rule";)if(l=l.parent,!l)return;if(!(n.props.length===1&&i.charCodeAt(0)!==58&&!v_.get(l))&&!f){v_.set(n,!0);for(var m=[],a=MS(i,m),x=l.props,b=0,P=0;b<a.length;b++)for(var M=0;M<x.length;M++,P++)n.props[P]=m[b]?a[b].replace(/&\f/g,x[M]):x[M]+" "+a[b]}}},kS=function(n){if(n.type==="decl"){var i=n.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(n.return="",n.value="")}};function xb(e,n){switch(fS(e,n)){case 5103:return Kr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Kr+e+Sf+e+ji+e+e;case 6828:case 4268:return Kr+e+ji+e+e;case 6165:return Kr+e+ji+"flex-"+e+e;case 5187:return Kr+e+Yr(e,/(\w+).+(:[^]+)/,Kr+"box-$1$2"+ji+"flex-$1$2")+e;case 5443:return Kr+e+ji+"flex-item-"+Yr(e,/flex-|-self/,"")+e;case 4675:return Kr+e+ji+"flex-line-pack"+Yr(e,/align-content|flex-|-self/,"")+e;case 5548:return Kr+e+ji+Yr(e,"shrink","negative")+e;case 5292:return Kr+e+ji+Yr(e,"basis","preferred-size")+e;case 6060:return Kr+"box-"+Yr(e,"-grow","")+Kr+e+ji+Yr(e,"grow","positive")+e;case 4554:return Kr+Yr(e,/([^-])(transform)/g,"$1"+Kr+"$2")+e;case 6187:return Yr(Yr(Yr(e,/(zoom-|grab)/,Kr+"$1"),/(image-set)/,Kr+"$1"),e,"")+e;case 5495:case 3959:return Yr(e,/(image-set\([^]*)/,Kr+"$1$`$1");case 4968:return Yr(Yr(e,/(.+:)(flex-)?(.*)/,Kr+"box-pack:$3"+ji+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kr+e+e;case 4095:case 3583:case 4068:case 2532:return Yr(e,/(.+)-inline(.+)/,Kr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ca(e)-1-n>6)switch(Ii(e,n+1)){case 109:if(Ii(e,n+4)!==45)break;case 102:return Yr(e,/(.+:)(.+)-([^]+)/,"$1"+Kr+"$2-$3$1"+Sf+(Ii(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~km(e,"stretch")?xb(Yr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(Ii(e,n+1)!==115)break;case 6444:switch(Ii(e,Ca(e)-3-(~km(e,"!important")&&10))){case 107:return Yr(e,":",":"+Kr)+e;case 101:return Yr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kr+(Ii(e,14)===45?"inline-":"")+"box$3$1"+Kr+"$2$3$1"+ji+"$2box$3")+e}break;case 5936:switch(Ii(e,n+11)){case 114:return Kr+e+ji+Yr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Kr+e+ji+Yr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Kr+e+ji+Yr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Kr+e+ji+e+e}return e}var OS=function(n,i,l,f){if(n.length>-1&&!n.return)switch(n.type){case Ey:n.return=xb(n.value,n.length);break;case yb:return Fu([Qc(n,{value:Yr(n.value,"@","@"+Kr)})],f);case Sy:if(n.length)return mS(n.props,function(m){switch(dS(m,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fu([Qc(n,{props:[Yr(m,/:(read-\w+)/,":"+Sf+"$1")]})],f);case"::placeholder":return Fu([Qc(n,{props:[Yr(m,/:(plac\w+)/,":"+Kr+"input-$1")]}),Qc(n,{props:[Yr(m,/:(plac\w+)/,":"+Sf+"$1")]}),Qc(n,{props:[Yr(m,/:(plac\w+)/,ji+"input-$1")]})],f)}return""})}},RS=[OS],zS=function(n){var i=n.key;if(i==="css"){var l=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(l,function(H){var it=H.getAttribute("data-emotion");it.indexOf(" ")!==-1&&(document.head.appendChild(H),H.setAttribute("data-s",""))})}var f=n.stylisPlugins||RS,m={},a,x=[];a=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(H){for(var it=H.getAttribute("data-emotion").split(" "),et=1;et<it.length;et++)m[it[et]]=!0;x.push(H)});var b,P=[AS,kS];{var M,k=[SS,TS(function(H){M.insert(H)})],N=ES(P.concat(f,k)),G=function(it){return Fu(wS(it),N)};b=function(it,et,dt,st){M=dt,G(it?it+"{"+et.styles+"}":et.styles),st&&(U.inserted[et.name]=!0)}}var U={key:i,sheet:new lS({key:i,container:a,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:m,registered:{},insert:b};return U.sheet.hydrate(x),U},wb={exports:{}},pn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=typeof Symbol=="function"&&Symbol.for,Py=wi?Symbol.for("react.element"):60103,Iy=wi?Symbol.for("react.portal"):60106,ld=wi?Symbol.for("react.fragment"):60107,ud=wi?Symbol.for("react.strict_mode"):60108,cd=wi?Symbol.for("react.profiler"):60114,pd=wi?Symbol.for("react.provider"):60109,hd=wi?Symbol.for("react.context"):60110,My=wi?Symbol.for("react.async_mode"):60111,fd=wi?Symbol.for("react.concurrent_mode"):60111,dd=wi?Symbol.for("react.forward_ref"):60112,md=wi?Symbol.for("react.suspense"):60113,DS=wi?Symbol.for("react.suspense_list"):60120,yd=wi?Symbol.for("react.memo"):60115,gd=wi?Symbol.for("react.lazy"):60116,LS=wi?Symbol.for("react.block"):60121,BS=wi?Symbol.for("react.fundamental"):60117,FS=wi?Symbol.for("react.responder"):60118,NS=wi?Symbol.for("react.scope"):60119;function Io(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case Py:switch(e=e.type,e){case My:case fd:case ld:case cd:case ud:case md:return e;default:switch(e=e&&e.$$typeof,e){case hd:case dd:case gd:case yd:case pd:return e;default:return n}}case Iy:return n}}}function Cb(e){return Io(e)===fd}pn.AsyncMode=My;pn.ConcurrentMode=fd;pn.ContextConsumer=hd;pn.ContextProvider=pd;pn.Element=Py;pn.ForwardRef=dd;pn.Fragment=ld;pn.Lazy=gd;pn.Memo=yd;pn.Portal=Iy;pn.Profiler=cd;pn.StrictMode=ud;pn.Suspense=md;pn.isAsyncMode=function(e){return Cb(e)||Io(e)===My};pn.isConcurrentMode=Cb;pn.isContextConsumer=function(e){return Io(e)===hd};pn.isContextProvider=function(e){return Io(e)===pd};pn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Py};pn.isForwardRef=function(e){return Io(e)===dd};pn.isFragment=function(e){return Io(e)===ld};pn.isLazy=function(e){return Io(e)===gd};pn.isMemo=function(e){return Io(e)===yd};pn.isPortal=function(e){return Io(e)===Iy};pn.isProfiler=function(e){return Io(e)===cd};pn.isStrictMode=function(e){return Io(e)===ud};pn.isSuspense=function(e){return Io(e)===md};pn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ld||e===fd||e===cd||e===ud||e===md||e===DS||typeof e=="object"&&e!==null&&(e.$$typeof===gd||e.$$typeof===yd||e.$$typeof===pd||e.$$typeof===hd||e.$$typeof===dd||e.$$typeof===BS||e.$$typeof===FS||e.$$typeof===NS||e.$$typeof===LS)};pn.typeOf=Io;wb.exports=pn;var US=wb.exports,Sb=US,VS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Eb={};Eb[Sb.ForwardRef]=VS;Eb[Sb.Memo]=jS;var $S=!0;function ZS(e,n,i){var l="";return i.split(" ").forEach(function(f){e[f]!==void 0?n.push(e[f]+";"):l+=f+" "}),l}var Tb=function(n,i,l){var f=n.key+"-"+i.name;(l===!1||$S===!1)&&n.registered[f]===void 0&&(n.registered[f]=i.styles)},Pb=function(n,i,l){Tb(n,i,l);var f=n.key+"-"+i.name;if(n.inserted[i.name]===void 0){var m=i;do n.insert(i===m?"."+f:"",m,n.sheet,!0),m=m.next;while(m!==void 0)}};function qS(e){for(var n=0,i,l=0,f=e.length;f>=4;++l,f-=4)i=e.charCodeAt(l)&255|(e.charCodeAt(++l)&255)<<8|(e.charCodeAt(++l)&255)<<16|(e.charCodeAt(++l)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,n=(i&65535)*1540483477+((i>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(f){case 3:n^=(e.charCodeAt(l+2)&255)<<16;case 2:n^=(e.charCodeAt(l+1)&255)<<8;case 1:n^=e.charCodeAt(l)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var WS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},HS=/[A-Z]|^ms/g,GS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ib=function(n){return n.charCodeAt(1)===45},__=function(n){return n!=null&&typeof n!="boolean"},j1=db(function(e){return Ib(e)?e:e.replace(HS,"-$&").toLowerCase()}),b_=function(n,i){switch(n){case"animation":case"animationName":if(typeof i=="string")return i.replace(GS,function(l,f,m){return Sa={name:f,styles:m,next:Sa},f})}return WS[n]!==1&&!Ib(n)&&typeof i=="number"&&i!==0?i+"px":i};function Op(e,n,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return Sa={name:i.name,styles:i.styles,next:Sa},i.name;if(i.styles!==void 0){var l=i.next;if(l!==void 0)for(;l!==void 0;)Sa={name:l.name,styles:l.styles,next:Sa},l=l.next;var f=i.styles+";";return f}return XS(e,n,i)}case"function":{if(e!==void 0){var m=Sa,a=i(e);return Sa=m,Op(e,n,a)}break}}if(n==null)return i;var x=n[i];return x!==void 0?x:i}function XS(e,n,i){var l="";if(Array.isArray(i))for(var f=0;f<i.length;f++)l+=Op(e,n,i[f])+";";else for(var m in i){var a=i[m];if(typeof a!="object")n!=null&&n[a]!==void 0?l+=m+"{"+n[a]+"}":__(a)&&(l+=j1(m)+":"+b_(m,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(n==null||n[a[0]]===void 0))for(var x=0;x<a.length;x++)__(a[x])&&(l+=j1(m)+":"+b_(m,a[x])+";");else{var b=Op(e,n,a);switch(m){case"animation":case"animationName":{l+=j1(m)+":"+b+";";break}default:l+=m+"{"+b+"}"}}}return l}var x_=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Sa,Ay=function(n,i,l){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var f=!0,m="";Sa=void 0;var a=n[0];a==null||a.raw===void 0?(f=!1,m+=Op(l,i,a)):m+=a[0];for(var x=1;x<n.length;x++)m+=Op(l,i,n[x]),f&&(m+=a[x]);x_.lastIndex=0;for(var b="",P;(P=x_.exec(m))!==null;)b+="-"+P[1];var M=qS(m)+b;return{name:M,styles:m,next:Sa}},KS=function(n){return n()},Mb=Q1["useInsertionEffect"]?Q1["useInsertionEffect"]:!1,YS=Mb||KS,w_=Mb||Po,Ab=Uo(typeof HTMLElement<"u"?zS({key:"css"}):null);Ab.Provider;var kb=function(n){return rn(function(i,l){var f=Mi(Ab);return n(i,f,l)})},ky=Uo({}),JS=kb(function(e,n){var i=e.styles,l=Ay([i],void 0,Mi(ky)),f=Ae();return w_(function(){var m=n.key+"-global",a=new n.sheet.constructor({key:m,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),x=!1,b=document.querySelector('style[data-emotion="'+m+" "+l.name+'"]');return n.sheet.tags.length&&(a.before=n.sheet.tags[0]),b!==null&&(x=!0,b.setAttribute("data-emotion",m),a.hydrate([b])),f.current=[a,x],function(){a.flush()}},[n]),w_(function(){var m=f.current,a=m[0],x=m[1];if(x){m[1]=!1;return}if(l.next!==void 0&&Pb(n,l.next,!0),a.tags.length){var b=a.tags[a.tags.length-1].nextElementSibling;a.before=b,a.flush()}n.insert("",l,a,!1)},[n,l.name]),null});function QS(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Ay(n)}var WA=function(){var n=QS.apply(void 0,arguments),i="animation-"+n.name;return{name:i,styles:"@keyframes "+i+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},tE=oS,eE=function(n){return n!=="theme"},C_=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?tE:eE},S_=function(n,i,l){var f;if(i){var m=i.shouldForwardProp;f=n.__emotion_forwardProp&&m?function(a){return n.__emotion_forwardProp(a)&&m(a)}:m}return typeof f!="function"&&l&&(f=n.__emotion_forwardProp),f},rE=function(n){var i=n.cache,l=n.serialized,f=n.isStringTag;return Tb(i,l,f),YS(function(){return Pb(i,l,f)}),null},nE=function e(n,i){var l=n.__emotion_real===n,f=l&&n.__emotion_base||n,m,a;i!==void 0&&(m=i.label,a=i.target);var x=S_(n,i,l),b=x||C_(f),P=!b("as");return function(){var M=arguments,k=l&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(m!==void 0&&k.push("label:"+m+";"),M[0]==null||M[0].raw===void 0)k.push.apply(k,M);else{k.push(M[0][0]);for(var N=M.length,G=1;G<N;G++)k.push(M[G],M[0][G])}var U=kb(function(H,it,et){var dt=P&&H.as||f,st="",at=[],yt=H;if(H.theme==null){yt={};for(var Ct in H)yt[Ct]=H[Ct];yt.theme=Mi(ky)}typeof H.className=="string"?st=ZS(it.registered,at,H.className):H.className!=null&&(st=H.className+" ");var xt=Ay(k.concat(at),it.registered,yt);st+=it.key+"-"+xt.name,a!==void 0&&(st+=" "+a);var Vt=P&&x===void 0?C_(dt):b,Dt={};for(var Bt in H)P&&Bt==="as"||Vt(Bt)&&(Dt[Bt]=H[Bt]);return Dt.className=st,Dt.ref=et,Ue(en,null,Ue(rE,{cache:it,serialized:xt,isStringTag:typeof dt=="string"}),Ue(dt,Dt))});return U.displayName=m!==void 0?m:"Styled("+(typeof f=="string"?f:f.displayName||f.name||"Component")+")",U.defaultProps=n.defaultProps,U.__emotion_real=U,U.__emotion_base=f,U.__emotion_styles=k,U.__emotion_forwardProp=x,Object.defineProperty(U,"toString",{value:function(){return"."+a}}),U.withComponent=function(H,it){return e(H,Pt({},i,it,{shouldForwardProp:S_(U,it,!0)})).apply(void 0,k)},U}},iE=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Rm=nE.bind();iE.forEach(function(e){Rm[e]=Rm(e)});function oE(e){return e==null||Object.keys(e).length===0}function aE(e){const{styles:n,defaultTheme:i={}}=e;return T(JS,{styles:typeof n=="function"?f=>n(oE(f)?i:f):n})}/**
 * @mui/styled-engine v5.14.13
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function sE(e,n){return Rm(e,n)}const lE=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},uE=["values","unit","step"],cE=e=>{const n=Object.keys(e).map(i=>({key:i,val:e[i]}))||[];return n.sort((i,l)=>i.val-l.val),n.reduce((i,l)=>Pt({},i,{[l.key]:l.val}),{})};function pE(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:l=5}=e,f=Cr(e,uE),m=cE(n),a=Object.keys(m);function x(N){return`@media (min-width:${typeof n[N]=="number"?n[N]:N}${i})`}function b(N){return`@media (max-width:${(typeof n[N]=="number"?n[N]:N)-l/100}${i})`}function P(N,G){const U=a.indexOf(G);return`@media (min-width:${typeof n[N]=="number"?n[N]:N}${i}) and (max-width:${(U!==-1&&typeof n[a[U]]=="number"?n[a[U]]:G)-l/100}${i})`}function M(N){return a.indexOf(N)+1<a.length?P(N,a[a.indexOf(N)+1]):x(N)}function k(N){const G=a.indexOf(N);return G===0?x(a[1]):G===a.length-1?b(a[G]):P(N,a[a.indexOf(N)+1]).replace("@media","@media not all and")}return Pt({keys:a,values:m,up:x,down:b,between:P,only:M,not:k,unit:i},f)}const hE={borderRadius:4},fE=hE;function fp(e,n){return n?uo(e,n,{clone:!1}):e}const Oy={xs:0,sm:600,md:900,lg:1200,xl:1536},E_={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Oy[e]}px)`};function ps(e,n,i){const l=e.theme||{};if(Array.isArray(n)){const m=l.breakpoints||E_;return n.reduce((a,x,b)=>(a[m.up(m.keys[b])]=i(n[b]),a),{})}if(typeof n=="object"){const m=l.breakpoints||E_;return Object.keys(n).reduce((a,x)=>{if(Object.keys(m.values||Oy).indexOf(x)!==-1){const b=m.up(x);a[b]=i(n[x],x)}else{const b=x;a[b]=n[b]}return a},{})}return i(n)}function dE(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((l,f)=>{const m=e.up(f);return l[m]={},l},{}))||{}}function mE(e,n){return e.reduce((i,l)=>{const f=i[l];return(!f||Object.keys(f).length===0)&&delete i[l],i},n)}function yE(e,n){if(typeof e!="object")return{};const i={},l=Object.keys(n);return Array.isArray(e)?l.forEach((f,m)=>{m<e.length&&(i[f]=!0)}):l.forEach(f=>{e[f]!=null&&(i[f]=!0)}),i}function HA({values:e,breakpoints:n,base:i}){const l=i||yE(e,n),f=Object.keys(l);if(f.length===0)return e;let m;return f.reduce((a,x,b)=>(Array.isArray(e)?(a[x]=e[b]!=null?e[b]:e[m],m=b):typeof e=="object"?(a[x]=e[x]!=null?e[x]:e[m],m=x):a[x]=e,a),{})}function vd(e,n,i=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&i){const l=`vars.${n}`.split(".").reduce((f,m)=>f&&f[m]?f[m]:null,e);if(l!=null)return l}return n.split(".").reduce((l,f)=>l&&l[f]!=null?l[f]:null,e)}function Ef(e,n,i,l=i){let f;return typeof e=="function"?f=e(i):Array.isArray(e)?f=e[i]||l:f=vd(e,i)||l,n&&(f=n(f,l,e)),f}function nn(e){const{prop:n,cssProperty:i=e.prop,themeKey:l,transform:f}=e,m=a=>{if(a[n]==null)return null;const x=a[n],b=a.theme,P=vd(b,l)||{};return ps(a,x,k=>{let N=Ef(P,f,k);return k===N&&typeof k=="string"&&(N=Ef(P,f,`${n}${k==="default"?"":Wn(k)}`,k)),i===!1?N:{[i]:N}})};return m.propTypes={},m.filterProps=[n],m}function gE(e){const n={};return i=>(n[i]===void 0&&(n[i]=e(i)),n[i])}const vE={m:"margin",p:"padding"},_E={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},T_={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},bE=gE(e=>{if(e.length>2)if(T_[e])e=T_[e];else return[e];const[n,i]=e.split(""),l=vE[n],f=_E[i]||"";return Array.isArray(f)?f.map(m=>l+m):[l+f]}),Ry=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],zy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ry,...zy];function Np(e,n,i,l){var f;const m=(f=vd(e,n,!1))!=null?f:i;return typeof m=="number"?a=>typeof a=="string"?a:m*a:Array.isArray(m)?a=>typeof a=="string"?a:m[a]:typeof m=="function"?m:()=>{}}function Ob(e){return Np(e,"spacing",8)}function Up(e,n){if(typeof n=="string"||n==null)return n;const i=Math.abs(n),l=e(i);return n>=0?l:typeof l=="number"?-l:`-${l}`}function xE(e,n){return i=>e.reduce((l,f)=>(l[f]=Up(n,i),l),{})}function wE(e,n,i,l){if(n.indexOf(i)===-1)return null;const f=bE(i),m=xE(f,l),a=e[i];return ps(e,a,m)}function Rb(e,n){const i=Ob(e.theme);return Object.keys(e).map(l=>wE(e,n,l,i)).reduce(fp,{})}function Zn(e){return Rb(e,Ry)}Zn.propTypes={};Zn.filterProps=Ry;function qn(e){return Rb(e,zy)}qn.propTypes={};qn.filterProps=zy;function CE(e=8){if(e.mui)return e;const n=Ob({spacing:e}),i=(...l)=>(l.length===0?[1]:l).map(m=>{const a=n(m);return typeof a=="number"?`${a}px`:a}).join(" ");return i.mui=!0,i}function _d(...e){const n=e.reduce((l,f)=>(f.filterProps.forEach(m=>{l[m]=f}),l),{}),i=l=>Object.keys(l).reduce((f,m)=>n[m]?fp(f,n[m](l)):f,{});return i.propTypes={},i.filterProps=e.reduce((l,f)=>l.concat(f.filterProps),[]),i}function Ea(e){return typeof e!="number"?e:`${e}px solid`}const SE=nn({prop:"border",themeKey:"borders",transform:Ea}),EE=nn({prop:"borderTop",themeKey:"borders",transform:Ea}),TE=nn({prop:"borderRight",themeKey:"borders",transform:Ea}),PE=nn({prop:"borderBottom",themeKey:"borders",transform:Ea}),IE=nn({prop:"borderLeft",themeKey:"borders",transform:Ea}),ME=nn({prop:"borderColor",themeKey:"palette"}),AE=nn({prop:"borderTopColor",themeKey:"palette"}),kE=nn({prop:"borderRightColor",themeKey:"palette"}),OE=nn({prop:"borderBottomColor",themeKey:"palette"}),RE=nn({prop:"borderLeftColor",themeKey:"palette"}),bd=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=Np(e.theme,"shape.borderRadius",4),i=l=>({borderRadius:Up(n,l)});return ps(e,e.borderRadius,i)}return null};bd.propTypes={};bd.filterProps=["borderRadius"];_d(SE,EE,TE,PE,IE,ME,AE,kE,OE,RE,bd);const xd=e=>{if(e.gap!==void 0&&e.gap!==null){const n=Np(e.theme,"spacing",8),i=l=>({gap:Up(n,l)});return ps(e,e.gap,i)}return null};xd.propTypes={};xd.filterProps=["gap"];const wd=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=Np(e.theme,"spacing",8),i=l=>({columnGap:Up(n,l)});return ps(e,e.columnGap,i)}return null};wd.propTypes={};wd.filterProps=["columnGap"];const Cd=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=Np(e.theme,"spacing",8),i=l=>({rowGap:Up(n,l)});return ps(e,e.rowGap,i)}return null};Cd.propTypes={};Cd.filterProps=["rowGap"];const zE=nn({prop:"gridColumn"}),DE=nn({prop:"gridRow"}),LE=nn({prop:"gridAutoFlow"}),BE=nn({prop:"gridAutoColumns"}),FE=nn({prop:"gridAutoRows"}),NE=nn({prop:"gridTemplateColumns"}),UE=nn({prop:"gridTemplateRows"}),VE=nn({prop:"gridTemplateAreas"}),jE=nn({prop:"gridArea"});_d(xd,wd,Cd,zE,DE,LE,BE,FE,NE,UE,VE,jE);function Nu(e,n){return n==="grey"?n:e}const $E=nn({prop:"color",themeKey:"palette",transform:Nu}),ZE=nn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Nu}),qE=nn({prop:"backgroundColor",themeKey:"palette",transform:Nu});_d($E,ZE,qE);function bo(e){return e<=1&&e!==0?`${e*100}%`:e}const WE=nn({prop:"width",transform:bo}),Dy=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=i=>{var l,f;const m=((l=e.theme)==null||(l=l.breakpoints)==null||(l=l.values)==null?void 0:l[i])||Oy[i];return m?((f=e.theme)==null||(f=f.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${m}${e.theme.breakpoints.unit}`}:{maxWidth:m}:{maxWidth:bo(i)}};return ps(e,e.maxWidth,n)}return null};Dy.filterProps=["maxWidth"];const HE=nn({prop:"minWidth",transform:bo}),GE=nn({prop:"height",transform:bo}),XE=nn({prop:"maxHeight",transform:bo}),KE=nn({prop:"minHeight",transform:bo});nn({prop:"size",cssProperty:"width",transform:bo});nn({prop:"size",cssProperty:"height",transform:bo});const YE=nn({prop:"boxSizing"});_d(WE,Dy,HE,GE,XE,KE,YE);const JE={border:{themeKey:"borders",transform:Ea},borderTop:{themeKey:"borders",transform:Ea},borderRight:{themeKey:"borders",transform:Ea},borderBottom:{themeKey:"borders",transform:Ea},borderLeft:{themeKey:"borders",transform:Ea},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:bd},color:{themeKey:"palette",transform:Nu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Nu},backgroundColor:{themeKey:"palette",transform:Nu},p:{style:qn},pt:{style:qn},pr:{style:qn},pb:{style:qn},pl:{style:qn},px:{style:qn},py:{style:qn},padding:{style:qn},paddingTop:{style:qn},paddingRight:{style:qn},paddingBottom:{style:qn},paddingLeft:{style:qn},paddingX:{style:qn},paddingY:{style:qn},paddingInline:{style:qn},paddingInlineStart:{style:qn},paddingInlineEnd:{style:qn},paddingBlock:{style:qn},paddingBlockStart:{style:qn},paddingBlockEnd:{style:qn},m:{style:Zn},mt:{style:Zn},mr:{style:Zn},mb:{style:Zn},ml:{style:Zn},mx:{style:Zn},my:{style:Zn},margin:{style:Zn},marginTop:{style:Zn},marginRight:{style:Zn},marginBottom:{style:Zn},marginLeft:{style:Zn},marginX:{style:Zn},marginY:{style:Zn},marginInline:{style:Zn},marginInlineStart:{style:Zn},marginInlineEnd:{style:Zn},marginBlock:{style:Zn},marginBlockStart:{style:Zn},marginBlockEnd:{style:Zn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xd},rowGap:{style:Cd},columnGap:{style:wd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:bo},maxWidth:{style:Dy},minWidth:{transform:bo},height:{transform:bo},maxHeight:{transform:bo},minHeight:{transform:bo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Ly=JE;function QE(...e){const n=e.reduce((l,f)=>l.concat(Object.keys(f)),[]),i=new Set(n);return e.every(l=>i.size===Object.keys(l).length)}function tT(e,n){return typeof e=="function"?e(n):e}function eT(){function e(i,l,f,m){const a={[i]:l,theme:f},x=m[i];if(!x)return{[i]:l};const{cssProperty:b=i,themeKey:P,transform:M,style:k}=x;if(l==null)return null;if(P==="typography"&&l==="inherit")return{[i]:l};const N=vd(f,P)||{};return k?k(a):ps(a,l,U=>{let H=Ef(N,M,U);return U===H&&typeof U=="string"&&(H=Ef(N,M,`${i}${U==="default"?"":Wn(U)}`,U)),b===!1?H:{[b]:H}})}function n(i){var l;const{sx:f,theme:m={}}=i||{};if(!f)return null;const a=(l=m.unstable_sxConfig)!=null?l:Ly;function x(b){let P=b;if(typeof b=="function")P=b(m);else if(typeof b!="object")return b;if(!P)return null;const M=dE(m.breakpoints),k=Object.keys(M);let N=M;return Object.keys(P).forEach(G=>{const U=tT(P[G],m);if(U!=null)if(typeof U=="object")if(a[G])N=fp(N,e(G,U,m,a));else{const H=ps({theme:m},U,it=>({[G]:it}));QE(H,U)?N[G]=n({sx:U,theme:m}):N=fp(N,H)}else N=fp(N,e(G,U,m,a))}),mE(k,N)}return Array.isArray(f)?f.map(x):x(f)}return n}const zb=eT();zb.filterProps=["sx"];const By=zb,rT=["breakpoints","palette","spacing","shape"];function Fy(e={},...n){const{breakpoints:i={},palette:l={},spacing:f,shape:m={}}=e,a=Cr(e,rT),x=pE(i),b=CE(f);let P=uo({breakpoints:x,direction:"ltr",components:{},palette:Pt({mode:"light"},l),spacing:b,shape:Pt({},fE,m)},a);return P=n.reduce((M,k)=>uo(M,k),P),P.unstable_sxConfig=Pt({},Ly,a==null?void 0:a.unstable_sxConfig),P.unstable_sx=function(k){return By({sx:k,theme:this})},P}function nT(e){return Object.keys(e).length===0}function iT(e=null){const n=Mi(ky);return!n||nT(n)?e:n}const oT=Fy();function Ny(e=oT){return iT(e)}function aT({styles:e,themeId:n,defaultTheme:i={}}){const l=Ny(i),f=typeof e=="function"?e(n&&l[n]||l):e;return T(aE,{styles:f})}function Db(e){var n,i,l="";if(typeof e=="string"||typeof e=="number")l+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(i=Db(e[n]))&&(l&&(l+=" "),l+=i);else for(n in e)e[n]&&(l&&(l+=" "),l+=n);return l}function Qn(){for(var e,n,i=0,l="";i<arguments.length;)(e=arguments[i++])&&(n=Db(e))&&(l&&(l+=" "),l+=n);return l}const sT=["variant"];function P_(e){return e.length===0}function Lb(e){const{variant:n}=e,i=Cr(e,sT);let l=n||"";return Object.keys(i).sort().forEach(f=>{f==="color"?l+=P_(l)?e[f]:Wn(e[f]):l+=`${P_(l)?f:Wn(f)}${Wn(e[f].toString())}`}),l}const lT=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function uT(e){return Object.keys(e).length===0}function cT(e){return typeof e=="string"&&e.charCodeAt(0)>96}const pT=(e,n)=>n.components&&n.components[e]&&n.components[e].styleOverrides?n.components[e].styleOverrides:null,Tf=e=>{const n={};return e&&e.forEach(i=>{const l=Lb(i.props);n[l]=i.style}),n},hT=(e,n)=>{let i=[];return n&&n.components&&n.components[e]&&n.components[e].variants&&(i=n.components[e].variants),Tf(i)},Pf=(e,n,i)=>{const{ownerState:l={}}=e,f=[];return i&&i.forEach(m=>{let a=!0;Object.keys(m.props).forEach(x=>{l[x]!==m.props[x]&&e[x]!==m.props[x]&&(a=!1)}),a&&f.push(n[Lb(m.props)])}),f},fT=(e,n,i,l)=>{var f;const m=i==null||(f=i.components)==null||(f=f[l])==null?void 0:f.variants;return Pf(e,n,m)};function dp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const dT=Fy(),mT=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function pf({defaultTheme:e,theme:n,themeId:i}){return uT(n)?e:n[i]||n}function yT(e){return e?(n,i)=>i[e]:null}const I_=({styledArg:e,props:n,defaultTheme:i,themeId:l})=>{const f=e(Pt({},n,{theme:pf(Pt({},n,{defaultTheme:i,themeId:l}))}));let m;if(f&&f.variants&&(m=f.variants,delete f.variants),m){const a=Pf(n,Tf(m),m);return[f,...a]}return f};function gT(e={}){const{themeId:n,defaultTheme:i=dT,rootShouldForwardProp:l=dp,slotShouldForwardProp:f=dp}=e,m=a=>By(Pt({},a,{theme:pf(Pt({},a,{defaultTheme:i,themeId:n}))}));return m.__mui_systemSx=!0,(a,x={})=>{lE(a,at=>at.filter(yt=>!(yt!=null&&yt.__mui_systemSx)));const{name:b,slot:P,skipVariantsResolver:M,skipSx:k,overridesResolver:N=yT(mT(P))}=x,G=Cr(x,lT),U=M!==void 0?M:P&&P!=="Root"&&P!=="root"||!1,H=k||!1;let it,et=dp;P==="Root"||P==="root"?et=l:P?et=f:cT(a)&&(et=void 0);const dt=sE(a,Pt({shouldForwardProp:et,label:it},G)),st=(at,...yt)=>{const Ct=yt?yt.map(Bt=>{if(typeof Bt=="function"&&Bt.__emotion_real!==Bt)return Zt=>I_({styledArg:Bt,props:Zt,defaultTheme:i,themeId:n});if(Ns(Bt)){let Zt=Bt,Jt;return Bt&&Bt.variants&&(Jt=Bt.variants,delete Zt.variants,Zt=te=>{let Nt=Bt;return Pf(te,Tf(Jt),Jt).forEach(ue=>{Nt=uo(Nt,ue)}),Nt}),Zt}return Bt}):[];let xt=at;if(Ns(at)){let Bt;at&&at.variants&&(Bt=at.variants,delete xt.variants,xt=Zt=>{let Jt=at;return Pf(Zt,Tf(Bt),Bt).forEach(Nt=>{Jt=uo(Jt,Nt)}),Jt})}else typeof at=="function"&&at.__emotion_real!==at&&(xt=Bt=>I_({styledArg:at,props:Bt,defaultTheme:i,themeId:n}));b&&N&&Ct.push(Bt=>{const Zt=pf(Pt({},Bt,{defaultTheme:i,themeId:n})),Jt=pT(b,Zt);if(Jt){const te={};return Object.entries(Jt).forEach(([Nt,oe])=>{te[Nt]=typeof oe=="function"?oe(Pt({},Bt,{theme:Zt})):oe}),N(Bt,te)}return null}),b&&!U&&Ct.push(Bt=>{const Zt=pf(Pt({},Bt,{defaultTheme:i,themeId:n}));return fT(Bt,hT(b,Zt),Zt,b)}),H||Ct.push(m);const Vt=Ct.length-yt.length;if(Array.isArray(at)&&Vt>0){const Bt=new Array(Vt).fill("");xt=[...at,...Bt],xt.raw=[...at.raw,...Bt]}const Dt=dt(xt,...Ct);return a.muiName&&(Dt.muiName=a.muiName),Dt};return dt.withConfig&&(st.withConfig=dt.withConfig),st}}function vT(e){const{theme:n,name:i,props:l}=e;return!n||!n.components||!n.components[i]||!n.components[i].defaultProps?l:fb(n.components[i].defaultProps,l)}function _T({props:e,name:n,defaultTheme:i,themeId:l}){let f=Ny(i);return l&&(f=f[l]||f),vT({theme:f,name:n,props:e})}function Uy(e,n=0,i=1){return Math.min(Math.max(n,e),i)}function bT(e){e=e.slice(1);const n=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let i=e.match(n);return i&&i[0].length===1&&(i=i.map(l=>l+l)),i?`rgb${i.length===4?"a":""}(${i.map((l,f)=>f<3?parseInt(l,16):Math.round(parseInt(l,16)/255*1e3)/1e3).join(", ")})`:""}function Rl(e){if(e.type)return e;if(e.charAt(0)==="#")return Rl(bT(e));const n=e.indexOf("("),i=e.substring(0,n);if(["rgb","rgba","hsl","hsla","color"].indexOf(i)===-1)throw new Error(Ws(9,e));let l=e.substring(n+1,e.length-1),f;if(i==="color"){if(l=l.split(" "),f=l.shift(),l.length===4&&l[3].charAt(0)==="/"&&(l[3]=l[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(f)===-1)throw new Error(Ws(10,f))}else l=l.split(",");return l=l.map(m=>parseFloat(m)),{type:i,values:l,colorSpace:f}}function Sd(e){const{type:n,colorSpace:i}=e;let{values:l}=e;return n.indexOf("rgb")!==-1?l=l.map((f,m)=>m<3?parseInt(f,10):f):n.indexOf("hsl")!==-1&&(l[1]=`${l[1]}%`,l[2]=`${l[2]}%`),n.indexOf("color")!==-1?l=`${i} ${l.join(" ")}`:l=`${l.join(", ")}`,`${n}(${l})`}function xT(e){e=Rl(e);const{values:n}=e,i=n[0],l=n[1]/100,f=n[2]/100,m=l*Math.min(f,1-f),a=(P,M=(P+i/30)%12)=>f-m*Math.max(Math.min(M-3,9-M,1),-1);let x="rgb";const b=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(x+="a",b.push(n[3])),Sd({type:x,values:b})}function M_(e){e=Rl(e);let n=e.type==="hsl"||e.type==="hsla"?Rl(xT(e)).values:e.values;return n=n.map(i=>(e.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function wT(e,n){const i=M_(e),l=M_(n);return(Math.max(i,l)+.05)/(Math.min(i,l)+.05)}function A_(e,n){return e=Rl(e),n=Uy(n),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${n}`:e.values[3]=n,Sd(e)}function CT(e,n){if(e=Rl(e),n=Uy(n),e.type.indexOf("hsl")!==-1)e.values[2]*=1-n;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)e.values[i]*=1-n;return Sd(e)}function ST(e,n){if(e=Rl(e),n=Uy(n),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*n;else if(e.type.indexOf("rgb")!==-1)for(let i=0;i<3;i+=1)e.values[i]+=(255-e.values[i])*n;else if(e.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*n;return Sd(e)}function ET(e,n){return Pt({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}const TT=["mode","contrastThreshold","tonalOffset"],k_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Mp.white,default:Mp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$1={text:{primary:Mp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Mp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function O_(e,n,i,l){const f=l.light||l,m=l.dark||l*1.5;e[n]||(e.hasOwnProperty(i)?e[n]=e[i]:n==="light"?e.light=ST(e.main,f):n==="dark"&&(e.dark=CT(e.main,m)))}function PT(e="light"){return e==="dark"?{main:Iu[200],light:Iu[50],dark:Iu[400]}:{main:Iu[700],light:Iu[400],dark:Iu[800]}}function IT(e="light"){return e==="dark"?{main:Pu[200],light:Pu[50],dark:Pu[400]}:{main:Pu[500],light:Pu[300],dark:Pu[700]}}function MT(e="light"){return e==="dark"?{main:Tu[500],light:Tu[300],dark:Tu[700]}:{main:Tu[700],light:Tu[400],dark:Tu[800]}}function AT(e="light"){return e==="dark"?{main:Mu[400],light:Mu[300],dark:Mu[700]}:{main:Mu[700],light:Mu[500],dark:Mu[900]}}function kT(e="light"){return e==="dark"?{main:Au[400],light:Au[300],dark:Au[700]}:{main:Au[800],light:Au[500],dark:Au[900]}}function OT(e="light"){return e==="dark"?{main:Jc[400],light:Jc[300],dark:Jc[700]}:{main:"#ed6c02",light:Jc[500],dark:Jc[900]}}function RT(e){const{mode:n="light",contrastThreshold:i=3,tonalOffset:l=.2}=e,f=Cr(e,TT),m=e.primary||PT(n),a=e.secondary||IT(n),x=e.error||MT(n),b=e.info||AT(n),P=e.success||kT(n),M=e.warning||OT(n);function k(H){return wT(H,$1.text.primary)>=i?$1.text.primary:k_.text.primary}const N=({color:H,name:it,mainShade:et=500,lightShade:dt=300,darkShade:st=700})=>{if(H=Pt({},H),!H.main&&H[et]&&(H.main=H[et]),!H.hasOwnProperty("main"))throw new Error(Ws(11,it?` (${it})`:"",et));if(typeof H.main!="string")throw new Error(Ws(12,it?` (${it})`:"",JSON.stringify(H.main)));return O_(H,"light",dt,l),O_(H,"dark",st,l),H.contrastText||(H.contrastText=k(H.main)),H},G={dark:$1,light:k_};return uo(Pt({common:Pt({},Mp),mode:n,primary:N({color:m,name:"primary"}),secondary:N({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:x,name:"error"}),warning:N({color:M,name:"warning"}),info:N({color:b,name:"info"}),success:N({color:P,name:"success"}),grey:X9,contrastThreshold:i,getContrastText:k,augmentColor:N,tonalOffset:l},G[n]),f)}const zT=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function DT(e){return Math.round(e*1e5)/1e5}const R_={textTransform:"uppercase"},z_='"Roboto", "Helvetica", "Arial", sans-serif';function LT(e,n){const i=typeof n=="function"?n(e):n,{fontFamily:l=z_,fontSize:f=14,fontWeightLight:m=300,fontWeightRegular:a=400,fontWeightMedium:x=500,fontWeightBold:b=700,htmlFontSize:P=16,allVariants:M,pxToRem:k}=i,N=Cr(i,zT),G=f/14,U=k||(et=>`${et/P*G}rem`),H=(et,dt,st,at,yt)=>Pt({fontFamily:l,fontWeight:et,fontSize:U(dt),lineHeight:st},l===z_?{letterSpacing:`${DT(at/dt)}em`}:{},yt,M),it={h1:H(m,96,1.167,-1.5),h2:H(m,60,1.2,-.5),h3:H(a,48,1.167,0),h4:H(a,34,1.235,.25),h5:H(a,24,1.334,0),h6:H(x,20,1.6,.15),subtitle1:H(a,16,1.75,.15),subtitle2:H(x,14,1.57,.1),body1:H(a,16,1.5,.15),body2:H(a,14,1.43,.15),button:H(x,14,1.75,.4,R_),caption:H(a,12,1.66,.4),overline:H(a,12,2.66,1,R_),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return uo(Pt({htmlFontSize:P,pxToRem:U,fontFamily:l,fontSize:f,fontWeightLight:m,fontWeightRegular:a,fontWeightMedium:x,fontWeightBold:b},it),N,{clone:!1})}const BT=.2,FT=.14,NT=.12;function On(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${BT})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${FT})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${NT})`].join(",")}const UT=["none",On(0,2,1,-1,0,1,1,0,0,1,3,0),On(0,3,1,-2,0,2,2,0,0,1,5,0),On(0,3,3,-2,0,3,4,0,0,1,8,0),On(0,2,4,-1,0,4,5,0,0,1,10,0),On(0,3,5,-1,0,5,8,0,0,1,14,0),On(0,3,5,-1,0,6,10,0,0,1,18,0),On(0,4,5,-2,0,7,10,1,0,2,16,1),On(0,5,5,-3,0,8,10,1,0,3,14,2),On(0,5,6,-3,0,9,12,1,0,3,16,2),On(0,6,6,-3,0,10,14,1,0,4,18,3),On(0,6,7,-4,0,11,15,1,0,4,20,3),On(0,7,8,-4,0,12,17,2,0,5,22,4),On(0,7,8,-4,0,13,19,2,0,5,24,4),On(0,7,9,-4,0,14,21,2,0,5,26,4),On(0,8,9,-5,0,15,22,2,0,6,28,5),On(0,8,10,-5,0,16,24,2,0,6,30,5),On(0,8,11,-5,0,17,26,2,0,6,32,5),On(0,9,11,-5,0,18,28,2,0,7,34,6),On(0,9,12,-6,0,19,29,2,0,7,36,6),On(0,10,13,-6,0,20,31,3,0,8,38,7),On(0,10,13,-6,0,21,33,3,0,8,40,7),On(0,10,14,-6,0,22,35,3,0,8,42,7),On(0,11,14,-7,0,23,36,3,0,9,44,8),On(0,11,15,-7,0,24,38,3,0,9,46,8)],VT=UT,jT=["duration","easing","delay"],$T={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ZT={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D_(e){return`${Math.round(e)}ms`}function qT(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function WT(e){const n=Pt({},$T,e.easing),i=Pt({},ZT,e.duration);return Pt({getAutoHeightDuration:qT,create:(f=["all"],m={})=>{const{duration:a=i.standard,easing:x=n.easeInOut,delay:b=0}=m;return Cr(m,jT),(Array.isArray(f)?f:[f]).map(P=>`${P} ${typeof a=="string"?a:D_(a)} ${x} ${typeof b=="string"?b:D_(b)}`).join(",")}},e,{easing:n,duration:i})}const HT={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},GT=HT,XT=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function KT(e={},...n){const{mixins:i={},palette:l={},transitions:f={},typography:m={}}=e,a=Cr(e,XT);if(e.vars)throw new Error(Ws(18));const x=RT(l),b=Fy(e);let P=uo(b,{mixins:ET(b.breakpoints,i),palette:x,shadows:VT.slice(),typography:LT(x,m),transitions:WT(f),zIndex:Pt({},GT)});return P=uo(P,a),P=n.reduce((M,k)=>uo(M,k),P),P.unstable_sxConfig=Pt({},Ly,a==null?void 0:a.unstable_sxConfig),P.unstable_sx=function(k){return By({sx:k,theme:this})},P}const YT=KT(),Ed=YT;function Vy(){const e=Ny(Ed);return e[id]||e}function Ai({props:e,name:n}){return _T({props:e,name:n,defaultTheme:Ed,themeId:id})}const Js=e=>dp(e)&&e!=="classes",JT=dp,QT=gT({themeId:id,defaultTheme:Ed,rootShouldForwardProp:Js}),Mr=QT,tP=e=>{let n;return e<1?n=5.11916*e**2:n=4.5*Math.log(e+1)+2,(n/100).toFixed(2)},L_=tP;function eP(e){return di("MuiSvgIcon",e)}xi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rP=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nP=e=>{const{color:n,fontSize:i,classes:l}=e,f={root:["root",n!=="inherit"&&`color${Wn(n)}`,`fontSize${Wn(i)}`]};return bi(f,eP,l)},iP=Mr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,i.color!=="inherit"&&n[`color${Wn(i.color)}`],n[`fontSize${Wn(i.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var i,l,f,m,a,x,b,P,M,k,N,G,U;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(i=e.transitions)==null||(l=i.create)==null?void 0:l.call(i,"fill",{duration:(f=e.transitions)==null||(f=f.duration)==null?void 0:f.shorter}),fontSize:{inherit:"inherit",small:((m=e.typography)==null||(a=m.pxToRem)==null?void 0:a.call(m,20))||"1.25rem",medium:((x=e.typography)==null||(b=x.pxToRem)==null?void 0:b.call(x,24))||"1.5rem",large:((P=e.typography)==null||(M=P.pxToRem)==null?void 0:M.call(P,35))||"2.1875rem"}[n.fontSize],color:(k=(N=(e.vars||e).palette)==null||(N=N[n.color])==null?void 0:N.main)!=null?k:{action:(G=(e.vars||e).palette)==null||(G=G.action)==null?void 0:G.active,disabled:(U=(e.vars||e).palette)==null||(U=U.action)==null?void 0:U.disabled,inherit:void 0}[n.color]}}),Bb=rn(function(n,i){const l=Ai({props:n,name:"MuiSvgIcon"}),{children:f,className:m,color:a="inherit",component:x="svg",fontSize:b="medium",htmlColor:P,inheritViewBox:M=!1,titleAccess:k,viewBox:N="0 0 24 24"}=l,G=Cr(l,rP),U=No(f)&&f.type==="svg",H=Pt({},l,{color:a,component:x,fontSize:b,instanceFontSize:n.fontSize,inheritViewBox:M,viewBox:N,hasSvgAsChild:U}),it={};M||(it.viewBox=N);const et=nP(H);return T(iP,Pt({as:x,className:Qn(et.root,m),focusable:"false",color:P,"aria-hidden":k?void 0:!0,role:k?"img":void 0,ref:i},it,G,U&&f.props,{ownerState:H,children:[U?f.props.children:f,k?T("title",{children:k}):null]}))});Bb.muiName="SvgIcon";const B_=Bb;function oP(e,n){function i(l,f){return T(B_,Pt({"data-testid":`${n}Icon`,ref:f},l,{children:e}))}return i.muiName=B_.muiName,In(rn(i))}function aP(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,xf(e,n)}const F_={disabled:!1},Fb=xa.createContext(null);var sP=function(n){return n.scrollTop},np="unmounted",Cl="exited",Sl="entering",Ou="entered",zm="exiting",hs=function(e){aP(n,e);function n(l,f){var m;m=e.call(this,l,f)||this;var a=f,x=a&&!a.isMounting?l.enter:l.appear,b;return m.appearStatus=null,l.in?x?(b=Cl,m.appearStatus=Sl):b=Ou:l.unmountOnExit||l.mountOnEnter?b=np:b=Cl,m.state={status:b},m.nextCallback=null,m}n.getDerivedStateFromProps=function(f,m){var a=f.in;return a&&m.status===np?{status:Cl}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(f){var m=null;if(f!==this.props){var a=this.state.status;this.props.in?a!==Sl&&a!==Ou&&(m=Sl):(a===Sl||a===Ou)&&(m=zm)}this.updateStatus(!1,m)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var f=this.props.timeout,m,a,x;return m=a=x=f,f!=null&&typeof f!="number"&&(m=f.exit,a=f.enter,x=f.appear!==void 0?f.appear:a),{exit:m,enter:a,appear:x}},i.updateStatus=function(f,m){if(f===void 0&&(f=!1),m!==null)if(this.cancelNextCallback(),m===Sl){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:xa.findDOMNode(this);a&&sP(a)}this.performEnter(f)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cl&&this.setState({status:np})},i.performEnter=function(f){var m=this,a=this.props.enter,x=this.context?this.context.isMounting:f,b=this.props.nodeRef?[x]:[xa.findDOMNode(this),x],P=b[0],M=b[1],k=this.getTimeouts(),N=x?k.appear:k.enter;if(!f&&!a||F_.disabled){this.safeSetState({status:Ou},function(){m.props.onEntered(P)});return}this.props.onEnter(P,M),this.safeSetState({status:Sl},function(){m.props.onEntering(P,M),m.onTransitionEnd(N,function(){m.safeSetState({status:Ou},function(){m.props.onEntered(P,M)})})})},i.performExit=function(){var f=this,m=this.props.exit,a=this.getTimeouts(),x=this.props.nodeRef?void 0:xa.findDOMNode(this);if(!m||F_.disabled){this.safeSetState({status:Cl},function(){f.props.onExited(x)});return}this.props.onExit(x),this.safeSetState({status:zm},function(){f.props.onExiting(x),f.onTransitionEnd(a.exit,function(){f.safeSetState({status:Cl},function(){f.props.onExited(x)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(f,m){m=this.setNextCallback(m),this.setState(f,m)},i.setNextCallback=function(f){var m=this,a=!0;return this.nextCallback=function(x){a&&(a=!1,m.nextCallback=null,f(x))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},i.onTransitionEnd=function(f,m){this.setNextCallback(m);var a=this.props.nodeRef?this.props.nodeRef.current:xa.findDOMNode(this),x=f==null&&!this.props.addEndListener;if(!a||x){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],P=b[0],M=b[1];this.props.addEndListener(P,M)}f!=null&&setTimeout(this.nextCallback,f)},i.render=function(){var f=this.state.status;if(f===np)return null;var m=this.props,a=m.children;m.in,m.mountOnEnter,m.unmountOnExit,m.appear,m.enter,m.exit,m.timeout,m.addEndListener,m.onEnter,m.onEntering,m.onEntered,m.onExit,m.onExiting,m.onExited,m.nodeRef;var x=Cr(m,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return xa.createElement(Fb.Provider,{value:null},typeof a=="function"?a(f,x):xa.cloneElement(xa.Children.only(a),x))},n}(xa.Component);hs.contextType=Fb;hs.propTypes={};function ku(){}hs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ku,onEntering:ku,onEntered:ku,onExit:ku,onExiting:ku,onExited:ku};hs.UNMOUNTED=np;hs.EXITED=Cl;hs.ENTERING=Sl;hs.ENTERED=Ou;hs.EXITING=zm;const Nb=hs,Ub=e=>e.scrollTop;function If(e,n){var i,l;const{timeout:f,easing:m,style:a={}}=e;return{duration:(i=a.transitionDuration)!=null?i:typeof f=="number"?f:f[n.mode]||0,easing:(l=a.transitionTimingFunction)!=null?l:typeof m=="object"?m[n.mode]:m,delay:a.transitionDelay}}function lP(e){return di("MuiPaper",e)}xi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uP=["className","component","elevation","square","variant"],cP=e=>{const{square:n,elevation:i,variant:l,classes:f}=e,m={root:["root",l,!n&&"rounded",l==="elevation"&&`elevation${i}`]};return bi(m,lP,f)},pP=Mr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,n[i.variant],!i.square&&n.rounded,i.variant==="elevation"&&n[`elevation${i.elevation}`]]}})(({theme:e,ownerState:n})=>{var i;return Pt({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!n.square&&{borderRadius:e.shape.borderRadius},n.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},n.variant==="elevation"&&Pt({boxShadow:(e.vars||e).shadows[n.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${A_("#fff",L_(n.elevation))}, ${A_("#fff",L_(n.elevation))})`},e.vars&&{backgroundImage:(i=e.vars.overlays)==null?void 0:i[n.elevation]}))}),hP=rn(function(n,i){const l=Ai({props:n,name:"MuiPaper"}),{className:f,component:m="div",elevation:a=1,square:x=!1,variant:b="elevation"}=l,P=Cr(l,uP),M=Pt({},l,{component:m,elevation:a,square:x,variant:b}),k=cP(M);return T(pP,Pt({as:m,ownerState:M,className:Qn(k.root,f),ref:i},P))}),fP=hP;function Mf(e){return typeof e=="string"}function dP(e,n,i){return e===void 0||Mf(e)?n:Pt({},n,{ownerState:Pt({},n.ownerState,i)})}function Vb(e,n=[]){if(e===void 0)return{};const i={};return Object.keys(e).filter(l=>l.match(/^on[A-Z]/)&&typeof e[l]=="function"&&!n.includes(l)).forEach(l=>{i[l]=e[l]}),i}function mP(e,n,i){return typeof e=="function"?e(n,i):e}function N_(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(i=>!(i.match(/^on[A-Z]/)&&typeof e[i]=="function")).forEach(i=>{n[i]=e[i]}),n}function yP(e){const{getSlotProps:n,additionalProps:i,externalSlotProps:l,externalForwardedProps:f,className:m}=e;if(!n){const G=Qn(f==null?void 0:f.className,l==null?void 0:l.className,m,i==null?void 0:i.className),U=Pt({},i==null?void 0:i.style,f==null?void 0:f.style,l==null?void 0:l.style),H=Pt({},i,f,l);return G.length>0&&(H.className=G),Object.keys(U).length>0&&(H.style=U),{props:H,internalRef:void 0}}const a=Vb(Pt({},f,l)),x=N_(l),b=N_(f),P=n(a),M=Qn(P==null?void 0:P.className,i==null?void 0:i.className,m,f==null?void 0:f.className,l==null?void 0:l.className),k=Pt({},P==null?void 0:P.style,i==null?void 0:i.style,f==null?void 0:f.style,l==null?void 0:l.style),N=Pt({},P,i,b,x);return M.length>0&&(N.className=M),Object.keys(k).length>0&&(N.style=k),{props:N,internalRef:P.ref}}const gP=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Xu(e){var n;const{elementType:i,externalSlotProps:l,ownerState:f,skipResolvingSlotProps:m=!1}=e,a=Cr(e,gP),x=m?{}:mP(l,f),{props:b,internalRef:P}=yP(Pt({},a,{externalSlotProps:x})),M=jo(P,x==null?void 0:x.ref,(n=e.additionalProps)==null?void 0:n.ref);return dP(i,Pt({},b,{ref:M}),f)}const vP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function _P(e){const n=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(n)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:n}function bP(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const n=l=>e.ownerDocument.querySelector(`input[type="radio"]${l}`);let i=n(`[name="${e.name}"]:checked`);return i||(i=n(`[name="${e.name}"]`)),i!==e}function xP(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||bP(e))}function wP(e){const n=[],i=[];return Array.from(e.querySelectorAll(vP)).forEach((l,f)=>{const m=_P(l);m===-1||!xP(l)||(m===0?n.push(l):i.push({documentOrder:f,tabIndex:m,node:l}))}),i.sort((l,f)=>l.tabIndex===f.tabIndex?l.documentOrder-f.documentOrder:l.tabIndex-f.tabIndex).map(l=>l.node).concat(n)}function CP(){return!0}function SP(e){const{children:n,disableAutoFocus:i=!1,disableEnforceFocus:l=!1,disableRestoreFocus:f=!1,getTabbable:m=wP,isEnabled:a=CP,open:x}=e,b=Ae(!1),P=Ae(null),M=Ae(null),k=Ae(null),N=Ae(null),G=Ae(!1),U=Ae(null),H=jo(n.ref,U),it=Ae(null);pr(()=>{!x||!U.current||(G.current=!i)},[i,x]),pr(()=>{if(!x||!U.current)return;const st=wo(U.current);return U.current.contains(st.activeElement)||(U.current.hasAttribute("tabIndex")||U.current.setAttribute("tabIndex","-1"),G.current&&U.current.focus()),()=>{f||(k.current&&k.current.focus&&(b.current=!0,k.current.focus()),k.current=null)}},[x]),pr(()=>{if(!x||!U.current)return;const st=wo(U.current),at=xt=>{it.current=xt,!(l||!a()||xt.key!=="Tab")&&st.activeElement===U.current&&xt.shiftKey&&(b.current=!0,M.current&&M.current.focus())},yt=()=>{const xt=U.current;if(xt===null)return;if(!st.hasFocus()||!a()||b.current){b.current=!1;return}if(xt.contains(st.activeElement)||l&&st.activeElement!==P.current&&st.activeElement!==M.current)return;if(st.activeElement!==N.current)N.current=null;else if(N.current!==null)return;if(!G.current)return;let Vt=[];if((st.activeElement===P.current||st.activeElement===M.current)&&(Vt=m(U.current)),Vt.length>0){var Dt,Bt;const Zt=!!((Dt=it.current)!=null&&Dt.shiftKey&&((Bt=it.current)==null?void 0:Bt.key)==="Tab"),Jt=Vt[0],te=Vt[Vt.length-1];typeof Jt!="string"&&typeof te!="string"&&(Zt?te.focus():Jt.focus())}else xt.focus()};st.addEventListener("focusin",yt),st.addEventListener("keydown",at,!0);const Ct=setInterval(()=>{st.activeElement&&st.activeElement.tagName==="BODY"&&yt()},50);return()=>{clearInterval(Ct),st.removeEventListener("focusin",yt),st.removeEventListener("keydown",at,!0)}},[i,l,f,a,x,m]);const et=st=>{k.current===null&&(k.current=st.relatedTarget),G.current=!0,N.current=st.target;const at=n.props.onFocus;at&&at(st)},dt=st=>{k.current===null&&(k.current=st.relatedTarget),G.current=!0};return T(en,{children:[T("div",{tabIndex:x?0:-1,onFocus:dt,ref:P,"data-testid":"sentinelStart"}),Oa(n,{ref:H,onFocus:et}),T("div",{tabIndex:x?0:-1,onFocus:dt,ref:M,"data-testid":"sentinelEnd"})]})}function EP(e){return typeof e=="function"?e():e}const TP=rn(function(n,i){const{children:l,container:f,disablePortal:m=!1}=n,[a,x]=$e(null),b=jo(No(l)?l.ref:null,i);return Ol(()=>{m||x(EP(f)||document.body)},[f,m]),Ol(()=>{if(a&&!m)return Am(i,a),()=>{Am(i,null)}},[i,a,m]),m?No(l)?Oa(l,{ref:b}):T(en,{children:l}):T(en,{children:a&&Ju(l,a)})});function PP(e){const n=wo(e);return n.body===e?kl(e).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function mp(e,n){n?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function U_(e){return parseInt(kl(e).getComputedStyle(e).paddingRight,10)||0}function IP(e){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,l=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return i||l}function V_(e,n,i,l,f){const m=[n,i,...l];[].forEach.call(e.children,a=>{const x=m.indexOf(a)===-1,b=!IP(a);x&&b&&mp(a,f)})}function Z1(e,n){let i=-1;return e.some((l,f)=>n(l)?(i=f,!0):!1),i}function MP(e,n){const i=[],l=e.container;if(!n.disableScrollLock){if(PP(l)){const a=hb(wo(l));i.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${U_(l)+a}px`;const x=wo(l).querySelectorAll(".mui-fixed");[].forEach.call(x,b=>{i.push({value:b.style.paddingRight,property:"padding-right",el:b}),b.style.paddingRight=`${U_(b)+a}px`})}let m;if(l.parentNode instanceof DocumentFragment)m=wo(l).body;else{const a=l.parentElement,x=kl(l);m=(a==null?void 0:a.nodeName)==="HTML"&&x.getComputedStyle(a).overflowY==="scroll"?a:l}i.push({value:m.style.overflow,property:"overflow",el:m},{value:m.style.overflowX,property:"overflow-x",el:m},{value:m.style.overflowY,property:"overflow-y",el:m}),m.style.overflow="hidden"}return()=>{i.forEach(({value:m,el:a,property:x})=>{m?a.style.setProperty(x,m):a.style.removeProperty(x)})}}function AP(e){const n=[];return[].forEach.call(e.children,i=>{i.getAttribute("aria-hidden")==="true"&&n.push(i)}),n}class kP{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(n,i){let l=this.modals.indexOf(n);if(l!==-1)return l;l=this.modals.length,this.modals.push(n),n.modalRef&&mp(n.modalRef,!1);const f=AP(i);V_(i,n.mount,n.modalRef,f,!0);const m=Z1(this.containers,a=>a.container===i);return m!==-1?(this.containers[m].modals.push(n),l):(this.containers.push({modals:[n],container:i,restore:null,hiddenSiblings:f}),l)}mount(n,i){const l=Z1(this.containers,m=>m.modals.indexOf(n)!==-1),f=this.containers[l];f.restore||(f.restore=MP(f,i))}remove(n,i=!0){const l=this.modals.indexOf(n);if(l===-1)return l;const f=Z1(this.containers,a=>a.modals.indexOf(n)!==-1),m=this.containers[f];if(m.modals.splice(m.modals.indexOf(n),1),this.modals.splice(l,1),m.modals.length===0)m.restore&&m.restore(),n.modalRef&&mp(n.modalRef,i),V_(m.container,n.mount,n.modalRef,m.hiddenSiblings,!1),this.containers.splice(f,1);else{const a=m.modals[m.modals.length-1];a.modalRef&&mp(a.modalRef,!1)}return l}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}function OP(e){return typeof e=="function"?e():e}function RP(e){return e?e.props.hasOwnProperty("in"):!1}const zP=new kP;function DP(e){const{container:n,disableEscapeKeyDown:i=!1,disableScrollLock:l=!1,manager:f=zP,closeAfterTransition:m=!1,onTransitionEnter:a,onTransitionExited:x,children:b,onClose:P,open:M,rootRef:k}=e,N=Ae({}),G=Ae(null),U=Ae(null),H=jo(U,k),[it,et]=$e(!M),dt=RP(b);let st=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(st=!1);const at=()=>wo(G.current),yt=()=>(N.current.modalRef=U.current,N.current.mount=G.current,N.current),Ct=()=>{f.mount(yt(),{disableScrollLock:l}),U.current&&(U.current.scrollTop=0)},xt=d_(()=>{const ue=OP(n)||at().body;f.add(yt(),ue),U.current&&Ct()}),Vt=cr(()=>f.isTopModal(yt()),[f]),Dt=d_(ue=>{G.current=ue,ue&&(M&&Vt()?Ct():U.current&&mp(U.current,st))}),Bt=cr(()=>{f.remove(yt(),st)},[st,f]);pr(()=>()=>{Bt()},[Bt]),pr(()=>{M?xt():(!dt||!m)&&Bt()},[M,Bt,dt,m,xt]);const Zt=ue=>be=>{var ke;(ke=ue.onKeyDown)==null||ke.call(ue,be),!(be.key!=="Escape"||!Vt())&&(i||(be.stopPropagation(),P&&P(be,"escapeKeyDown")))},Jt=ue=>be=>{var ke;(ke=ue.onClick)==null||ke.call(ue,be),be.target===be.currentTarget&&P&&P(be,"backdropClick")};return{getRootProps:(ue={})=>{const be=Vb(e);delete be.onTransitionEnter,delete be.onTransitionExited;const ke=Pt({},be,ue);return Pt({role:"presentation"},ke,{onKeyDown:Zt(ke),ref:H})},getBackdropProps:(ue={})=>{const be=ue;return Pt({"aria-hidden":!0},be,{onClick:Jt(be),open:M})},getTransitionProps:()=>{const ue=()=>{et(!1),a&&a()},be=()=>{et(!0),x&&x(),m&&Bt()};return{onEnter:c_(ue,b==null?void 0:b.props.onEnter),onExited:c_(be,b==null?void 0:b.props.onExited)}},rootRef:H,portalRef:Dt,isTopModal:Vt,exited:it,hasTransition:dt}}const LP=["onChange","maxRows","minRows","style","value"];function Jh(e){return parseInt(e,10)||0}const BP={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function j_(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const FP=rn(function(n,i){const{onChange:l,maxRows:f,minRows:m=1,style:a,value:x}=n,b=Cr(n,LP),{current:P}=Ae(x!=null),M=Ae(null),k=jo(i,M),N=Ae(null),G=Ae(0),[U,H]=$e({outerHeightStyle:0}),it=cr(()=>{const at=M.current,Ct=kl(at).getComputedStyle(at);if(Ct.width==="0px")return{outerHeightStyle:0};const xt=N.current;xt.style.width=Ct.width,xt.value=at.value||n.placeholder||"x",xt.value.slice(-1)===`
`&&(xt.value+=" ");const Vt=Ct.boxSizing,Dt=Jh(Ct.paddingBottom)+Jh(Ct.paddingTop),Bt=Jh(Ct.borderBottomWidth)+Jh(Ct.borderTopWidth),Zt=xt.scrollHeight;xt.value="x";const Jt=xt.scrollHeight;let te=Zt;m&&(te=Math.max(Number(m)*Jt,te)),f&&(te=Math.min(Number(f)*Jt,te)),te=Math.max(te,Jt);const Nt=te+(Vt==="border-box"?Dt+Bt:0),oe=Math.abs(te-Zt)<=1;return{outerHeightStyle:Nt,overflow:oe}},[f,m,n.placeholder]),et=(at,yt)=>{const{outerHeightStyle:Ct,overflow:xt}=yt;return G.current<20&&(Ct>0&&Math.abs((at.outerHeightStyle||0)-Ct)>1||at.overflow!==xt)?(G.current+=1,{overflow:xt,outerHeightStyle:Ct}):at},dt=cr(()=>{const at=it();j_(at)||H(yt=>et(yt,at))},[it]);return Ol(()=>{const at=()=>{const Zt=it();j_(Zt)||$m(()=>{H(Jt=>et(Jt,Zt))})},yt=()=>{G.current=0,at()};let Ct;const xt=cb(yt),Vt=M.current,Dt=kl(Vt);Dt.addEventListener("resize",xt);let Bt;return typeof ResizeObserver<"u"&&(Bt=new ResizeObserver(yt),Bt.observe(Vt)),()=>{xt.clear(),cancelAnimationFrame(Ct),Dt.removeEventListener("resize",xt),Bt&&Bt.disconnect()}},[it]),Ol(()=>{dt()}),pr(()=>{G.current=0},[x]),T(en,{children:[T("textarea",Pt({value:x,onChange:at=>{G.current=0,P||dt(),l&&l(at)},ref:k,rows:m,style:Pt({height:U.outerHeightStyle,overflow:U.overflow?"hidden":void 0},a)},b)),T("textarea",{"aria-hidden":!0,className:n.className,readOnly:!0,ref:N,tabIndex:-1,style:Pt({},BP.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function nc({props:e,states:n,muiFormControl:i}){return n.reduce((l,f)=>(l[f]=e[f],i&&typeof e[f]>"u"&&(l[f]=i[f]),l),{})}const NP=Uo(void 0),jy=NP;function ic(){return Mi(jy)}function UP(e){return T(aT,Pt({},e,{defaultTheme:Ed,themeId:id}))}function $_(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Af(e,n=!1){return e&&($_(e.value)&&e.value!==""||n&&$_(e.defaultValue)&&e.defaultValue!=="")}function VP(e){return e.startAdornment}function jP(e){return di("MuiInputBase",e)}const $P=xi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ku=$P,ZP=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Td=(e,n)=>{const{ownerState:i}=e;return[n.root,i.formControl&&n.formControl,i.startAdornment&&n.adornedStart,i.endAdornment&&n.adornedEnd,i.error&&n.error,i.size==="small"&&n.sizeSmall,i.multiline&&n.multiline,i.color&&n[`color${Wn(i.color)}`],i.fullWidth&&n.fullWidth,i.hiddenLabel&&n.hiddenLabel]},Pd=(e,n)=>{const{ownerState:i}=e;return[n.input,i.size==="small"&&n.inputSizeSmall,i.multiline&&n.inputMultiline,i.type==="search"&&n.inputTypeSearch,i.startAdornment&&n.inputAdornedStart,i.endAdornment&&n.inputAdornedEnd,i.hiddenLabel&&n.inputHiddenLabel]},qP=e=>{const{classes:n,color:i,disabled:l,error:f,endAdornment:m,focused:a,formControl:x,fullWidth:b,hiddenLabel:P,multiline:M,readOnly:k,size:N,startAdornment:G,type:U}=e,H={root:["root",`color${Wn(i)}`,l&&"disabled",f&&"error",b&&"fullWidth",a&&"focused",x&&"formControl",N&&N!=="medium"&&`size${Wn(N)}`,M&&"multiline",G&&"adornedStart",m&&"adornedEnd",P&&"hiddenLabel",k&&"readOnly"],input:["input",l&&"disabled",U==="search"&&"inputTypeSearch",M&&"inputMultiline",N==="small"&&"inputSizeSmall",P&&"inputHiddenLabel",G&&"inputAdornedStart",m&&"inputAdornedEnd",k&&"readOnly"]};return bi(H,jP,n)},Id=Mr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Td})(({theme:e,ownerState:n})=>Pt({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ku.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},n.multiline&&Pt({padding:"4px 0 5px"},n.size==="small"&&{paddingTop:1}),n.fullWidth&&{width:"100%"})),Md=Mr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Pd})(({theme:e,ownerState:n})=>{const i=e.palette.mode==="light",l=Pt({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),f={opacity:"0 !important"},m=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return Pt({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":l,"&::-moz-placeholder":l,"&:-ms-input-placeholder":l,"&::-ms-input-placeholder":l,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ku.formControl} &`]:{"&::-webkit-input-placeholder":f,"&::-moz-placeholder":f,"&:-ms-input-placeholder":f,"&::-ms-input-placeholder":f,"&:focus::-webkit-input-placeholder":m,"&:focus::-moz-placeholder":m,"&:focus:-ms-input-placeholder":m,"&:focus::-ms-input-placeholder":m},[`&.${Ku.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},n.size==="small"&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},n.type==="search"&&{MozAppearance:"textfield"})}),WP=T(UP,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),HP=rn(function(n,i){var l;const f=Ai({props:n,name:"MuiInputBase"}),{"aria-describedby":m,autoComplete:a,autoFocus:x,className:b,components:P={},componentsProps:M={},defaultValue:k,disabled:N,disableInjectingGlobalStyles:G,endAdornment:U,fullWidth:H=!1,id:it,inputComponent:et="input",inputProps:dt={},inputRef:st,maxRows:at,minRows:yt,multiline:Ct=!1,name:xt,onBlur:Vt,onChange:Dt,onClick:Bt,onFocus:Zt,onKeyDown:Jt,onKeyUp:te,placeholder:Nt,readOnly:oe,renderSuffix:ue,rows:be,slotProps:ke={},slots:Xe={},startAdornment:dr,type:Nr="text",value:nr}=f,Zr=Cr(f,ZP),fr=dt.value!=null?dt.value:nr,{current:vr}=Ae(fr!=null),Sr=Ae(),Ee=cr(Dr=>{},[]),lr=jo(Sr,st,dt.ref,Ee),[xe,Ve]=$e(!1),Je=ic(),or=nc({props:f,muiFormControl:Je,states:["color","disabled","error","hiddenLabel","size","required","filled"]});or.focused=Je?Je.focused:xe,pr(()=>{!Je&&N&&xe&&(Ve(!1),Vt&&Vt())},[Je,N,xe,Vt]);const Gt=Je&&Je.onFilled,Se=Je&&Je.onEmpty,ir=cr(Dr=>{Af(Dr)?Gt&&Gt():Se&&Se()},[Gt,Se]);Ol(()=>{vr&&ir({value:fr})},[fr,ir,vr]);const _r=Dr=>{if(or.disabled){Dr.stopPropagation();return}Zt&&Zt(Dr),dt.onFocus&&dt.onFocus(Dr),Je&&Je.onFocus?Je.onFocus(Dr):Ve(!0)},hn=Dr=>{Vt&&Vt(Dr),dt.onBlur&&dt.onBlur(Dr),Je&&Je.onBlur?Je.onBlur(Dr):Ve(!1)},zr=(Dr,...Si)=>{if(!vr){const ti=Dr.target||Sr.current;if(ti==null)throw new Error(Ws(1));ir({value:ti.value})}dt.onChange&&dt.onChange(Dr,...Si),Dt&&Dt(Dr,...Si)};pr(()=>{ir(Sr.current)},[]);const mr=Dr=>{Sr.current&&Dr.currentTarget===Dr.target&&Sr.current.focus(),Bt&&Bt(Dr)};let Mn=et,qe=dt;Ct&&Mn==="input"&&(be?qe=Pt({type:void 0,minRows:be,maxRows:be},qe):qe=Pt({type:void 0,maxRows:at,minRows:yt},qe),Mn=FP);const vn=Dr=>{ir(Dr.animationName==="mui-auto-fill-cancel"?Sr.current:{value:"x"})};pr(()=>{Je&&Je.setAdornedStart(!!dr)},[Je,dr]);const An=Pt({},f,{color:or.color||"primary",disabled:or.disabled,endAdornment:U,error:or.error,focused:or.focused,formControl:Je,fullWidth:H,hiddenLabel:or.hiddenLabel,multiline:Ct,size:or.size,startAdornment:dr,type:Nr}),Jr=qP(An),ki=Xe.root||P.Root||Id,mi=ke.root||M.root||{},Ci=Xe.input||P.Input||Md;return qe=Pt({},qe,(l=ke.input)!=null?l:M.input),T(en,{children:[!G&&WP,T(ki,Pt({},mi,!Mf(ki)&&{ownerState:Pt({},An,mi.ownerState)},{ref:i,onClick:mr},Zr,{className:Qn(Jr.root,mi.className,b,oe&&"MuiInputBase-readOnly"),children:[dr,T(jy.Provider,{value:null,children:T(Ci,Pt({ownerState:An,"aria-invalid":or.error,"aria-describedby":m,autoComplete:a,autoFocus:x,defaultValue:k,disabled:or.disabled,id:it,onAnimationStart:vn,name:xt,placeholder:Nt,readOnly:oe,required:or.required,rows:be,value:fr,onKeyDown:Jt,onKeyUp:te,type:Nr},qe,!Mf(Ci)&&{as:Mn,ownerState:Pt({},An,qe.ownerState)},{ref:lr,className:Qn(Jr.input,qe.className,oe&&"MuiInputBase-readOnly"),onBlur:hn,onChange:zr,onFocus:_r}))}),U,ue?ue(Pt({},or,{startAdornment:dr})):null]}))]})}),$y=HP;function GP(e){return di("MuiInput",e)}const XP=Pt({},Ku,xi("MuiInput",["root","underline","input"])),tp=XP;function KP(e){return di("MuiOutlinedInput",e)}const YP=Pt({},Ku,xi("MuiOutlinedInput",["root","notchedOutline","input"])),Fs=YP;function JP(e){return di("MuiFilledInput",e)}const QP=Pt({},Ku,xi("MuiFilledInput",["root","underline","input"])),xl=QP,tI=oP(T("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),eI=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],rI={entering:{opacity:1},entered:{opacity:1}},nI=rn(function(n,i){const l=Vy(),f={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{addEndListener:m,appear:a=!0,children:x,easing:b,in:P,onEnter:M,onEntered:k,onEntering:N,onExit:G,onExited:U,onExiting:H,style:it,timeout:et=f,TransitionComponent:dt=Nb}=n,st=Cr(n,eI),at=Ae(null),yt=jo(at,x.ref,i),Ct=Nt=>oe=>{if(Nt){const ue=at.current;oe===void 0?Nt(ue):Nt(ue,oe)}},xt=Ct(N),Vt=Ct((Nt,oe)=>{Ub(Nt);const ue=If({style:it,timeout:et,easing:b},{mode:"enter"});Nt.style.webkitTransition=l.transitions.create("opacity",ue),Nt.style.transition=l.transitions.create("opacity",ue),M&&M(Nt,oe)}),Dt=Ct(k),Bt=Ct(H),Zt=Ct(Nt=>{const oe=If({style:it,timeout:et,easing:b},{mode:"exit"});Nt.style.webkitTransition=l.transitions.create("opacity",oe),Nt.style.transition=l.transitions.create("opacity",oe),G&&G(Nt)}),Jt=Ct(U);return T(dt,Pt({appear:a,in:P,nodeRef:at,onEnter:Vt,onEntered:Dt,onEntering:xt,onExit:Zt,onExited:Jt,onExiting:Bt,addEndListener:Nt=>{m&&m(at.current,Nt)},timeout:et},st,{children:(Nt,oe)=>Oa(x,Pt({style:Pt({opacity:0,visibility:Nt==="exited"&&!P?"hidden":void 0},rI[Nt],it,x.props.style),ref:yt},oe))}))}),iI=nI;function oI(e){return di("MuiBackdrop",e)}xi("MuiBackdrop",["root","invisible"]);const aI=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],sI=e=>{const{classes:n,invisible:i}=e;return bi({root:["root",i&&"invisible"]},oI,n)},lI=Mr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,i.invisible&&n.invisible]}})(({ownerState:e})=>Pt({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),uI=rn(function(n,i){var l,f,m;const a=Ai({props:n,name:"MuiBackdrop"}),{children:x,className:b,component:P="div",components:M={},componentsProps:k={},invisible:N=!1,open:G,slotProps:U={},slots:H={},TransitionComponent:it=iI,transitionDuration:et}=a,dt=Cr(a,aI),st=Pt({},a,{component:P,invisible:N}),at=sI(st),yt=(l=U.root)!=null?l:k.root;return T(it,Pt({in:G,timeout:et},dt,{children:T(lI,Pt({"aria-hidden":!0},yt,{as:(f=(m=H.root)!=null?m:M.Root)!=null?f:P,className:Qn(at.root,b,yt==null?void 0:yt.className),ownerState:Pt({},st,yt==null?void 0:yt.ownerState),classes:at,ref:i,children:x}))}))}),cI=uI;function pI(e){return di("MuiModal",e)}xi("MuiModal",["root","hidden","backdrop"]);const hI=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],fI=e=>{const{open:n,exited:i,classes:l}=e;return bi({root:["root",!n&&i&&"hidden"],backdrop:["backdrop"]},pI,l)},dI=Mr("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,!i.open&&i.exited&&n.hidden]}})(({theme:e,ownerState:n})=>Pt({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})),mI=Mr(cI,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,n)=>n.backdrop})({zIndex:-1}),yI=rn(function(n,i){var l,f,m,a,x,b;const P=Ai({name:"MuiModal",props:n}),{BackdropComponent:M=mI,BackdropProps:k,className:N,closeAfterTransition:G=!1,children:U,container:H,component:it,components:et={},componentsProps:dt={},disableAutoFocus:st=!1,disableEnforceFocus:at=!1,disableEscapeKeyDown:yt=!1,disablePortal:Ct=!1,disableRestoreFocus:xt=!1,disableScrollLock:Vt=!1,hideBackdrop:Dt=!1,keepMounted:Bt=!1,onBackdropClick:Zt,open:Jt,slotProps:te,slots:Nt}=P,oe=Cr(P,hI),ue=Pt({},P,{closeAfterTransition:G,disableAutoFocus:st,disableEnforceFocus:at,disableEscapeKeyDown:yt,disablePortal:Ct,disableRestoreFocus:xt,disableScrollLock:Vt,hideBackdrop:Dt,keepMounted:Bt}),{getRootProps:be,getBackdropProps:ke,getTransitionProps:Xe,portalRef:dr,isTopModal:Nr,exited:nr,hasTransition:Zr}=DP(Pt({},ue,{rootRef:i})),fr=Pt({},ue,{exited:nr}),vr=fI(fr),Sr={};if(U.props.tabIndex===void 0&&(Sr.tabIndex="-1"),Zr){const{onEnter:Gt,onExited:Se}=Xe();Sr.onEnter=Gt,Sr.onExited=Se}const Ee=(l=(f=Nt==null?void 0:Nt.root)!=null?f:et.Root)!=null?l:dI,lr=(m=(a=Nt==null?void 0:Nt.backdrop)!=null?a:et.Backdrop)!=null?m:M,xe=(x=te==null?void 0:te.root)!=null?x:dt.root,Ve=(b=te==null?void 0:te.backdrop)!=null?b:dt.backdrop,Je=Xu({elementType:Ee,externalSlotProps:xe,externalForwardedProps:oe,getSlotProps:be,additionalProps:{ref:i,as:it},ownerState:fr,className:Qn(N,xe==null?void 0:xe.className,vr==null?void 0:vr.root,!fr.open&&fr.exited&&(vr==null?void 0:vr.hidden))}),or=Xu({elementType:lr,externalSlotProps:Ve,additionalProps:k,getSlotProps:Gt=>ke(Pt({},Gt,{onClick:Se=>{Zt&&Zt(Se),Gt!=null&&Gt.onClick&&Gt.onClick(Se)}})),className:Qn(Ve==null?void 0:Ve.className,k==null?void 0:k.className,vr==null?void 0:vr.backdrop),ownerState:fr});return!Bt&&!Jt&&(!Zr||nr)?null:T(TP,{ref:dr,container:H,disablePortal:Ct,children:T(Ee,Pt({},Je,{children:[!Dt&&M?T(lr,Pt({},or)):null,T(SP,{disableEnforceFocus:at,disableAutoFocus:st,disableRestoreFocus:xt,isEnabled:Nr,open:Jt,children:Oa(U,Sr)})]}))})}),gI=yI,vI=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],_I=e=>{const{classes:n,disableUnderline:i}=e,f=bi({root:["root",!i&&"underline"],input:["input"]},JP,n);return Pt({},n,f)},bI=Mr(Id,{shouldForwardProp:e=>Js(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[...Td(e,n),!i.disableUnderline&&n.underline]}})(({theme:e,ownerState:n})=>{var i;const l=e.palette.mode==="light",f=l?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",m=l?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=l?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",x=l?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return Pt({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:m,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:m}},[`&.${xl.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:m},[`&.${xl.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:x}},!n.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(i=(e.vars||e).palette[n.color||"primary"])==null?void 0:i.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xl.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:f}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xl.disabled}, .${xl.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${xl.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&Pt({padding:"25px 12px 8px"},n.size==="small"&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),xI=Mr(Md,{name:"MuiFilledInput",slot:"Input",overridesResolver:Pd})(({theme:e,ownerState:n})=>Pt({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},n.size==="small"&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&n.size==="small"&&{paddingTop:8,paddingBottom:9})),jb=rn(function(n,i){var l,f,m,a;const x=Ai({props:n,name:"MuiFilledInput"}),{components:b={},componentsProps:P,fullWidth:M=!1,inputComponent:k="input",multiline:N=!1,slotProps:G,slots:U={},type:H="text"}=x,it=Cr(x,vI),et=Pt({},x,{fullWidth:M,inputComponent:k,multiline:N,type:H}),dt=_I(x),st={root:{ownerState:et},input:{ownerState:et}},at=G??P?uo(G??P,st):st,yt=(l=(f=U.root)!=null?f:b.Root)!=null?l:bI,Ct=(m=(a=U.input)!=null?a:b.Input)!=null?m:xI;return T($y,Pt({slots:{root:yt,input:Ct},componentsProps:at,fullWidth:M,inputComponent:k,multiline:N,ref:i,type:H},it,{classes:dt}))});jb.muiName="Input";const $b=jb;function wI(e){return di("MuiFormControl",e)}xi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const CI=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],SI=e=>{const{classes:n,margin:i,fullWidth:l}=e,f={root:["root",i!=="none"&&`margin${Wn(i)}`,l&&"fullWidth"]};return bi(f,wI,n)},EI=Mr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},n)=>Pt({},n.root,n[`margin${Wn(e.margin)}`],e.fullWidth&&n.fullWidth)})(({ownerState:e})=>Pt({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),TI=rn(function(n,i){const l=Ai({props:n,name:"MuiFormControl"}),{children:f,className:m,color:a="primary",component:x="div",disabled:b=!1,error:P=!1,focused:M,fullWidth:k=!1,hiddenLabel:N=!1,margin:G="none",required:U=!1,size:H="medium",variant:it="outlined"}=l,et=Cr(l,CI),dt=Pt({},l,{color:a,component:x,disabled:b,error:P,fullWidth:k,hiddenLabel:N,margin:G,required:U,size:H,variant:it}),st=SI(dt),[at,yt]=$e(()=>{let te=!1;return f&&$s.forEach(f,Nt=>{if(!V1(Nt,["Input","Select"]))return;const oe=V1(Nt,["Select"])?Nt.props.input:Nt;oe&&VP(oe.props)&&(te=!0)}),te}),[Ct,xt]=$e(()=>{let te=!1;return f&&$s.forEach(f,Nt=>{V1(Nt,["Input","Select"])&&(Af(Nt.props,!0)||Af(Nt.props.inputProps,!0))&&(te=!0)}),te}),[Vt,Dt]=$e(!1);b&&Vt&&Dt(!1);const Bt=M!==void 0&&!b?M:Vt;let Zt;const Jt=Cn(()=>({adornedStart:at,setAdornedStart:yt,color:a,disabled:b,error:P,filled:Ct,focused:Bt,fullWidth:k,hiddenLabel:N,size:H,onBlur:()=>{Dt(!1)},onEmpty:()=>{xt(!1)},onFilled:()=>{xt(!0)},onFocus:()=>{Dt(!0)},registerEffect:Zt,required:U,variant:it}),[at,a,b,P,Ct,Bt,k,N,Zt,U,H,it]);return T(jy.Provider,{value:Jt,children:T(EI,Pt({as:x,ownerState:dt,className:Qn(st.root,m),ref:i},et,{children:f}))})}),PI=TI;function II(e){return di("MuiFormHelperText",e)}const MI=xi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Z_=MI;var q_;const AI=["children","className","component","disabled","error","filled","focused","margin","required","variant"],kI=e=>{const{classes:n,contained:i,size:l,disabled:f,error:m,filled:a,focused:x,required:b}=e,P={root:["root",f&&"disabled",m&&"error",l&&`size${Wn(l)}`,i&&"contained",x&&"focused",a&&"filled",b&&"required"]};return bi(P,II,n)},OI=Mr("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,i.size&&n[`size${Wn(i.size)}`],i.contained&&n.contained,i.filled&&n.filled]}})(({theme:e,ownerState:n})=>Pt({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Z_.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Z_.error}`]:{color:(e.vars||e).palette.error.main}},n.size==="small"&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})),RI=rn(function(n,i){const l=Ai({props:n,name:"MuiFormHelperText"}),{children:f,className:m,component:a="p"}=l,x=Cr(l,AI),b=ic(),P=nc({props:l,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),M=Pt({},l,{component:a,contained:P.variant==="filled"||P.variant==="outlined",variant:P.variant,size:P.size,disabled:P.disabled,error:P.error,filled:P.filled,focused:P.focused,required:P.required}),k=kI(M);return T(OI,Pt({as:a,ownerState:M,className:Qn(k.root,m),ref:i},x,{children:f===" "?q_||(q_=T("span",{className:"notranslate",children:"​"})):f}))}),zI=RI;function DI(e){return di("MuiFormLabel",e)}const LI=xi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),yp=LI,BI=["children","className","color","component","disabled","error","filled","focused","required"],FI=e=>{const{classes:n,color:i,focused:l,disabled:f,error:m,filled:a,required:x}=e,b={root:["root",`color${Wn(i)}`,f&&"disabled",m&&"error",a&&"filled",l&&"focused",x&&"required"],asterisk:["asterisk",m&&"error"]};return bi(b,DI,n)},NI=Mr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},n)=>Pt({},n.root,e.color==="secondary"&&n.colorSecondary,e.filled&&n.filled)})(({theme:e,ownerState:n})=>Pt({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${yp.focused}`]:{color:(e.vars||e).palette[n.color].main},[`&.${yp.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${yp.error}`]:{color:(e.vars||e).palette.error.main}})),UI=Mr("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,n)=>n.asterisk})(({theme:e})=>({[`&.${yp.error}`]:{color:(e.vars||e).palette.error.main}})),VI=rn(function(n,i){const l=Ai({props:n,name:"MuiFormLabel"}),{children:f,className:m,component:a="label"}=l,x=Cr(l,BI),b=ic(),P=nc({props:l,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),M=Pt({},l,{color:P.color||"primary",component:a,disabled:P.disabled,error:P.error,filled:P.filled,focused:P.focused,required:P.required}),k=FI(M);return T(NI,Pt({as:a,ownerState:M,className:Qn(k.root,m),ref:i},x,{children:[f,P.required&&T(UI,{ownerState:M,"aria-hidden":!0,className:k.asterisk,children:[" ","*"]})]}))}),jI=VI,$I=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Dm(e){return`scale(${e}, ${e**2})`}const ZI={entering:{opacity:1,transform:Dm(1)},entered:{opacity:1,transform:"none"}},q1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Zb=rn(function(n,i){const{addEndListener:l,appear:f=!0,children:m,easing:a,in:x,onEnter:b,onEntered:P,onEntering:M,onExit:k,onExited:N,onExiting:G,style:U,timeout:H="auto",TransitionComponent:it=Nb}=n,et=Cr(n,$I),dt=Ae(),st=Ae(),at=Vy(),yt=Ae(null),Ct=jo(yt,m.ref,i),xt=oe=>ue=>{if(oe){const be=yt.current;ue===void 0?oe(be):oe(be,ue)}},Vt=xt(M),Dt=xt((oe,ue)=>{Ub(oe);const{duration:be,delay:ke,easing:Xe}=If({style:U,timeout:H,easing:a},{mode:"enter"});let dr;H==="auto"?(dr=at.transitions.getAutoHeightDuration(oe.clientHeight),st.current=dr):dr=be,oe.style.transition=[at.transitions.create("opacity",{duration:dr,delay:ke}),at.transitions.create("transform",{duration:q1?dr:dr*.666,delay:ke,easing:Xe})].join(","),b&&b(oe,ue)}),Bt=xt(P),Zt=xt(G),Jt=xt(oe=>{const{duration:ue,delay:be,easing:ke}=If({style:U,timeout:H,easing:a},{mode:"exit"});let Xe;H==="auto"?(Xe=at.transitions.getAutoHeightDuration(oe.clientHeight),st.current=Xe):Xe=ue,oe.style.transition=[at.transitions.create("opacity",{duration:Xe,delay:be}),at.transitions.create("transform",{duration:q1?Xe:Xe*.666,delay:q1?be:be||Xe*.333,easing:ke})].join(","),oe.style.opacity=0,oe.style.transform=Dm(.75),k&&k(oe)}),te=xt(N),Nt=oe=>{H==="auto"&&(dt.current=setTimeout(oe,st.current||0)),l&&l(yt.current,oe)};return pr(()=>()=>{clearTimeout(dt.current)},[]),T(it,Pt({appear:f,in:x,nodeRef:yt,onEnter:Dt,onEntered:Bt,onEntering:Vt,onExit:Jt,onExited:te,onExiting:Zt,addEndListener:Nt,timeout:H==="auto"?null:H},et,{children:(oe,ue)=>Oa(m,Pt({style:Pt({opacity:0,transform:Dm(.75),visibility:oe==="exited"&&!x?"hidden":void 0},ZI[oe],U,m.props.style),ref:Ct},ue))}))});Zb.muiSupportAuto=!0;const qI=Zb,WI=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],HI=e=>{const{classes:n,disableUnderline:i}=e,f=bi({root:["root",!i&&"underline"],input:["input"]},GP,n);return Pt({},n,f)},GI=Mr(Id,{shouldForwardProp:e=>Js(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[...Td(e,n),!i.disableUnderline&&n.underline]}})(({theme:e,ownerState:n})=>{let l=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(l=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),Pt({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${tp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${tp.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${l}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${tp.disabled}, .${tp.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${l}`}},[`&.${tp.disabled}:before`]:{borderBottomStyle:"dotted"}})}),XI=Mr(Md,{name:"MuiInput",slot:"Input",overridesResolver:Pd})({}),qb=rn(function(n,i){var l,f,m,a;const x=Ai({props:n,name:"MuiInput"}),{disableUnderline:b,components:P={},componentsProps:M,fullWidth:k=!1,inputComponent:N="input",multiline:G=!1,slotProps:U,slots:H={},type:it="text"}=x,et=Cr(x,WI),dt=HI(x),at={root:{ownerState:{disableUnderline:b}}},yt=U??M?uo(U??M,at):at,Ct=(l=(f=H.root)!=null?f:P.Root)!=null?l:GI,xt=(m=(a=H.input)!=null?a:P.Input)!=null?m:XI;return T($y,Pt({slots:{root:Ct,input:xt},slotProps:yt,fullWidth:k,inputComponent:N,multiline:G,ref:i,type:it},et,{classes:dt}))});qb.muiName="Input";const Wb=qb;function KI(e){return di("MuiInputLabel",e)}xi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const YI=["disableAnimation","margin","shrink","variant","className"],JI=e=>{const{classes:n,formControl:i,size:l,shrink:f,disableAnimation:m,variant:a,required:x}=e,b={root:["root",i&&"formControl",!m&&"animated",f&&"shrink",l&&l!=="normal"&&`size${Wn(l)}`,a],asterisk:[x&&"asterisk"]},P=bi(b,KI,n);return Pt({},n,P)},QI=Mr(jI,{shouldForwardProp:e=>Js(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[{[`& .${yp.asterisk}`]:n.asterisk},n.root,i.formControl&&n.formControl,i.size==="small"&&n.sizeSmall,i.shrink&&n.shrink,!i.disableAnimation&&n.animated,n[i.variant]]}})(({theme:e,ownerState:n})=>Pt({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},n.size==="small"&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},n.variant==="filled"&&Pt({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},n.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&Pt({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},n.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),n.variant==="outlined"&&Pt({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},n.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),tM=rn(function(n,i){const l=Ai({name:"MuiInputLabel",props:n}),{disableAnimation:f=!1,shrink:m,className:a}=l,x=Cr(l,YI),b=ic();let P=m;typeof P>"u"&&b&&(P=b.filled||b.focused||b.adornedStart);const M=nc({props:l,muiFormControl:b,states:["size","variant","required"]}),k=Pt({},l,{disableAnimation:f,formControl:b,shrink:P,size:M.size,variant:M.variant,required:M.required}),N=JI(k);return T(QI,Pt({"data-shrink":P,ownerState:k,ref:i,className:Qn(N.root,a)},x,{classes:N}))}),eM=tM,rM=Uo({}),nM=rM;function iM(e){return di("MuiList",e)}xi("MuiList",["root","padding","dense","subheader"]);const oM=["children","className","component","dense","disablePadding","subheader"],aM=e=>{const{classes:n,disablePadding:i,dense:l,subheader:f}=e;return bi({root:["root",!i&&"padding",l&&"dense",f&&"subheader"]},iM,n)},sM=Mr("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,!i.disablePadding&&n.padding,i.dense&&n.dense,i.subheader&&n.subheader]}})(({ownerState:e})=>Pt({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),lM=rn(function(n,i){const l=Ai({props:n,name:"MuiList"}),{children:f,className:m,component:a="ul",dense:x=!1,disablePadding:b=!1,subheader:P}=l,M=Cr(l,oM),k=Cn(()=>({dense:x}),[x]),N=Pt({},l,{component:a,dense:x,disablePadding:b}),G=aM(N);return T(nM.Provider,{value:k,children:T(sM,Pt({as:a,className:Qn(G.root,m),ref:i,ownerState:N},M,{children:[P,f]}))})}),uM=lM,cM=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function W1(e,n,i){return e===n?e.firstChild:n&&n.nextElementSibling?n.nextElementSibling:i?null:e.firstChild}function W_(e,n,i){return e===n?i?e.firstChild:e.lastChild:n&&n.previousElementSibling?n.previousElementSibling:i?null:e.lastChild}function Hb(e,n){if(n===void 0)return!0;let i=e.innerText;return i===void 0&&(i=e.textContent),i=i.trim().toLowerCase(),i.length===0?!1:n.repeating?i[0]===n.keys[0]:i.indexOf(n.keys.join(""))===0}function ep(e,n,i,l,f,m){let a=!1,x=f(e,n,n?i:!1);for(;x;){if(x===e.firstChild){if(a)return!1;a=!0}const b=l?!1:x.disabled||x.getAttribute("aria-disabled")==="true";if(!x.hasAttribute("tabindex")||!Hb(x,m)||b)x=f(e,x,i);else return x.focus(),!0}return!1}const pM=rn(function(n,i){const{actions:l,autoFocus:f=!1,autoFocusItem:m=!1,children:a,className:x,disabledItemsFocusable:b=!1,disableListWrap:P=!1,onKeyDown:M,variant:k="selectedMenu"}=n,N=Cr(n,cM),G=Ae(null),U=Ae({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ol(()=>{f&&G.current.focus()},[f]),Dl(l,()=>({adjustStyleForScrollbar:(st,at)=>{const yt=!G.current.style.width;if(st.clientHeight<G.current.clientHeight&&yt){const Ct=`${hb(wo(st))}px`;G.current.style[at.direction==="rtl"?"paddingLeft":"paddingRight"]=Ct,G.current.style.width=`calc(100% + ${Ct})`}return G.current}}),[]);const H=st=>{const at=G.current,yt=st.key,Ct=wo(at).activeElement;if(yt==="ArrowDown")st.preventDefault(),ep(at,Ct,P,b,W1);else if(yt==="ArrowUp")st.preventDefault(),ep(at,Ct,P,b,W_);else if(yt==="Home")st.preventDefault(),ep(at,null,P,b,W1);else if(yt==="End")st.preventDefault(),ep(at,null,P,b,W_);else if(yt.length===1){const xt=U.current,Vt=yt.toLowerCase(),Dt=performance.now();xt.keys.length>0&&(Dt-xt.lastTime>500?(xt.keys=[],xt.repeating=!0,xt.previousKeyMatched=!0):xt.repeating&&Vt!==xt.keys[0]&&(xt.repeating=!1)),xt.lastTime=Dt,xt.keys.push(Vt);const Bt=Ct&&!xt.repeating&&Hb(Ct,xt);xt.previousKeyMatched&&(Bt||ep(at,Ct,!1,b,W1,xt))?st.preventDefault():xt.previousKeyMatched=!1}M&&M(st)},it=jo(G,i);let et=-1;$s.forEach(a,(st,at)=>{if(!No(st)){et===at&&(et+=1,et>=a.length&&(et=-1));return}st.props.disabled||(k==="selectedMenu"&&st.props.selected||et===-1)&&(et=at),et===at&&(st.props.disabled||st.props.muiSkipListHighlight||st.type.muiSkipListHighlight)&&(et+=1,et>=a.length&&(et=-1))});const dt=$s.map(a,(st,at)=>{if(at===et){const yt={};return m&&(yt.autoFocus=!0),st.props.tabIndex===void 0&&k==="selectedMenu"&&(yt.tabIndex=0),Oa(st,yt)}return st});return T(uM,Pt({role:"menu",ref:it,className:x,onKeyDown:H,tabIndex:f?0:-1},N,{children:dt}))}),hM=pM;function fM(e){return di("MuiPopover",e)}xi("MuiPopover",["root","paper"]);const dM=["onEntering"],mM=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],yM=["slotProps"];function H_(e,n){let i=0;return typeof n=="number"?i=n:n==="center"?i=e.height/2:n==="bottom"&&(i=e.height),i}function G_(e,n){let i=0;return typeof n=="number"?i=n:n==="center"?i=e.width/2:n==="right"&&(i=e.width),i}function X_(e){return[e.horizontal,e.vertical].map(n=>typeof n=="number"?`${n}px`:n).join(" ")}function H1(e){return typeof e=="function"?e():e}const gM=e=>{const{classes:n}=e;return bi({root:["root"],paper:["paper"]},fM,n)},vM=Mr(gI,{name:"MuiPopover",slot:"Root",overridesResolver:(e,n)=>n.root})({}),Gb=Mr(fP,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,n)=>n.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),_M=rn(function(n,i){var l,f,m;const a=Ai({props:n,name:"MuiPopover"}),{action:x,anchorEl:b,anchorOrigin:P={vertical:"top",horizontal:"left"},anchorPosition:M,anchorReference:k="anchorEl",children:N,className:G,container:U,elevation:H=8,marginThreshold:it=16,open:et,PaperProps:dt={},slots:st,slotProps:at,transformOrigin:yt={vertical:"top",horizontal:"left"},TransitionComponent:Ct=qI,transitionDuration:xt="auto",TransitionProps:{onEntering:Vt}={},disableScrollLock:Dt=!1}=a,Bt=Cr(a.TransitionProps,dM),Zt=Cr(a,mM),Jt=(l=at==null?void 0:at.paper)!=null?l:dt,te=Ae(),Nt=jo(te,Jt.ref),oe=Pt({},a,{anchorOrigin:P,anchorReference:k,elevation:H,marginThreshold:it,externalPaperSlotProps:Jt,transformOrigin:yt,TransitionComponent:Ct,transitionDuration:xt,TransitionProps:Bt}),ue=gM(oe),be=cr(()=>{if(k==="anchorPosition")return M;const Gt=H1(b),ir=(Gt&&Gt.nodeType===1?Gt:wo(te.current).body).getBoundingClientRect();return{top:ir.top+H_(ir,P.vertical),left:ir.left+G_(ir,P.horizontal)}},[b,P.horizontal,P.vertical,M,k]),ke=cr(Gt=>({vertical:H_(Gt,yt.vertical),horizontal:G_(Gt,yt.horizontal)}),[yt.horizontal,yt.vertical]),Xe=cr(Gt=>{const Se={width:Gt.offsetWidth,height:Gt.offsetHeight},ir=ke(Se);if(k==="none")return{top:null,left:null,transformOrigin:X_(ir)};const _r=be();let hn=_r.top-ir.vertical,zr=_r.left-ir.horizontal;const mr=hn+Se.height,Mn=zr+Se.width,qe=kl(H1(b)),vn=qe.innerHeight-it,An=qe.innerWidth-it;if(it!==null&&hn<it){const Jr=hn-it;hn-=Jr,ir.vertical+=Jr}else if(it!==null&&mr>vn){const Jr=mr-vn;hn-=Jr,ir.vertical+=Jr}if(it!==null&&zr<it){const Jr=zr-it;zr-=Jr,ir.horizontal+=Jr}else if(Mn>An){const Jr=Mn-An;zr-=Jr,ir.horizontal+=Jr}return{top:`${Math.round(hn)}px`,left:`${Math.round(zr)}px`,transformOrigin:X_(ir)}},[b,k,be,ke,it]),[dr,Nr]=$e(et),nr=cr(()=>{const Gt=te.current;if(!Gt)return;const Se=Xe(Gt);Se.top!==null&&(Gt.style.top=Se.top),Se.left!==null&&(Gt.style.left=Se.left),Gt.style.transformOrigin=Se.transformOrigin,Nr(!0)},[Xe]);pr(()=>(Dt&&window.addEventListener("scroll",nr),()=>window.removeEventListener("scroll",nr)),[b,Dt,nr]);const Zr=(Gt,Se)=>{Vt&&Vt(Gt,Se),nr()},fr=()=>{Nr(!1)};pr(()=>{et&&nr()}),Dl(x,()=>et?{updatePosition:()=>{nr()}}:null,[et,nr]),pr(()=>{if(!et)return;const Gt=cb(()=>{nr()}),Se=kl(b);return Se.addEventListener("resize",Gt),()=>{Gt.clear(),Se.removeEventListener("resize",Gt)}},[b,et,nr]);let vr=xt;xt==="auto"&&!Ct.muiSupportAuto&&(vr=void 0);const Sr=U||(b?wo(H1(b)).body:void 0),Ee=(f=st==null?void 0:st.root)!=null?f:vM,lr=(m=st==null?void 0:st.paper)!=null?m:Gb,xe=Xu({elementType:lr,externalSlotProps:Pt({},Jt,{style:dr?Jt.style:Pt({},Jt.style,{opacity:0})}),additionalProps:{elevation:H,ref:Nt},ownerState:oe,className:Qn(ue.paper,Jt==null?void 0:Jt.className)}),Ve=Xu({elementType:Ee,externalSlotProps:(at==null?void 0:at.root)||{},externalForwardedProps:Zt,additionalProps:{ref:i,slotProps:{backdrop:{invisible:!0}},container:Sr,open:et},ownerState:oe,className:Qn(ue.root,G)}),{slotProps:Je}=Ve,or=Cr(Ve,yM);return T(Ee,Pt({},or,!Mf(Ee)&&{slotProps:Je,disableScrollLock:Dt},{children:T(Ct,Pt({appear:!0,in:et,onEntering:Zr,onExited:fr,timeout:vr},Bt,{children:T(lr,Pt({},xe,{children:N}))}))}))}),bM=_M;function xM(e){return di("MuiMenu",e)}xi("MuiMenu",["root","paper","list"]);const wM=["onEntering"],CM=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],SM={vertical:"top",horizontal:"right"},EM={vertical:"top",horizontal:"left"},TM=e=>{const{classes:n}=e;return bi({root:["root"],paper:["paper"],list:["list"]},xM,n)},PM=Mr(bM,{shouldForwardProp:e=>Js(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,n)=>n.root})({}),IM=Mr(Gb,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,n)=>n.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MM=Mr(hM,{name:"MuiMenu",slot:"List",overridesResolver:(e,n)=>n.list})({outline:0}),AM=rn(function(n,i){var l,f;const m=Ai({props:n,name:"MuiMenu"}),{autoFocus:a=!0,children:x,className:b,disableAutoFocusItem:P=!1,MenuListProps:M={},onClose:k,open:N,PaperProps:G={},PopoverClasses:U,transitionDuration:H="auto",TransitionProps:{onEntering:it}={},variant:et="selectedMenu",slots:dt={},slotProps:st={}}=m,at=Cr(m.TransitionProps,wM),yt=Cr(m,CM),Ct=Vy(),xt=Ct.direction==="rtl",Vt=Pt({},m,{autoFocus:a,disableAutoFocusItem:P,MenuListProps:M,onEntering:it,PaperProps:G,transitionDuration:H,TransitionProps:at,variant:et}),Dt=TM(Vt),Bt=a&&!P&&N,Zt=Ae(null),Jt=(Xe,dr)=>{Zt.current&&Zt.current.adjustStyleForScrollbar(Xe,Ct),it&&it(Xe,dr)},te=Xe=>{Xe.key==="Tab"&&(Xe.preventDefault(),k&&k(Xe,"tabKeyDown"))};let Nt=-1;$s.map(x,(Xe,dr)=>{No(Xe)&&(Xe.props.disabled||(et==="selectedMenu"&&Xe.props.selected||Nt===-1)&&(Nt=dr))});const oe=(l=dt.paper)!=null?l:IM,ue=(f=st.paper)!=null?f:G,be=Xu({elementType:dt.root,externalSlotProps:st.root,ownerState:Vt,className:[Dt.root,b]}),ke=Xu({elementType:oe,externalSlotProps:ue,ownerState:Vt,className:Dt.paper});return T(PM,Pt({onClose:k,anchorOrigin:{vertical:"bottom",horizontal:xt?"right":"left"},transformOrigin:xt?SM:EM,slots:{paper:oe,root:dt.root},slotProps:{root:be,paper:ke},open:N,ref:i,transitionDuration:H,TransitionProps:Pt({onEntering:Jt},at),ownerState:Vt},yt,{classes:U,children:T(MM,Pt({onKeyDown:te,actions:Zt,autoFocus:a&&(Nt===-1||P),autoFocusItem:Bt,variant:et},M,{className:Qn(Dt.list,M.className),children:x}))}))}),kM=AM;function OM(e){return di("MuiNativeSelect",e)}const RM=xi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Zy=RM,zM=["className","disabled","error","IconComponent","inputRef","variant"],DM=e=>{const{classes:n,variant:i,disabled:l,multiple:f,open:m,error:a}=e,x={select:["select",i,l&&"disabled",f&&"multiple",a&&"error"],icon:["icon",`icon${Wn(i)}`,m&&"iconOpen",l&&"disabled"]};return bi(x,OM,n)},Xb=({ownerState:e,theme:n})=>Pt({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":Pt({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:n.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Zy.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}),LM=Mr("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Js,overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.select,n[i.variant],i.error&&n.error,{[`&.${Zy.multiple}`]:n.multiple}]}})(Xb),Kb=({ownerState:e,theme:n})=>Pt({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Zy.disabled}`]:{color:(n.vars||n).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),BM=Mr("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.icon,i.variant&&n[`icon${Wn(i.variant)}`],i.open&&n.iconOpen]}})(Kb),FM=rn(function(n,i){const{className:l,disabled:f,error:m,IconComponent:a,inputRef:x,variant:b="standard"}=n,P=Cr(n,zM),M=Pt({},n,{disabled:f,variant:b,error:m}),k=DM(M);return T(en,{children:[T(LM,Pt({ownerState:M,className:Qn(k.select,l),disabled:f,ref:x||i},P)),n.multiple?null:T(BM,{as:a,ownerState:M,className:k.icon})]})}),NM=FM;var K_;const UM=["children","classes","className","label","notched"],VM=Mr("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),jM=Mr("legend")(({ownerState:e,theme:n})=>Pt({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},e.withLabel&&Pt({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})})));function $M(e){const{className:n,label:i,notched:l}=e,f=Cr(e,UM),m=i!=null&&i!=="",a=Pt({},e,{notched:l,withLabel:m});return T(VM,Pt({"aria-hidden":!0,className:n,ownerState:a},f,{children:T(jM,{ownerState:a,children:m?T("span",{children:i}):K_||(K_=T("span",{className:"notranslate",children:"​"}))})}))}const ZM=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],qM=e=>{const{classes:n}=e,l=bi({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},KP,n);return Pt({},n,l)},WM=Mr(Id,{shouldForwardProp:e=>Js(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Td})(({theme:e,ownerState:n})=>{const i=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Pt({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Fs.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Fs.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:i}},[`&.${Fs.focused} .${Fs.notchedOutline}`]:{borderColor:(e.vars||e).palette[n.color].main,borderWidth:2},[`&.${Fs.error} .${Fs.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Fs.disabled} .${Fs.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&Pt({padding:"16.5px 14px"},n.size==="small"&&{padding:"8.5px 14px"}))}),HM=Mr($M,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,n)=>n.notchedOutline})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),GM=Mr(Md,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Pd})(({theme:e,ownerState:n})=>Pt({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},n.size==="small"&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})),Yb=rn(function(n,i){var l,f,m,a,x;const b=Ai({props:n,name:"MuiOutlinedInput"}),{components:P={},fullWidth:M=!1,inputComponent:k="input",label:N,multiline:G=!1,notched:U,slots:H={},type:it="text"}=b,et=Cr(b,ZM),dt=qM(b),st=ic(),at=nc({props:b,muiFormControl:st,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),yt=Pt({},b,{color:at.color||"primary",disabled:at.disabled,error:at.error,focused:at.focused,formControl:st,fullWidth:M,hiddenLabel:at.hiddenLabel,multiline:G,size:at.size,type:it}),Ct=(l=(f=H.root)!=null?f:P.Root)!=null?l:WM,xt=(m=(a=H.input)!=null?a:P.Input)!=null?m:GM;return T($y,Pt({slots:{root:Ct,input:xt},renderSuffix:Vt=>T(HM,{ownerState:yt,className:dt.notchedOutline,label:N!=null&&N!==""&&at.required?x||(x=T(en,{children:[N," ","*"]})):N,notched:typeof U<"u"?U:!!(Vt.startAdornment||Vt.filled||Vt.focused)}),fullWidth:M,inputComponent:k,multiline:G,ref:i,type:it},et,{classes:Pt({},dt,{notchedOutline:null})}))});Yb.muiName="Input";const Jb=Yb;function XM(e){return di("MuiSelect",e)}const KM=xi("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),rp=KM;var Y_;const YM=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],JM=Mr("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[{[`&.${rp.select}`]:n.select},{[`&.${rp.select}`]:n[i.variant]},{[`&.${rp.error}`]:n.error},{[`&.${rp.multiple}`]:n.multiple}]}})(Xb,{[`&.${rp.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),QM=Mr("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.icon,i.variant&&n[`icon${Wn(i.variant)}`],i.open&&n.iconOpen]}})(Kb),tA=Mr("input",{shouldForwardProp:e=>JT(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,n)=>n.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function J_(e,n){return typeof n=="object"&&n!==null?e===n:String(e)===String(n)}function eA(e){return e==null||typeof e=="string"&&!e.trim()}const rA=e=>{const{classes:n,variant:i,disabled:l,multiple:f,open:m,error:a}=e,x={select:["select",i,l&&"disabled",f&&"multiple",a&&"error"],icon:["icon",`icon${Wn(i)}`,m&&"iconOpen",l&&"disabled"],nativeInput:["nativeInput"]};return bi(x,XM,n)},nA=rn(function(n,i){var l;const{"aria-describedby":f,"aria-label":m,autoFocus:a,autoWidth:x,children:b,className:P,defaultOpen:M,defaultValue:k,disabled:N,displayEmpty:G,error:U=!1,IconComponent:H,inputRef:it,labelId:et,MenuProps:dt={},multiple:st,name:at,onBlur:yt,onChange:Ct,onClose:xt,onFocus:Vt,onOpen:Dt,open:Bt,readOnly:Zt,renderValue:Jt,SelectDisplayProps:te={},tabIndex:Nt,value:oe,variant:ue="standard"}=n,be=Cr(n,YM),[ke,Xe]=f_({controlled:oe,default:k,name:"Select"}),[dr,Nr]=f_({controlled:Bt,default:M,name:"Select"}),nr=Ae(null),Zr=Ae(null),[fr,vr]=$e(null),{current:Sr}=Ae(Bt!=null),[Ee,lr]=$e(),xe=jo(i,it),Ve=cr(Oe=>{Zr.current=Oe,Oe&&vr(Oe)},[]),Je=fr==null?void 0:fr.parentNode;Dl(xe,()=>({focus:()=>{Zr.current.focus()},node:nr.current,value:ke}),[ke]),pr(()=>{M&&dr&&fr&&!Sr&&(lr(x?null:Je.clientWidth),Zr.current.focus())},[fr,x]),pr(()=>{a&&Zr.current.focus()},[a]),pr(()=>{if(!et)return;const Oe=wo(Zr.current).getElementById(et);if(Oe){const Ar=()=>{getSelection().isCollapsed&&Zr.current.focus()};return Oe.addEventListener("click",Ar),()=>{Oe.removeEventListener("click",Ar)}}},[et]);const or=(Oe,Ar)=>{Oe?Dt&&Dt(Ar):xt&&xt(Ar),Sr||(lr(x?null:Je.clientWidth),Nr(Oe))},Gt=Oe=>{Oe.button===0&&(Oe.preventDefault(),Zr.current.focus(),or(!0,Oe))},Se=Oe=>{or(!1,Oe)},ir=$s.toArray(b),_r=Oe=>{const Ar=ir.find(on=>on.props.value===Oe.target.value);Ar!==void 0&&(Xe(Ar.props.value),Ct&&Ct(Oe,Ar))},hn=Oe=>Ar=>{let on;if(Ar.currentTarget.hasAttribute("tabindex")){if(st){on=Array.isArray(ke)?ke.slice():[];const Oi=ke.indexOf(Oe.props.value);Oi===-1?on.push(Oe.props.value):on.splice(Oi,1)}else on=Oe.props.value;if(Oe.props.onClick&&Oe.props.onClick(Ar),ke!==on&&(Xe(on),Ct)){const Oi=Ar.nativeEvent||Ar,Mo=new Oi.constructor(Oi.type,Oi);Object.defineProperty(Mo,"target",{writable:!0,value:{value:on,name:at}}),Ct(Mo,Oe)}st||or(!1,Ar)}},zr=Oe=>{Zt||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Oe.key)!==-1&&(Oe.preventDefault(),or(!0,Oe))},mr=fr!==null&&dr,Mn=Oe=>{!mr&&yt&&(Object.defineProperty(Oe,"target",{writable:!0,value:{value:ke,name:at}}),yt(Oe))};delete be["aria-invalid"];let qe,vn;const An=[];let Jr=!1;(Af({value:ke})||G)&&(Jt?qe=Jt(ke):Jr=!0);const ki=ir.map(Oe=>{if(!No(Oe))return null;let Ar;if(st){if(!Array.isArray(ke))throw new Error(Ws(2));Ar=ke.some(on=>J_(on,Oe.props.value)),Ar&&Jr&&An.push(Oe.props.children)}else Ar=J_(ke,Oe.props.value),Ar&&Jr&&(vn=Oe.props.children);return Oa(Oe,{"aria-selected":Ar?"true":"false",onClick:hn(Oe),onKeyUp:on=>{on.key===" "&&on.preventDefault(),Oe.props.onKeyUp&&Oe.props.onKeyUp(on)},role:"option",selected:Ar,value:void 0,"data-value":Oe.props.value})});Jr&&(st?An.length===0?qe=null:qe=An.reduce((Oe,Ar,on)=>(Oe.push(Ar),on<An.length-1&&Oe.push(", "),Oe),[]):qe=vn);let mi=Ee;!x&&Sr&&fr&&(mi=Je.clientWidth);let Ci;typeof Nt<"u"?Ci=Nt:Ci=N?null:0;const Dr=te.id||(at?`mui-component-select-${at}`:void 0),Si=Pt({},n,{variant:ue,value:ke,open:mr,error:U}),ti=rA(Si),li=Pt({},dt.PaperProps,(l=dt.slotProps)==null?void 0:l.paper),Zi=pb();return T(en,{children:[T(JM,Pt({ref:Ve,tabIndex:Ci,role:"combobox","aria-controls":Zi,"aria-disabled":N?"true":void 0,"aria-expanded":mr?"true":"false","aria-haspopup":"listbox","aria-label":m,"aria-labelledby":[et,Dr].filter(Boolean).join(" ")||void 0,"aria-describedby":f,onKeyDown:zr,onMouseDown:N||Zt?null:Gt,onBlur:Mn,onFocus:Vt},te,{ownerState:Si,className:Qn(te.className,ti.select,P),id:Dr,children:eA(qe)?Y_||(Y_=T("span",{className:"notranslate",children:"​"})):qe})),T(tA,Pt({"aria-invalid":U,value:Array.isArray(ke)?ke.join(","):ke,name:at,ref:nr,"aria-hidden":!0,onChange:_r,tabIndex:-1,disabled:N,className:ti.nativeInput,autoFocus:a,ownerState:Si},be)),T(QM,{as:H,className:ti.icon,ownerState:Si}),T(kM,Pt({id:`menu-${at||""}`,anchorEl:Je,open:mr,onClose:Se,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},dt,{MenuListProps:Pt({"aria-labelledby":et,role:"listbox","aria-multiselectable":st?"true":void 0,disableListWrap:!0,id:Zi},dt.MenuListProps),slotProps:Pt({},dt.slotProps,{paper:Pt({},li,{style:Pt({minWidth:mi},li!=null?li.style:null)})}),children:ki}))]})}),iA=nA,oA=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],aA=["root"],sA=e=>{const{classes:n}=e;return n},qy={name:"MuiSelect",overridesResolver:(e,n)=>n.root,shouldForwardProp:e=>Js(e)&&e!=="variant",slot:"Root"},lA=Mr(Wb,qy)(""),uA=Mr(Jb,qy)(""),cA=Mr($b,qy)(""),Qb=rn(function(n,i){const l=Ai({name:"MuiSelect",props:n}),{autoWidth:f=!1,children:m,classes:a={},className:x,defaultOpen:b=!1,displayEmpty:P=!1,IconComponent:M=tI,id:k,input:N,inputProps:G,label:U,labelId:H,MenuProps:it,multiple:et=!1,native:dt=!1,onClose:st,onOpen:at,open:yt,renderValue:Ct,SelectDisplayProps:xt,variant:Vt="outlined"}=l,Dt=Cr(l,oA),Bt=dt?NM:iA,Zt=ic(),Jt=nc({props:l,muiFormControl:Zt,states:["variant","error"]}),te=Jt.variant||Vt,Nt=Pt({},l,{variant:te,classes:a}),oe=sA(Nt),ue=Cr(oe,aA),be=N||{standard:T(lA,{ownerState:Nt}),outlined:T(uA,{label:U,ownerState:Nt}),filled:T(cA,{ownerState:Nt})}[te],ke=jo(i,be.ref);return T(en,{children:Oa(be,Pt({inputComponent:Bt,inputProps:Pt({children:m,error:Jt.error,IconComponent:M,variant:te,type:void 0,multiple:et},dt?{id:k}:{autoWidth:f,defaultOpen:b,displayEmpty:P,labelId:H,MenuProps:it,onClose:st,onOpen:at,open:yt,renderValue:Ct,SelectDisplayProps:Pt({id:k},xt)},G,{classes:G?uo(ue,G.classes):ue},N?N.props.inputProps:{})},et&&dt&&te==="outlined"?{notched:!0}:{},{ref:ke,className:Qn(be.props.className,x,oe.root)},!N&&{variant:te},Dt))})});Qb.muiName="Select";const pA=Qb;function hA(e){return di("MuiTextField",e)}xi("MuiTextField",["root"]);const fA=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],dA={standard:Wb,filled:$b,outlined:Jb},mA=e=>{const{classes:n}=e;return bi({root:["root"]},hA,n)},yA=Mr(PI,{name:"MuiTextField",slot:"Root",overridesResolver:(e,n)=>n.root})({}),gA=rn(function(n,i){const l=Ai({props:n,name:"MuiTextField"}),{autoComplete:f,autoFocus:m=!1,children:a,className:x,color:b="primary",defaultValue:P,disabled:M=!1,error:k=!1,FormHelperTextProps:N,fullWidth:G=!1,helperText:U,id:H,InputLabelProps:it,inputProps:et,InputProps:dt,inputRef:st,label:at,maxRows:yt,minRows:Ct,multiline:xt=!1,name:Vt,onBlur:Dt,onChange:Bt,onFocus:Zt,placeholder:Jt,required:te=!1,rows:Nt,select:oe=!1,SelectProps:ue,type:be,value:ke,variant:Xe="outlined"}=l,dr=Cr(l,fA),Nr=Pt({},l,{autoFocus:m,color:b,disabled:M,error:k,fullWidth:G,multiline:xt,required:te,select:oe,variant:Xe}),nr=mA(Nr),Zr={};Xe==="outlined"&&(it&&typeof it.shrink<"u"&&(Zr.notched=it.shrink),Zr.label=at),oe&&((!ue||!ue.native)&&(Zr.id=void 0),Zr["aria-describedby"]=void 0);const fr=pb(H),vr=U&&fr?`${fr}-helper-text`:void 0,Sr=at&&fr?`${fr}-label`:void 0,Ee=dA[Xe],lr=T(Ee,Pt({"aria-describedby":vr,autoComplete:f,autoFocus:m,defaultValue:P,fullWidth:G,multiline:xt,name:Vt,rows:Nt,maxRows:yt,minRows:Ct,type:be,value:ke,id:fr,inputRef:st,onBlur:Dt,onChange:Bt,onFocus:Zt,placeholder:Jt,inputProps:et},Zr,dt));return T(yA,Pt({className:Qn(nr.root,x),disabled:M,error:k,fullWidth:G,ref:i,required:te,color:b,variant:Xe,ownerState:Nr},dr,{children:[at!=null&&at!==""&&T(eM,Pt({htmlFor:fr,id:Sr},it,{children:at})),oe?T(pA,Pt({"aria-describedby":vr,id:fr,labelId:Sr,value:ke,input:lr},ue,{children:a})):lr,U&&T(zI,Pt({id:vr},N,{children:U}))]}))}),vA=gA;function _A(){const{data:e}=zp("config"),[n,i]=$e("grid"),l=f=>{f===0?i("grid"):f===1&&i("map"),console.log(n)};return e?T("div",{className:"w-full h-full flex flex-col",children:[T("div",{className:"flex flex-wrap gap-2 items-center p-2 px-4 justify-end",children:[T(vA,{className:"w-64 ",style:{margin:0,color:"currentcolor",outlineColor:"currentcolor"},size:"small",type:"text",name:"searchBar",label:"Tìm kiếm",variant:"outlined",sx:{mb:2}}),T(f8,{selectedIndex:0,onChange:l,className:"justify",children:[T(cv,{icon:T(h8,{className:"h-8 w-8",onClick:()=>{}})}),T(cv,{icon:T(c8,{className:"h-7 w-7",onClick:()=>{}})})]})]}),T(bA,{config:e,viewType:n})]}):T(qm,{})}function bA({config:e,viewType:n}){return n==="grid"?T("div",{className:"grid grid-cols-1 3xl:grid-cols-3 md:grid-cols-2 gap-4 p-2 px-4",children:T(xA,{config:e,unsortedCameras:e.cameras})}):n==="map"?T("div",{className:"flex-1 px-4",children:T(U9,{})}):T(en,{})}function xA({config:e,unsortedCameras:n}){const i=Cn(()=>Object.entries(n).filter(([l,f])=>f.ui.dashboard).sort(([l,f],[m,a])=>f.ui.order-a.ui.order),[n]);return T(en,{children:i.map(([l,f])=>T(wA,{name:l,config:e.cameras[l],conf:f},l))})}function wA({name:e,config:n}){const{payload:i,send:l}=sw(e),{payload:f,send:m}=lw(e),{payload:a,send:x}=uw(e),{payload:b,send:P}=cw(e),M=`/cameras/${e}`,k=Cn(()=>[{name:"Sự kiện",href:`/events?cameras=${e}`},{name:"Ghi hình",href:`/recording/${e}`}],[e]),N=Cn(()=>`${e.replaceAll("_"," ")}`,[e]),G=Cn(()=>[{name:`Nhận diện ${i==="ON"?"tắt":"bật"}`,icon:a8,color:i==="ON"?"blue":"gray",onClick:()=>{l(i==="ON"?"OFF":"ON",!0)}},{name:n.record.enabled_in_config?`Ghi hình ${f==="ON"?"tắt":"bật"}`:"Cần khởi động chức năng ghi hình trong cấu hình trước.",icon:i8,color:n.record.enabled_in_config?f==="ON"?"blue":"gray":"red",onClick:()=>{n.record.enabled_in_config&&m(f==="ON"?"OFF":"ON",!0)}},{name:`Chụp hình ${a==="ON"?"tắt":"bật"}`,icon:l8,color:a==="ON"?"blue":"gray",onClick:()=>{x(a==="ON"?"OFF":"ON",!0)}}].filter(U=>U!=null),[n,b,P,i,l,f,m,a,x]);return T(fw,{buttons:k,href:M,header:N,icons:G,media:T(e8,{camera:e,stretch:!0})})}var CA={};function ip(e,n){for(var i in n)e[i]=n[i];return e}function kf(e,n,i){var l,f=/(?:\?([^#]*))?(#.*)?$/,m=e.match(f),a={};if(m&&m[1])for(var x=m[1].split("&"),b=0;b<x.length;b++){var P=x[b].split("=");a[decodeURIComponent(P[0])]=decodeURIComponent(P.slice(1).join("="))}e=Lm(e.replace(f,"")),n=Lm(n||"");for(var M=Math.max(e.length,n.length),k=0;k<M;k++)if(n[k]&&n[k].charAt(0)===":"){var N=n[k].replace(/(^:|[+*?]+$)/g,""),G=(n[k].match(/[+*?]+$/)||CA)[0]||"",U=~G.indexOf("+"),H=~G.indexOf("*"),it=e[k]||"";if(!it&&!H&&(G.indexOf("?")<0||U)){l=!1;break}if(a[N]=decodeURIComponent(it),U||H){a[N]=e.slice(k).map(decodeURIComponent).join("/");break}}else if(n[k]!==e[k]){l=!1;break}return(i.default===!0||l!==!1)&&a}function SA(e,n){return e.rank<n.rank?1:e.rank>n.rank?-1:e.index-n.index}function EA(e,n){return e.index=n,e.rank=function(i){return i.props.default?0:Lm(i.props.path).map(TA).join("")}(e),e.props}function Lm(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function TA(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var PA={},Il=[],gp=[],_o=null,Wy={url:Hy()},tx=Uo(Wy);function ex(){var e=Mi(tx);if(e===Wy){var n=$e()[1];pr(function(){return gp.push(n),function(){return gp.splice(gp.indexOf(n),1)}},[])}return[e,rx]}function Hy(){var e;return""+((e=_o&&_o.location?_o.location:_o&&_o.getCurrentLocation?_o.getCurrentLocation():typeof location<"u"?location:PA).pathname||"")+(e.search||"")}function rx(e,n){return n===void 0&&(n=!1),typeof e!="string"&&e.url&&(n=e.replace,e=e.url),function(i){for(var l=Il.length;l--;)if(Il[l].canRoute(i))return!0;return!1}(e)&&function(i,l){l===void 0&&(l="push"),_o&&_o[l]?_o[l](i):typeof history<"u"&&history[l+"State"]&&history[l+"State"](null,null,i)}(e,n?"replace":"push"),nx(e)}function nx(e){for(var n=!1,i=0;i<Il.length;i++)Il[i].routeTo(e)&&(n=!0);return n}function IA(e){if(e&&e.getAttribute){var n=e.getAttribute("href"),i=e.getAttribute("target");if(n&&n.match(/^\//g)&&(!i||i.match(/^_?self$/i)))return rx(n)}}function MA(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function ix(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var n=e.target;do if(n.localName==="a"&&n.getAttribute("href")){if(n.hasAttribute("data-native")||n.hasAttribute("native"))return;if(IA(n))return MA(e)}while(n=n.parentNode)}}var Q_=!1;function ox(e){e.history&&(_o=e.history),this.state={url:e.url||Hy()}}ip(ox.prototype=new xo,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var n=aa(this.props.children);return this.g(n,e)!==void 0},routeTo:function(e){this.setState({url:e});var n=this.canRoute(e);return this.p||this.forceUpdate(),n},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;Q_||(Q_=!0,_o||addEventListener("popstate",function(){nx(Hy())}),addEventListener("click",ix)),Il.push(this),_o&&(this.u=_o.listen(function(n){var i=n.location||n;e.routeTo(""+(i.pathname||"")+(i.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),Il.splice(Il.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,n){e=e.filter(EA).sort(SA);for(var i=0;i<e.length;i++){var l=e[i],f=kf(n,l.props.path,l.props);if(f)return[l,f]}},render:function(e,n){var i,l,f=e.onChange,m=n.url,a=this.c,x=this.g(aa(e.children),m);if(x&&(l=h2(x[0],ip(ip({url:m,matches:i=x[1]},i),{key:void 0,ref:void 0}))),m!==(a&&a.url)){ip(Wy,a=this.c={url:m,previous:a&&a.url,current:l,path:l?l.props.path:null,matches:i}),a.router=this,a.active=l?[l]:[];for(var b=gp.length;b--;)gp[b]({});typeof f=="function"&&f(a)}return Ue(tx.Provider,{value:a},l)}});var AA=function(e){return Ue("a",ip({onClick:ix},e))},kA=["className","activeClass","activeClassName","path"];function t2(e){var n=ex()[0];return e.children({url:n.url,path:n.path,matches:kf(n.path||n.url,e.path,{})!==!1})}function OA(e){var n=e.className,i=e.activeClass,l=e.activeClassName,f=e.path,m=function(M,k){if(M==null)return{};var N,G,U={},H=Object.keys(M);for(G=0;G<H.length;G++)k.indexOf(N=H[G])>=0||(U[N]=M[N]);return U}(e,kA),a=ex()[0],x=f&&a.path&&kf(a.path,f,{})||kf(a.url,m.href,{}),b=m.class||n||"",P=x&&(i||l)||"";return m.class=b+(b&&P&&" ")+P,Ue(AA,m)}function RA({children:e,header:n}){const{showDrawer:i,setShowDrawer:l}=Hm(),f=cr(()=>{l(!1)},[l]);return T(en,{children:[i?T("div",{"data-testid":"scrim",className:"fixed inset-0 z-20",onClick:f},"scrim"):"",T("div",{"data-testid":"drawer",className:`fixed left-0 top-0 bottom-0 lg:sticky max-h-screen flex flex-col w-64 text-gray-700 bg-white dark:text-gray-200 dark:bg-gray-900 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 shadow lg:shadow-none z-20 lg:z-0 transform ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"} transition-transform duration-300`,onClick:f,children:[n?T("div",{className:"flex-shrink-0 p-2 flex flex-row items-center justify-between border-b border-gray-200 dark:border-gray-700",children:n}):null,T("nav",{className:"flex flex-col flex-grow overflow-hidden overflow-y-auto p-2 space-y-2",children:e})]},"drawer")]})}function wa({className:e="",href:n,text:i,...l}){const f=n.startsWith("http"),m=f?{rel:"noopener nofollow",target:"_blank"}:{},{setShowDrawer:a}=Hm(),x=cr(()=>{setTimeout(()=>{a(!1)},250)},[a]),b={[f?e:"class"]:"block p-2 text-sm font-semibold text-gray-900 rounded hover:bg-blue-500 dark:text-gray-200 hover:text-white dark:hover:text-white focus:outline-none ring-opacity-50 focus:ring-2 ring-blue-300"};return T(f?"a":OA,{activeClassName:"bg-blue-500 bg-opacity-50 text-white",...b,href:n,...m,...l,children:T("div",{onClick:x,children:i})})}function Yu(){return T("div",{className:"border-b border-gray-200 dark:border-gray-700 -mx-2"})}function zA(){const{data:e}=zp("config"),n=Cn(()=>e?Object.entries(e.cameras).filter(([l,f])=>f.ui.dashboard).sort(([l,f],[m,a])=>f.ui.order-a.ui.order):[],[e]);if(!e)return null;const{birdseye:i}=e;return T(RA,{header:T(BA,{}),children:[T(wa,{href:"/",text:"Cameras"}),T(t2,{path:"/cameras/:camera/:other?",children:({matches:l})=>l?T(DA,{sortedCameras:n}):null}),T(t2,{path:"/recording/:camera/:date?/:hour?/:seconds?",children:({matches:l})=>l?T(LA,{sortedCameras:n}):null}),i!=null&&i.enabled?T(wa,{href:"/birdseye",text:"Trực tiếp"}):null,T(wa,{href:"/events",text:"Sự kiện"}),T(wa,{href:"/exports",text:"Xuất dữ liệu"}),T(Yu,{}),T(wa,{href:"/storage",text:"Lưu trữ"}),T(wa,{href:"/system",text:"Hệ thống"}),T(wa,{href:"/config",text:"Cấu hình"}),T(wa,{href:"/logs",text:"Logs"}),T(Yu,{}),T("div",{className:"flex flex-grow"})]})}function DA({sortedCameras:e}){return T(en,{children:[T(Yu,{}),T("div",{className:"overflow-auto pr-2",children:e.map(([n])=>T(wa,{href:`/cameras/${n}`,text:n.replaceAll("_"," ")},n))}),T(Yu,{})]})}function LA({sortedCameras:e}){return T(en,{children:[T(Yu,{}),T("div",{className:"overflow-auto pr-2",children:e.map(([n,i])=>T(wa,{path:`/recording/${n}/:date?/:hour?/:seconds?`,href:`/recording/${n}`,text:n.replaceAll("_"," ")},n))}),T(Yu,{})]})}const BA=In(()=>T("div",{className:"text-gray-500",children:T(V2,{})}));function FA(){var f;const{data:e}=zp("config"),[n,i]=$e(localStorage.getItem("isLogin")?localStorage.getItem("isLogin"):!1),l=e&&((f=e.ui)!=null&&f.use_experimental)?X3:G3;return T(R4,{children:T(D4,{children:T("div",{"data-testid":"app",className:"w-full",children:[T(hw,{}),e?T(en,{children:[!n&&T("div",{style:{height:"600px",margin:"auto"},className:"bg-white",children:T(Bo,{path:"/login",getComponent:o4})}),n&&T("div",{className:"flex flex-row min-h-screen w-full bg-white dark:bg-gray-900 text-gray-900 dark:text-white",children:[T(zA,{}),T("div",{className:"w-full flex-auto mt-16 min-w-0",children:T(ox,{children:[T(Bo,{path:"/cameras/:camera/editor",getComponent:H3}),T(Bo,{path:"/cameras/:camera",getComponent:l}),T(Bo,{path:"/birdseye",getComponent:K3}),T(Bo,{path:"/events",getComponent:Y3}),T(Bo,{path:"/exports",getComponent:J3}),T(Bo,{path:"/recording/:camera/:date?/:hour?/:minute?/:second?",getComponent:Q3}),T(Bo,{path:"/storage",getComponent:e4}),T(Bo,{path:"/system",getComponent:t4}),T(Bo,{path:"/config",getComponent:r4}),T(Bo,{path:"/logs",getComponent:n4}),T(Bo,{path:"/styleguide",getComponent:i4}),T(_A,{default:!0,path:"/"})]})})]})]}):T("div",{className:"flex flex-grow-1 min-h-screen justify-center items-center",children:T(qm,{})})]})})})}Uu(T(Y6,{children:T(FA,{})}),document.getElementById("app"));export{rx as $,qm as A,fw as B,e8 as C,H4 as D,jA as E,Cn as F,Pt as G,Gm as H,Qu as I,OA as J,To as K,Cr as L,N4 as M,Ly as N,Ns as O,sE as P,By as Q,rn as R,s8 as S,cr as T,Ny as U,Qn as V,Uo as W,Mi as X,iT as Y,ky as Z,Ae as _,t8 as a,id as a0,$s as a1,No as a2,Oa as a3,aP as a4,ns as a5,xa as a6,Fb as a7,xi as a8,WA as a9,Tt as aA,vA as aB,b2 as aC,Tu as aD,kM as aE,c_ as aF,cb as aG,V1 as aH,wo as aI,kl as aJ,Am as aK,Ol as aL,TP as aM,Xu as aN,Nb as aO,Ub as aP,If as aQ,gI as aR,vT as aS,vd as aT,nM as aU,qI as aV,dP as aW,ap as aX,Rf as aY,Mr as aa,Ai as ab,Dl as ac,di as ad,jo as ae,d_ as af,bi as ag,Wn as ah,A_ as ai,oP as aj,KT as ak,rS as al,Js as am,fb as an,fP as ao,f_ as ap,ic as aq,QS as ar,Vy as as,HA as at,ps as au,ST as av,CT as aw,pb as ax,Ue as ay,Q1 as az,Q6 as b,M5 as c,bp as d,NA as e,Xm as f,f8 as g,$e as h,VA as i,UA as j,en as k,qA as l,Kc as m,n8 as n,T as o,pr as p,sf as q,N9 as r,O5 as s,qu as t,zp as u,M4 as v,_8 as w,In as x,Po as y,$A as z};
